import{H as mh}from"./control.f5b05b5f.js";import{r as vf,s as nr,c as It,u as Pt,g as zt,d as jt,f as zr,w as Jt,i as rr,j as jr,p as _r,h as ro,o as ec,e as xe,x as tt,m as bh,b as ao,n as ff}from"./scheduler.9eabb343.js";import{d as gt,S as ur,i as cr,g as Xt,h as Wt,j as it,f as Ne,k as J,a as ot,t as xt,e as sr,y as ou,z as Zt,E as Gn,p as tc,b as rc,s as ha,C as gh,c as ma,x as At,F as fu,G as qt,H as Yt,l as Qe,I as vh,m as _f,n as yf,o as pf,J as lu}from"./index.3fd3c9c8.js";import{w as et,d as pt}from"./index.8d5d2cfe.js";function lf(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function nc(e,t){e.d(1),t.delete(e.key)}function ac(e,t,r,n,i,o,f,l,m,c,g,T){let k=e.length,D=o.length,z=k;const W={};for(;z--;)W[e[z].key]=z;const Y=[],Ae=new Map,De=new Map,Ce=[];for(z=D;z--;){const Te=T(i,o,z),Ie=r(Te);let Ze=f.get(Ie);Ze?n&&Ce.push(()=>Ze.p(Te,t)):(Ze=c(Ie,Te),Ze.c()),Ae.set(Ie,Y[z]=Ze),Ie in W&&De.set(Ie,Math.abs(z-W[Ie]))}const Ee=new Set,Ve=new Set;function Q(Te){gt(Te,1),Te.m(l,g),f.set(Te.key,Te),g=Te.first,D--}for(;k&&D;){const Te=Y[D-1],Ie=e[k-1],Ze=Te.key,lt=Ie.key;Te===Ie?(g=Te.first,k--,D--):Ae.has(lt)?!f.has(Ze)||Ee.has(Ze)?Q(Te):Ve.has(lt)?k--:De.get(Ze)>De.get(lt)?(Ve.add(Ze),Q(Te)):(Ee.add(lt),k--):(m(Ie,f),k--)}for(;k--;){const Te=e[k];Ae.has(Te.key)||m(Te,f)}for(;D;)Q(Y[D-1]);return vf(Ce),Y}function lo(e,t){const r={},n={},i={$$scope:1};let o=e.length;for(;o--;){const f=e[o],l=t[o];if(l){for(const m in f)m in l||(n[m]=1);for(const m in l)i[m]||(r[m]=l[m],i[m]=1);e[o]=l}else for(const m in f)i[m]=1}for(const f in n)f in r||(r[f]=void 0);return r}function Pb(e){return typeof e=="object"&&e!==null?e:{}}function zb(e,t){return new mh(e,t)}new TextEncoder;const pl="-";function _h(e){const t=ph(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;function i(f){const l=f.split(pl);return l[0]===""&&l.length!==1&&l.shift(),ic(l,t)||yh(f)}function o(f,l){const m=r[f]||[];return l&&n[f]?[...m,...n[f]]:m}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function ic(e,t){var f;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?ic(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(pl);return(f=t.validators.find(({validator:l})=>l(o)))==null?void 0:f.classGroupId}const su=/^\[(.+)\]$/;function yh(e){if(su.test(e)){const t=su.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function ph(e){const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return Eh(Object.entries(e.classGroups),r).forEach(([o,f])=>{gl(f,n,o,t)}),n}function gl(e,t,r,n){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:uu(t,i);o.classGroupId=r;return}if(typeof i=="function"){if(xh(i)){gl(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,f])=>{gl(f,uu(t,o),r,n)})})}function uu(e,t){let r=e;return t.split(pl).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function xh(e){return e.isThemeGetter}function Eh(e,t){return t?e.map(([r,n])=>{const i=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([f,l])=>[t+f,l])):o);return[r,i]}):e}function wh(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;function i(o,f){r.set(o,f),t++,t>e&&(t=0,n=r,r=new Map)}return{get(o){let f=r.get(o);if(f!==void 0)return f;if((f=n.get(o))!==void 0)return i(o,f),f},set(o,f){r.has(o)?r.set(o,f):i(o,f)}}}const oc="!";function Ah(e){const t=e.separator,r=t.length===1,n=t[0],i=t.length;return function(f){const l=[];let m=0,c=0,g;for(let W=0;W<f.length;W++){let Y=f[W];if(m===0){if(Y===n&&(r||f.slice(W,W+i)===t)){l.push(f.slice(c,W)),c=W+i;continue}if(Y==="/"){g=W;continue}}Y==="["?m++:Y==="]"&&m--}const T=l.length===0?f:f.substring(c),k=T.startsWith(oc),D=k?T.substring(1):T,z=g&&g>c?g-c:void 0;return{modifiers:l,hasImportantModifier:k,baseClassName:D,maybePostfixModifierPosition:z}}}function Th(e){if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t}function Sh(e){return{cache:wh(e.cacheSize),splitModifiers:Ah(e),..._h(e)}}const kh=/\s+/;function Rh(e,t){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(kh).map(f=>{const{modifiers:l,hasImportantModifier:m,baseClassName:c,maybePostfixModifierPosition:g}=r(f);let T=n(g?c.substring(0,g):c),k=!!g;if(!T){if(!g)return{isTailwindClass:!1,originalClassName:f};if(T=n(c),!T)return{isTailwindClass:!1,originalClassName:f};k=!1}const D=Th(l).join(":");return{isTailwindClass:!0,modifierId:m?D+oc:D,classGroupId:T,originalClassName:f,hasPostfixModifier:k}}).reverse().filter(f=>{if(!f.isTailwindClass)return!0;const{modifierId:l,classGroupId:m,hasPostfixModifier:c}=f,g=l+m;return o.has(g)?!1:(o.add(g),i(m,c).forEach(T=>o.add(l+T)),!0)}).reverse().map(f=>f.originalClassName).join(" ")}function Ch(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fc(t))&&(n&&(n+=" "),n+=r);return n}function fc(e){if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fc(e[n]))&&(r&&(r+=" "),r+=t);return r}function Lh(e,...t){let r,n,i,o=f;function f(m){const c=t.reduce((g,T)=>T(g),e());return r=Sh(c),n=r.cache.get,i=r.cache.set,o=l,l(m)}function l(m){const c=n(m);if(c)return c;const g=Rh(m,r);return i(m,g),g}return function(){return o(Ch.apply(null,arguments))}}function bt(e){const t=r=>r[e]||[];return t.isThemeGetter=!0,t}const lc=/^\[(?:([a-z-]+):)?(.+)\]$/i,Oh=/^\d+\/\d+$/,Gh=new Set(["px","full","screen"]),Nh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Dh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Fh=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function wr(e){return ba(e)||Gh.has(e)||Oh.test(e)}function Cn(e){return vi(e,"length",Hh)}function ba(e){return!!e&&!Number.isNaN(Number(e))}function Ko(e){return vi(e,"number",ba)}function Ji(e){return!!e&&Number.isInteger(Number(e))}function Bh(e){return e.endsWith("%")&&ba(e.slice(0,-1))}function $e(e){return lc.test(e)}function Ln(e){return Nh.test(e)}const Ih=new Set(["length","size","percentage"]);function Ph(e){return vi(e,Ih,sc)}function zh(e){return vi(e,"position",sc)}const jh=new Set(["image","url"]);function Uh(e){return vi(e,jh,Wh)}function Vh(e){return vi(e,"",Xh)}function $i(){return!0}function vi(e,t,r){const n=lc.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1}function Hh(e){return Dh.test(e)}function sc(){return!1}function Xh(e){return Fh.test(e)}function Wh(e){return Mh.test(e)}function qh(){const e=bt("colors"),t=bt("spacing"),r=bt("blur"),n=bt("brightness"),i=bt("borderColor"),o=bt("borderRadius"),f=bt("borderSpacing"),l=bt("borderWidth"),m=bt("contrast"),c=bt("grayscale"),g=bt("hueRotate"),T=bt("invert"),k=bt("gap"),D=bt("gradientColorStops"),z=bt("gradientColorStopPositions"),W=bt("inset"),Y=bt("margin"),Ae=bt("opacity"),De=bt("padding"),Ce=bt("saturate"),Ee=bt("scale"),Ve=bt("sepia"),Q=bt("skew"),Te=bt("space"),Ie=bt("translate"),Ze=()=>["auto","contain","none"],lt=()=>["auto","hidden","clip","visible","scroll"],Xe=()=>["auto",$e,t],ze=()=>[$e,t],Se=()=>["",wr,Cn],ke=()=>["auto",ba,$e],dt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],vt=()=>["solid","dashed","dotted","double","none"],Ut=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],Vt=()=>["start","end","center","between","around","evenly","stretch"],Tt=()=>["","0",$e],yr=()=>["auto","avoid","all","avoid-page","page","left","right","column"],dr=()=>[ba,Ko],pr=()=>[ba,$e];return{cacheSize:500,separator:":",theme:{colors:[$i],spacing:[wr,Cn],blur:["none","",Ln,$e],brightness:dr(),borderColor:[e],borderRadius:["none","","full",Ln,$e],borderSpacing:ze(),borderWidth:Se(),contrast:dr(),grayscale:Tt(),hueRotate:pr(),invert:Tt(),gap:ze(),gradientColorStops:[e],gradientColorStopPositions:[Bh,Cn],inset:Xe(),margin:Xe(),opacity:dr(),padding:ze(),saturate:dr(),scale:dr(),sepia:Tt(),skew:pr(),space:ze(),translate:ze()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Ln]}],"break-after":[{"break-after":yr()}],"break-before":[{"break-before":yr()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...dt(),$e]}],overflow:[{overflow:lt()}],"overflow-x":[{"overflow-x":lt()}],"overflow-y":[{"overflow-y":lt()}],overscroll:[{overscroll:Ze()}],"overscroll-x":[{"overscroll-x":Ze()}],"overscroll-y":[{"overscroll-y":Ze()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[W]}],"inset-x":[{"inset-x":[W]}],"inset-y":[{"inset-y":[W]}],start:[{start:[W]}],end:[{end:[W]}],top:[{top:[W]}],right:[{right:[W]}],bottom:[{bottom:[W]}],left:[{left:[W]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ji,$e]}],basis:[{basis:Xe()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:Tt()}],shrink:[{shrink:Tt()}],order:[{order:["first","last","none",Ji,$e]}],"grid-cols":[{"grid-cols":[$i]}],"col-start-end":[{col:["auto",{span:["full",Ji,$e]},$e]}],"col-start":[{"col-start":ke()}],"col-end":[{"col-end":ke()}],"grid-rows":[{"grid-rows":[$i]}],"row-start-end":[{row:["auto",{span:[Ji,$e]},$e]}],"row-start":[{"row-start":ke()}],"row-end":[{"row-end":ke()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[k]}],"gap-x":[{"gap-x":[k]}],"gap-y":[{"gap-y":[k]}],"justify-content":[{justify:["normal",...Vt()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Vt(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Vt(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[De]}],px:[{px:[De]}],py:[{py:[De]}],ps:[{ps:[De]}],pe:[{pe:[De]}],pt:[{pt:[De]}],pr:[{pr:[De]}],pb:[{pb:[De]}],pl:[{pl:[De]}],m:[{m:[Y]}],mx:[{mx:[Y]}],my:[{my:[Y]}],ms:[{ms:[Y]}],me:[{me:[Y]}],mt:[{mt:[Y]}],mr:[{mr:[Y]}],mb:[{mb:[Y]}],ml:[{ml:[Y]}],"space-x":[{"space-x":[Te]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Te]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",$e,t]}],"min-w":[{"min-w":["min","max","fit",$e,wr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Ln]},Ln,$e]}],h:[{h:[$e,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",wr,$e]}],"max-h":[{"max-h":[$e,t,"min","max","fit"]}],"font-size":[{text:["base",Ln,Cn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ko]}],"font-family":[{font:[$i]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",ba,Ko]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wr,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[Ae]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[Ae]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...vt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wr,Cn]}],"underline-offset":[{"underline-offset":["auto",wr,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:ze()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[Ae]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...dt(),zh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ph]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Uh]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[z]}],"gradient-via-pos":[{via:[z]}],"gradient-to-pos":[{to:[z]}],"gradient-from":[{from:[D]}],"gradient-via":[{via:[D]}],"gradient-to":[{to:[D]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[Ae]}],"border-style":[{border:[...vt(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[Ae]}],"divide-style":[{divide:vt()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...vt()]}],"outline-offset":[{"outline-offset":[wr,$e]}],"outline-w":[{outline:[wr,Cn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[Ae]}],"ring-offset-w":[{"ring-offset":[wr,Cn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ln,Vh]}],"shadow-color":[{shadow:[$i]}],opacity:[{opacity:[Ae]}],"mix-blend":[{"mix-blend":Ut()}],"bg-blend":[{"bg-blend":Ut()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Ln,$e]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[T]}],saturate:[{saturate:[Ce]}],sepia:[{sepia:[Ve]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[T]}],"backdrop-opacity":[{"backdrop-opacity":[Ae]}],"backdrop-saturate":[{"backdrop-saturate":[Ce]}],"backdrop-sepia":[{"backdrop-sepia":[Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:pr()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:pr()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Ee]}],"scale-x":[{"scale-x":[Ee]}],"scale-y":[{"scale-y":[Ee]}],rotate:[{rotate:[Ji,$e]}],"translate-x":[{"translate-x":[Ie]}],"translate-y":[{"translate-y":[Ie]}],"skew-x":[{"skew-x":[Q]}],"skew-y":[{"skew-y":[Q]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ze()}],"scroll-mx":[{"scroll-mx":ze()}],"scroll-my":[{"scroll-my":ze()}],"scroll-ms":[{"scroll-ms":ze()}],"scroll-me":[{"scroll-me":ze()}],"scroll-mt":[{"scroll-mt":ze()}],"scroll-mr":[{"scroll-mr":ze()}],"scroll-mb":[{"scroll-mb":ze()}],"scroll-ml":[{"scroll-ml":ze()}],"scroll-p":[{"scroll-p":ze()}],"scroll-px":[{"scroll-px":ze()}],"scroll-py":[{"scroll-py":ze()}],"scroll-ps":[{"scroll-ps":ze()}],"scroll-pe":[{"scroll-pe":ze()}],"scroll-pt":[{"scroll-pt":ze()}],"scroll-pr":[{"scroll-pr":ze()}],"scroll-pb":[{"scroll-pb":ze()}],"scroll-pl":[{"scroll-pl":ze()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[wr,Cn,Ko]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Zr=Lh(qh);function Yh(e){let t,r;const n=e[2].default,i=It(n,e,e[1],null);return{c(){t=Xt("tbody"),i&&i.c(),this.h()},l(o){t=Wt(o,"TBODY",{class:!0});var f=it(t);i&&i.l(f),f.forEach(Ne),this.h()},h(){J(t,"class",e[0])},m(o,f){ot(o,t,f),i&&i.m(t,null),r=!0},p(o,[f]){i&&i.p&&(!r||f&2)&&Pt(i,n,o,o[1],r?jt(n,o[1],f,null):zt(o[1]),null),(!r||f&1)&&J(t,"class",o[0])},i(o){r||(gt(i,o),r=!0)},o(o){xt(i,o),r=!1},d(o){o&&Ne(t),i&&i.d(o)}}}function Qh(e,t,r){let{$$slots:n={},$$scope:i}=t,{tableBodyClass:o=void 0}=t;return e.$$set=f=>{"tableBodyClass"in f&&r(0,o=f.tableBodyClass),"$$scope"in f&&r(1,i=f.$$scope)},[o,i,n]}class jb extends ur{constructor(t){super(),cr(this,t,Qh,Yh,nr,{tableBodyClass:0})}}function dl(e){let t,r,n,i,o;const f=e[6].default,l=It(f,e,e[5],null);let m=[e[2],{class:e[0]},{role:r=e[1].onclick?"button":void 0}],c={};for(let g=0;g<m.length;g+=1)c=rr(c,m[g]);return{c(){t=Xt(e[1].onclick?"button":"td"),l&&l.c(),this.h()},l(g){t=Wt(g,((e[1].onclick?"button":"td")||"null").toUpperCase(),{class:!0,role:!0});var T=it(t);l&&l.l(T),T.forEach(Ne),this.h()},h(){ou(e[1].onclick?"button":"td")(t,c)},m(g,T){ot(g,t,T),l&&l.m(t,null),n=!0,i||(o=Zt(t,"click",e[7]),i=!0)},p(g,T){l&&l.p&&(!n||T&32)&&Pt(l,f,g,g[5],n?jt(f,g[5],T,null):zt(g[5]),null),ou(g[1].onclick?"button":"td")(t,c=lo(m,[T&4&&g[2],(!n||T&1)&&{class:g[0]},(!n||T&2&&r!==(r=g[1].onclick?"button":void 0))&&{role:r}]))},i(g){n||(gt(l,g),n=!0)},o(g){xt(l,g),n=!1},d(g){g&&Ne(t),l&&l.d(g),i=!1,o()}}}function Kh(e){let t=e[1].onclick?"button":"td",r,n,i=(e[1].onclick?"button":"td")&&dl(e);return{c(){i&&i.c(),r=sr()},l(o){i&&i.l(o),r=sr()},m(o,f){i&&i.m(o,f),ot(o,r,f),n=!0},p(o,[f]){o[1].onclick,t?nr(t,o[1].onclick?"button":"td")?(i.d(1),i=dl(o),t=o[1].onclick?"button":"td",i.c(),i.m(r.parentNode,r)):i.p(o,f):(i=dl(o),t=o[1].onclick?"button":"td",i.c(),i.m(r.parentNode,r))},i(o){n||(gt(i,o),n=!0)},o(o){xt(i,o),n=!1},d(o){o&&Ne(r),i&&i.d(o)}}}function Zh(e,t,r){const n=["tdClass"];let i=zr(t,n),{$$slots:o={},$$scope:f}=t,{tdClass:l="px-6 py-4 whitespace-nowrap font-medium "}=t,m="default";m=Jt("color");let c;function g(T){_r.call(this,e,T)}return e.$$set=T=>{r(1,t=rr(rr({},t),jr(T))),r(2,i=zr(t,n)),"tdClass"in T&&r(3,l=T.tdClass),"$$scope"in T&&r(5,f=T.$$scope)},e.$$.update=()=>{r(0,c=Zr(l,m==="default"?"text-gray-900 dark:text-white":"text-blue-50 whitespace-nowrap dark:text-blue-100",t.class))},t=jr(t),[c,t,i,l,m,f,o,g]}class Ub extends ur{constructor(t){super(),cr(this,t,Zh,Kh,nr,{tdClass:3})}}function Jh(e){let t,r,n,i;const o=e[4].default,f=It(o,e,e[3],null);let l=[e[1],{class:e[0]}],m={};for(let c=0;c<l.length;c+=1)m=rr(m,l[c]);return{c(){t=Xt("tr"),f&&f.c(),this.h()},l(c){t=Wt(c,"TR",{class:!0});var g=it(t);f&&f.l(g),g.forEach(Ne),this.h()},h(){Gn(t,m)},m(c,g){ot(c,t,g),f&&f.m(t,null),r=!0,n||(i=[Zt(t,"click",e[5]),Zt(t,"contextmenu",e[6]),Zt(t,"dblclick",e[7])],n=!0)},p(c,[g]){f&&f.p&&(!r||g&8)&&Pt(f,o,c,c[3],r?jt(o,c[3],g,null):zt(c[3]),null),Gn(t,m=lo(l,[g&2&&c[1],(!r||g&1)&&{class:c[0]}]))},i(c){r||(gt(f,c),r=!0)},o(c){xt(f,c),r=!1},d(c){c&&Ne(t),f&&f.d(c),n=!1,vf(i)}}}function $h(e,t,r){const n=["color"];let i=zr(t,n),{$$slots:o={},$$scope:f}=t,{color:l=Jt("color")}=t;const m={default:"bg-white dark:bg-gray-800 dark:border-gray-700",blue:"bg-blue-500 border-blue-400",green:"bg-green-500 border-green-400",red:"bg-red-500 border-red-400",yellow:"bg-yellow-500 border-yellow-400",purple:"bg-purple-500 border-purple-400",custom:""},c={default:"hover:bg-gray-50 dark:hover:bg-gray-600",blue:"hover:bg-blue-400",green:"hover:bg-green-400",red:"hover:bg-red-400",yellow:"hover:bg-yellow-400",purple:"hover:bg-purple-400",custom:""},g={default:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700",blue:"odd:bg-blue-800 even:bg-blue-700 odd:dark:bg-blue-800 even:dark:bg-blue-700",green:"odd:bg-green-800 even:bg-green-700 odd:dark:bg-green-800 even:dark:bg-green-700",red:"odd:bg-red-800 even:bg-red-700 odd:dark:bg-red-800 even:dark:bg-red-700",yellow:"odd:bg-yellow-800 even:bg-yellow-700 odd:dark:bg-yellow-800 even:dark:bg-yellow-700",purple:"odd:bg-purple-800 even:bg-purple-700 odd:dark:bg-purple-800 even:dark:bg-purple-700",custom:""};let T;function k(W){_r.call(this,e,W)}function D(W){_r.call(this,e,W)}function z(W){_r.call(this,e,W)}return e.$$set=W=>{r(11,t=rr(rr({},t),jr(W))),r(1,i=zr(t,n)),"color"in W&&r(2,l=W.color),"$$scope"in W&&r(3,f=W.$$scope)},e.$$.update=()=>{r(0,T=Zr([!Jt("noborder")&&"border-b last:border-b-0",m[l],Jt("hoverable")&&c[l],Jt("striped")&&g[l],t.class]))},t=jr(t),[T,i,l,f,o,k,D,z]}class Vb extends ur{constructor(t){super(),cr(this,t,$h,Jh,nr,{color:2})}}function em(e){let t;const r=e[6].default,n=It(r,e,e[5],null);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,o){n&&n.m(i,o),t=!0},p(i,o){n&&n.p&&(!t||o&32)&&Pt(n,r,i,i[5],t?jt(r,i[5],o,null):zt(i[5]),null)},i(i){t||(gt(n,i),t=!0)},o(i){xt(n,i),t=!1},d(i){n&&n.d(i)}}}function tm(e){let t,r;const n=e[6].default,i=It(n,e,e[5],null);return{c(){t=Xt("tr"),i&&i.c()},l(o){t=Wt(o,"TR",{});var f=it(t);i&&i.l(f),f.forEach(Ne)},m(o,f){ot(o,t,f),i&&i.m(t,null),r=!0},p(o,f){i&&i.p&&(!r||f&32)&&Pt(i,n,o,o[5],r?jt(n,o[5],f,null):zt(o[5]),null)},i(o){r||(gt(i,o),r=!0)},o(o){xt(i,o),r=!1},d(o){o&&Ne(t),i&&i.d(o)}}}function rm(e){let t,r,n,i;const o=[tm,em],f=[];function l(g,T){return g[0]?0:1}r=l(e),n=f[r]=o[r](e);let m=[e[2],{class:e[1]}],c={};for(let g=0;g<m.length;g+=1)c=rr(c,m[g]);return{c(){t=Xt("thead"),n.c(),this.h()},l(g){t=Wt(g,"THEAD",{class:!0});var T=it(t);n.l(T),T.forEach(Ne),this.h()},h(){Gn(t,c)},m(g,T){ot(g,t,T),f[r].m(t,null),i=!0},p(g,[T]){let k=r;r=l(g),r===k?f[r].p(g,T):(tc(),xt(f[k],1,1,()=>{f[k]=null}),rc(),n=f[r],n?n.p(g,T):(n=f[r]=o[r](g),n.c()),gt(n,1),n.m(t,null)),Gn(t,c=lo(m,[T&4&&g[2],(!i||T&2)&&{class:g[1]}]))},i(g){i||(gt(n),i=!0)},o(g){xt(n),i=!1},d(g){g&&Ne(t),f[r].d()}}}function nm(e,t,r){let n;const i=["theadClass","defaultRow"];let o=zr(t,i),{$$slots:f={},$$scope:l}=t,{theadClass:m="text-xs uppercase"}=t,{defaultRow:c=!0}=t,g;g=Jt("color");let T=Jt("noborder"),k=Jt("striped");const z={default:T||k?"":"bg-gray-50 dark:bg-gray-700",blue:"bg-blue-600",green:"bg-green-600",red:"bg-red-600",yellow:"bg-yellow-600",purple:"bg-purple-600",custom:""};let W=g==="default"?"text-gray-700 dark:text-gray-400":g==="custom"?"":"text-white  dark:text-white",Y=k?"":g==="default"?"border-gray-700":g==="custom"?"":`border-${g}-400`;return e.$$set=Ae=>{r(13,t=rr(rr({},t),jr(Ae))),r(2,o=zr(t,i)),"theadClass"in Ae&&r(3,m=Ae.theadClass),"defaultRow"in Ae&&r(0,c=Ae.defaultRow),"$$scope"in Ae&&r(5,l=Ae.$$scope)},e.$$.update=()=>{r(1,n=Zr(m,W,k&&Y,z[g],t.class))},t=jr(t),[c,n,o,m,g,l,f]}class Hb extends ur{constructor(t){super(),cr(this,t,nm,rm,nr,{theadClass:3,defaultRow:0})}}function am(e){let t,r,n,i,o;const f=e[4].default,l=It(f,e,e[3],null);let m=[e[1],{class:r=Zr(e[0],e[2].class)}],c={};for(let g=0;g<m.length;g+=1)c=rr(c,m[g]);return{c(){t=Xt("th"),l&&l.c(),this.h()},l(g){t=Wt(g,"TH",{class:!0});var T=it(t);l&&l.l(T),T.forEach(Ne),this.h()},h(){Gn(t,c)},m(g,T){ot(g,t,T),l&&l.m(t,null),n=!0,i||(o=[Zt(t,"click",e[5]),Zt(t,"focus",e[6]),Zt(t,"keydown",e[7]),Zt(t,"keypress",e[8]),Zt(t,"keyup",e[9]),Zt(t,"mouseenter",e[10]),Zt(t,"mouseleave",e[11]),Zt(t,"mouseover",e[12])],i=!0)},p(g,[T]){l&&l.p&&(!n||T&8)&&Pt(l,f,g,g[3],n?jt(f,g[3],T,null):zt(g[3]),null),Gn(t,c=lo(m,[T&2&&g[1],(!n||T&5&&r!==(r=Zr(g[0],g[2].class)))&&{class:r}]))},i(g){n||(gt(l,g),n=!0)},o(g){xt(l,g),n=!1},d(g){g&&Ne(t),l&&l.d(g),i=!1,vf(o)}}}function im(e,t,r){const n=["padding"];let i=zr(t,n),{$$slots:o={},$$scope:f}=t,{padding:l="px-6 py-3"}=t;function m(Y){_r.call(this,e,Y)}function c(Y){_r.call(this,e,Y)}function g(Y){_r.call(this,e,Y)}function T(Y){_r.call(this,e,Y)}function k(Y){_r.call(this,e,Y)}function D(Y){_r.call(this,e,Y)}function z(Y){_r.call(this,e,Y)}function W(Y){_r.call(this,e,Y)}return e.$$set=Y=>{r(2,t=rr(rr({},t),jr(Y))),r(1,i=zr(t,n)),"padding"in Y&&r(0,l=Y.padding),"$$scope"in Y&&r(3,f=Y.$$scope)},t=jr(t),[l,i,t,f,o,m,c,g,T,k,D,z,W]}class Xb extends ur{constructor(t){super(),cr(this,t,im,am,nr,{padding:0})}}const om=e=>({}),cu=e=>({}),fm=e=>({}),du=e=>({}),lm=e=>({}),hu=e=>({});function sm(e){let t,r;return{c(){t=qt("svg"),r=qt("path"),this.h()},l(n){t=Yt(n,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var i=it(t);r=Yt(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),it(r).forEach(Ne),i.forEach(Ne),this.h()},h(){J(r,"fill-rule","evenodd"),J(r,"d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"),J(r,"clip-rule","evenodd"),J(t,"class",e[6]),J(t,"fill","currentColor"),J(t,"viewBox","0 0 20 20"),J(t,"xmlns","http://www.w3.org/2000/svg")},m(n,i){ot(n,t,i),At(t,r)},p(n,i){i&64&&J(t,"class",n[6])},d(n){n&&Ne(t)}}}function um(e){let t,r,n,i="Search",o,f,l,m,c,g,T,k,D,z,W,Y,Ae;const De=e[18].svgSearch,Ce=It(De,e,e[17],hu),Ee=Ce||sm(e),Ve=e[18].header,Q=It(Ve,e,e[17],du),Te=e[18].default,Ie=It(Te,e,e[17],null);let Ze=[e[11],{class:D=Zr("w-full text-left text-sm",e[9][e[3]],e[10].class)}],lt={};for(let Se=0;Se<Ze.length;Se+=1)lt=rr(lt,Ze[Se]);const Xe=e[18].footer,ze=It(Xe,e,e[17],cu);return{c(){t=Xt("div"),r=Xt("div"),n=Xt("label"),n.textContent=i,o=ha(),f=Xt("div"),l=Xt("div"),Ee&&Ee.c(),m=ha(),c=Xt("input"),g=ha(),Q&&Q.c(),T=ha(),k=Xt("table"),Ie&&Ie.c(),z=ha(),ze&&ze.c(),this.h()},l(Se){t=Wt(Se,"DIV",{class:!0});var ke=it(t);r=Wt(ke,"DIV",{class:!0});var dt=it(r);n=Wt(dt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),gh(n)!=="svelte-1m8vpa4"&&(n.textContent=i),o=ma(dt),f=Wt(dt,"DIV",{class:!0});var vt=it(f);l=Wt(vt,"DIV",{class:!0});var Ut=it(l);Ee&&Ee.l(Ut),Ut.forEach(Ne),m=ma(vt),c=Wt(vt,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),vt.forEach(Ne),g=ma(dt),Q&&Q.l(dt),dt.forEach(Ne),T=ma(ke),k=Wt(ke,"TABLE",{class:!0});var Vt=it(k);Ie&&Ie.l(Vt),Vt.forEach(Ne),z=ma(ke),ze&&ze.l(ke),ke.forEach(Ne),this.h()},h(){J(n,"for","table-search"),J(n,"class","sr-only"),J(l,"class",e[8]),J(c,"type","text"),J(c,"id","table-search"),J(c,"class",e[7]),J(c,"placeholder",e[2]),J(f,"class",e[5]),J(r,"class",e[4]),Gn(k,lt),J(t,"class",e[1])},m(Se,ke){ot(Se,t,ke),At(t,r),At(r,n),At(r,o),At(r,f),At(f,l),Ee&&Ee.m(l,null),At(f,m),At(f,c),fu(c,e[0]),At(r,g),Q&&Q.m(r,null),At(t,T),At(t,k),Ie&&Ie.m(k,null),At(t,z),ze&&ze.m(t,null),W=!0,Y||(Ae=Zt(c,"input",e[19]),Y=!0)},p(Se,[ke]){Ce?Ce.p&&(!W||ke&131072)&&Pt(Ce,De,Se,Se[17],W?jt(De,Se[17],ke,lm):zt(Se[17]),hu):Ee&&Ee.p&&(!W||ke&64)&&Ee.p(Se,W?ke:-1),(!W||ke&4)&&J(c,"placeholder",Se[2]),ke&1&&c.value!==Se[0]&&fu(c,Se[0]),(!W||ke&32)&&J(f,"class",Se[5]),Q&&Q.p&&(!W||ke&131072)&&Pt(Q,Ve,Se,Se[17],W?jt(Ve,Se[17],ke,fm):zt(Se[17]),du),(!W||ke&16)&&J(r,"class",Se[4]),Ie&&Ie.p&&(!W||ke&131072)&&Pt(Ie,Te,Se,Se[17],W?jt(Te,Se[17],ke,null):zt(Se[17]),null),Gn(k,lt=lo(Ze,[ke&2048&&Se[11],(!W||ke&1032&&D!==(D=Zr("w-full text-left text-sm",Se[9][Se[3]],Se[10].class)))&&{class:D}])),ze&&ze.p&&(!W||ke&131072)&&Pt(ze,Xe,Se,Se[17],W?jt(Xe,Se[17],ke,om):zt(Se[17]),cu),(!W||ke&2)&&J(t,"class",Se[1])},i(Se){W||(gt(Ee,Se),gt(Q,Se),gt(Ie,Se),gt(ze,Se),W=!0)},o(Se){xt(Ee,Se),xt(Q,Se),xt(Ie,Se),xt(ze,Se),W=!1},d(Se){Se&&Ne(t),Ee&&Ee.d(Se),Q&&Q.d(Se),Ie&&Ie.d(Se),ze&&ze.d(Se),Y=!1,Ae()}}}function cm(e,t,r){const n=["divClass","inputValue","striped","hoverable","placeholder","customColor","color","innerDivClass","searchClass","svgDivClass","svgClass","inputClass"];let i=zr(t,n),{$$slots:o={},$$scope:f}=t,{divClass:l="relative overflow-x-auto shadow-md sm:rounded-lg"}=t,{inputValue:m=""}=t,{striped:c=!1}=t,{hoverable:g=!1}=t,{placeholder:T="Search"}=t,{customColor:k=""}=t,{color:D="default"}=t,{innerDivClass:z="p-4"}=t,{searchClass:W="relative mt-1"}=t,{svgDivClass:Y="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"}=t,{svgClass:Ae="w-5 h-5 text-gray-500 dark:text-gray-400"}=t,{inputClass:De="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-80 p-2.5 pl-10 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"}=t,Ce=Zr(De,t.classInput),Ee=Zr(Y,t.classSvgDiv);const Ve={default:"text-gray-500 dark:text-gray-400",blue:"text-blue-100 dark:text-blue-100",green:"text-green-100 dark:text-green-100",red:"text-red-100 dark:text-red-100",yellow:"text-yellow-100 dark:text-yellow-100",purple:"text-purple-100 dark:text-purple-100",custom:k};function Q(){m=this.value,r(0,m)}return e.$$set=Te=>{r(10,t=rr(rr({},t),jr(Te))),r(11,i=zr(t,n)),"divClass"in Te&&r(1,l=Te.divClass),"inputValue"in Te&&r(0,m=Te.inputValue),"striped"in Te&&r(12,c=Te.striped),"hoverable"in Te&&r(13,g=Te.hoverable),"placeholder"in Te&&r(2,T=Te.placeholder),"customColor"in Te&&r(14,k=Te.customColor),"color"in Te&&r(3,D=Te.color),"innerDivClass"in Te&&r(4,z=Te.innerDivClass),"searchClass"in Te&&r(5,W=Te.searchClass),"svgDivClass"in Te&&r(15,Y=Te.svgDivClass),"svgClass"in Te&&r(6,Ae=Te.svgClass),"inputClass"in Te&&r(16,De=Te.inputClass),"$$scope"in Te&&r(17,f=Te.$$scope)},e.$$.update=()=>{e.$$.dirty&4096&&ro("striped",c),e.$$.dirty&8192&&ro("hoverable",g),e.$$.dirty&8&&ro("color",D)},t=jr(t),[m,l,T,D,z,W,Ae,Ce,Ee,Ve,t,i,c,g,k,Y,De,f,o,Q]}class Wb extends ur{constructor(t){super(),cr(this,t,cm,um,nr,{divClass:1,inputValue:0,striped:12,hoverable:13,placeholder:2,customColor:14,color:3,innerDivClass:4,searchClass:5,svgDivClass:15,svgClass:6,inputClass:16})}}var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mm(e){return e===0?!0:e}function On(e){return mm(e)?Array.isArray(e)?t=>e.map(r=>typeof r!="function"?t[r]:r(t)):typeof e!="function"?t=>t[e]:e:null}function bm(e){const t={};for(const r of e){if(Object(r)!==r)throw new TypeError("iterable for fromEntries should yield objects");const{"0":n,"1":i}=r;Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:i})}return t}function hl(e,t={}){return bm(Object.entries(e).filter(([r,n])=>n!==void 0&&t[r]===void 0))}function gm(e,t=300){let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>{e.apply(this,n)},t)}}function no(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vm(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uc(e){let t,r,n;e.length!==2?(t=no,r=(l,m)=>no(e(l),m),n=(l,m)=>e(l)-m):(t=e===no||e===vm?e:_m,r=e,n=e);function i(l,m,c=0,g=l.length){if(c<g){if(t(m,m)!==0)return g;do{const T=c+g>>>1;r(l[T],m)<0?c=T+1:g=T}while(c<g)}return c}function o(l,m,c=0,g=l.length){if(c<g){if(t(m,m)!==0)return g;do{const T=c+g>>>1;r(l[T],m)<=0?c=T+1:g=T}while(c<g)}return c}function f(l,m,c=0,g=l.length){const T=i(l,m,c,g-1);return T>c&&n(l[T-1],m)>-n(l[T],m)?T-1:T}return{left:i,center:f,right:o}}function _m(){return 0}function ym(e){return e===null?NaN:+e}const pm=uc(no),xm=pm.right;uc(ym).center;const Em=xm;class wm extends Set{constructor(t,r=km){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(Am(this,t))}add(t){return super.add(Tm(this,t))}delete(t){return super.delete(Sm(this,t))}}function Am({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Tm({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Sm({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function km(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Rm=Math.sqrt(50),Cm=Math.sqrt(10),Lm=Math.sqrt(2);function sf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),f=o>=Rm?10:o>=Cm?5:o>=Lm?2:1;let l,m,c;return i<0?(c=Math.pow(10,-i)/f,l=Math.round(e*c),m=Math.round(t*c),l/c<e&&++l,m/c>t&&--m,c=-c):(c=Math.pow(10,i)*f,l=Math.round(e/c),m=Math.round(t/c),l*c<e&&++l,m*c>t&&--m),m<l&&.5<=r&&r<2?sf(e,t,r*2):[l,m,c]}function Om(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,o,f]=n?sf(t,e,r):sf(e,t,r);if(!(o>=i))return[];const l=o-i+1,m=new Array(l);if(n)if(f<0)for(let c=0;c<l;++c)m[c]=(o-c)/-f;else for(let c=0;c<l;++c)m[c]=(o-c)*f;else if(f<0)for(let c=0;c<l;++c)m[c]=(i+c)/-f;else for(let c=0;c<l;++c)m[c]=(i+c)*f;return m}function vl(e,t,r){return t=+t,e=+e,r=+r,sf(e,t,r)[2]}function Gm(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?vl(t,e,r):vl(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Nm(e,t,{sort:r=!1}={}){if(!Array.isArray(e))throw new TypeError(`The first argument of calcUniques() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcUniques() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(t),o=i.length;let f,l,m,c,g,T,k;const D=e.length;for(f=0;f<o;f+=1){for(k=new wm,c=i[f],g=t[c],l=0;l<D;l+=1)if(T=g(e[l]),Array.isArray(T)){const W=T.length;for(m=0;m<W;m+=1)k.add(T[m])}else k.add(T);const z=Array.from(k);r===!0&&z.sort(no),n[c]=z}return n}function Dm(e,t){if(!Array.isArray(e))throw new TypeError(`The first argument of calcExtents() must be an array. You passed in a ${typeof e}. If you got this error using the <LayerCake> component, consider passing a flat array to the \`flatData\` prop. More info: https://layercake.graphics/guide/#flatdata`);if(Array.isArray(t)||t===void 0||t===null)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const r={},n=Object.keys(t),i=n.length;let o,f,l,m,c,g,T,k;const D=e.length;for(o=0;o<i;o+=1){for(m=n[o],T=t[m],c=null,g=null,f=0;f<D;f+=1)if(k=T(e[f]),Array.isArray(k)){const z=k.length;for(l=0;l<z;l+=1)k[l]!==!1&&k[l]!==void 0&&k[l]!==null&&Number.isNaN(k[l])===!1&&((c===null||k[l]<c)&&(c=k[l]),(g===null||k[l]>g)&&(g=k[l]))}else k!==!1&&k!==void 0&&k!==null&&Number.isNaN(k)===!1&&((c===null||k<c)&&(c=k),(g===null||k>g)&&(g=k));r[m]=[c,g]}return r}function eo(e,t){return e.length!==t.length?!1:e.every(r=>t.includes(r))}function cc(e){return!!(typeof e.bandwidth=="function"||eo(Object.keys(e),["domain","range","unknown","copy"]))}function Fm(e,t,r){const n=Object.keys(r).reduce((o,f)=>{const l=cc(r[f])===!0?"ordinal":"other";return o[l]||(o[l]={}),o[l][f]=t[f],o},{ordinal:!1,other:!1});let i={};return n.ordinal&&(i=Nm(e,n.ordinal,{sort:!0})),n.other&&(i={...i,...Dm(e,n.other)}),i}function Mm(e=[],t){return Array.isArray(t)===!0?t.map((r,n)=>r===null?e[n]:r):e}function Zo(e){return function([r,n]){return typeof n=="function"&&(n=n(r[e])),r?Mm(r[e],n):n}}function dc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xl(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hc(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function so(){}var io=.7,uf=1/io,bi="\\s*([+-]?\\d+)\\s*",oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bm=/^#([0-9a-f]{3,8})$/,Im=new RegExp(`^rgb\\(${bi},${bi},${bi}\\)$`),Pm=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),zm=new RegExp(`^rgba\\(${bi},${bi},${bi},${oo}\\)$`),jm=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${oo}\\)$`),Um=new RegExp(`^hsl\\(${oo},${Pr},${Pr}\\)$`),Vm=new RegExp(`^hsla\\(${oo},${Pr},${Pr},${oo}\\)$`),mu={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xl(so,fo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bu,formatHex:bu,formatHex8:Hm,formatHsl:Xm,formatRgb:gu,toString:gu});function bu(){return this.rgb().formatHex()}function Hm(){return this.rgb().formatHex8()}function Xm(){return mc(this).formatHsl()}function gu(){return this.rgb().formatRgb()}function fo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Bm.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vu(t):r===3?new lr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Jo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Jo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Im.exec(e))?new lr(t[1],t[2],t[3],1):(t=Pm.exec(e))?new lr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zm.exec(e))?Jo(t[1],t[2],t[3],t[4]):(t=jm.exec(e))?Jo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Um.exec(e))?pu(t[1],t[2]/100,t[3]/100,1):(t=Vm.exec(e))?pu(t[1],t[2]/100,t[3]/100,t[4]):mu.hasOwnProperty(e)?vu(mu[e]):e==="transparent"?new lr(NaN,NaN,NaN,0):null}function vu(e){return new lr(e>>16&255,e>>8&255,e&255,1)}function Jo(e,t,r,n){return n<=0&&(e=t=r=NaN),new lr(e,t,r,n)}function Wm(e){return e instanceof so||(e=fo(e)),e?(e=e.rgb(),new lr(e.r,e.g,e.b,e.opacity)):new lr}function cf(e,t,r,n){return arguments.length===1?Wm(e):new lr(e,t,r,n??1)}function lr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xl(lr,cf,hc(so,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?io:Math.pow(io,e),new lr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new lr(va(this.r),va(this.g),va(this.b),df(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_u,formatHex:_u,formatHex8:qm,formatRgb:yu,toString:yu}));function _u(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}`}function qm(){return`#${ga(this.r)}${ga(this.g)}${ga(this.b)}${ga((isNaN(this.opacity)?1:this.opacity)*255)}`}function yu(){const e=df(this.opacity);return`${e===1?"rgb(":"rgba("}${va(this.r)}, ${va(this.g)}, ${va(this.b)}${e===1?")":`, ${e})`}`}function df(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function va(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ga(e){return e=va(e),(e<16?"0":"")+e.toString(16)}function pu(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ar(e,t,r,n)}function mc(e){if(e instanceof Ar)return new Ar(e.h,e.s,e.l,e.opacity);if(e instanceof so||(e=fo(e)),!e)return new Ar;if(e instanceof Ar)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),f=NaN,l=o-i,m=(o+i)/2;return l?(t===o?f=(r-n)/l+(r<n)*6:r===o?f=(n-t)/l+2:f=(t-r)/l+4,l/=m<.5?o+i:2-o-i,f*=60):l=m>0&&m<1?0:f,new Ar(f,l,m,e.opacity)}function Ym(e,t,r,n){return arguments.length===1?mc(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xl(Ar,Ym,hc(so,{brighter(e){return e=e==null?uf:Math.pow(uf,e),new Ar(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?io:Math.pow(io,e),new Ar(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new lr(ml(e>=240?e-240:e+120,i,n),ml(e,i,n),ml(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Ar(xu(this.h),$o(this.s),$o(this.l),df(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=df(this.opacity);return`${e===1?"hsl(":"hsla("}${xu(this.h)}, ${$o(this.s)*100}%, ${$o(this.l)*100}%${e===1?")":`, ${e})`}`}}));function xu(e){return e=(e||0)%360,e<0?e+360:e}function $o(e){return Math.max(0,Math.min(1,e||0))}function ml(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const El=e=>()=>e;function Qm(e,t){return function(r){return e+r*t}}function Km(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Zm(e){return(e=+e)==1?bc:function(t,r){return r-t?Km(t,r,e):El(isNaN(t)?r:t)}}function bc(e,t){var r=t-e;return r?Qm(e,r):El(isNaN(e)?t:e)}const Eu=function e(t){var r=Zm(t);function n(i,o){var f=r((i=cf(i)).r,(o=cf(o)).r),l=r(i.g,o.g),m=r(i.b,o.b),c=bc(i.opacity,o.opacity);return function(g){return i.r=f(g),i.g=l(g),i.b=m(g),i.opacity=c(g),i+""}}return n.gamma=e,n}(1);function Jm(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function $m(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function e0(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),f;for(f=0;f<n;++f)i[f]=wl(e[f],t[f]);for(;f<r;++f)o[f]=t[f];return function(l){for(f=0;f<n;++f)o[f]=i[f](l);return o}}function t0(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function r0(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=wl(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var _l=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bl=new RegExp(_l.source,"g");function n0(e){return function(){return e}}function a0(e){return function(t){return e(t)+""}}function i0(e,t){var r=_l.lastIndex=bl.lastIndex=0,n,i,o,f=-1,l=[],m=[];for(e=e+"",t=t+"";(n=_l.exec(e))&&(i=bl.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),l[f]?l[f]+=o:l[++f]=o),(n=n[0])===(i=i[0])?l[f]?l[f]+=i:l[++f]=i:(l[++f]=null,m.push({i:f,x:hf(n,i)})),r=bl.lastIndex;return r<t.length&&(o=t.slice(r),l[f]?l[f]+=o:l[++f]=o),l.length<2?m[0]?a0(m[0].x):n0(t):(t=m.length,function(c){for(var g=0,T;g<t;++g)l[(T=m[g]).i]=T.x(c);return l.join("")})}function wl(e,t){var r=typeof t,n;return t==null||r==="boolean"?El(t):(r==="number"?hf:r==="string"?(n=fo(t))?(t=n,Eu):i0:t instanceof fo?Eu:t instanceof Date?t0:$m(t)?Jm:Array.isArray(t)?e0:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?r0:hf)(e,t)}function o0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function f0(e){return function(){return e}}function l0(e){return+e}var wu=[0,1];function Ir(e){return e}function yl(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:f0(isNaN(t)?NaN:.5)}function s0(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function u0(e,t,r){var n=e[0],i=e[1],o=t[0],f=t[1];return i<n?(n=yl(i,n),o=r(f,o)):(n=yl(n,i),o=r(o,f)),function(l){return o(n(l))}}function c0(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),f=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++f<n;)i[f]=yl(e[f],e[f+1]),o[f]=r(t[f],t[f+1]);return function(l){var m=Em(e,l,1,n)-1;return o[m](i[m](l))}}function gc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function vc(){var e=wu,t=wu,r=wl,n,i,o,f=Ir,l,m,c;function g(){var k=Math.min(e.length,t.length);return f!==Ir&&(f=s0(e[0],e[k-1])),l=k>2?c0:u0,m=c=null,T}function T(k){return k==null||isNaN(k=+k)?o:(m||(m=l(e.map(n),t,r)))(n(f(k)))}return T.invert=function(k){return f(i((c||(c=l(t,e.map(n),hf)))(k)))},T.domain=function(k){return arguments.length?(e=Array.from(k,l0),g()):e.slice()},T.range=function(k){return arguments.length?(t=Array.from(k),g()):t.slice()},T.rangeRound=function(k){return t=Array.from(k),r=o0,g()},T.clamp=function(k){return arguments.length?(f=k?!0:Ir,g()):f!==Ir},T.interpolate=function(k){return arguments.length?(r=k,g()):r},T.unknown=function(k){return arguments.length?(o=k,T):o},function(k,D){return n=k,i=D,g()}}function d0(){return vc()(Ir,Ir)}function h0(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function mf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gi(e){return e=mf(Math.abs(e)),e?e[1]:NaN}function m0(e,t){return function(r,n){for(var i=r.length,o=[],f=0,l=e[0],m=0;i>0&&l>0&&(m+l+1>n&&(l=Math.max(1,n-m)),o.push(r.substring(i-=l,i+l)),!((m+=l+1)>n));)l=e[f=(f+1)%e.length];return o.reverse().join(t)}}function b0(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var g0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bf(e){if(!(t=g0.exec(e)))throw new Error("invalid format: "+e);var t;return new Al({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bf.prototype=Al.prototype;function Al(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Al.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v0(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var _c;function _0(e,t){var r=mf(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(_c=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=n.length;return o===f?n:o>f?n+new Array(o-f+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+mf(e,Math.max(0,t+o-1))[0]}function Au(e,t){var r=mf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Tu={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:h0,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Au(e*100,t),r:Au,s:_0,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Su(e){return e}var ku=Array.prototype.map,Ru=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function y0(e){var t=e.grouping===void 0||e.thousands===void 0?Su:m0(ku.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Su:b0(ku.call(e.numerals,String)),f=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function c(T){T=bf(T);var k=T.fill,D=T.align,z=T.sign,W=T.symbol,Y=T.zero,Ae=T.width,De=T.comma,Ce=T.precision,Ee=T.trim,Ve=T.type;Ve==="n"?(De=!0,Ve="g"):Tu[Ve]||(Ce===void 0&&(Ce=12),Ee=!0,Ve="g"),(Y||k==="0"&&D==="=")&&(Y=!0,k="0",D="=");var Q=W==="$"?r:W==="#"&&/[boxX]/.test(Ve)?"0"+Ve.toLowerCase():"",Te=W==="$"?n:/[%p]/.test(Ve)?f:"",Ie=Tu[Ve],Ze=/[defgprs%]/.test(Ve);Ce=Ce===void 0?6:/[gprs]/.test(Ve)?Math.max(1,Math.min(21,Ce)):Math.max(0,Math.min(20,Ce));function lt(Xe){var ze=Q,Se=Te,ke,dt,vt;if(Ve==="c")Se=Ie(Xe)+Se,Xe="";else{Xe=+Xe;var Ut=Xe<0||1/Xe<0;if(Xe=isNaN(Xe)?m:Ie(Math.abs(Xe),Ce),Ee&&(Xe=v0(Xe)),Ut&&+Xe==0&&z!=="+"&&(Ut=!1),ze=(Ut?z==="("?z:l:z==="-"||z==="("?"":z)+ze,Se=(Ve==="s"?Ru[8+_c/3]:"")+Se+(Ut&&z==="("?")":""),Ze){for(ke=-1,dt=Xe.length;++ke<dt;)if(vt=Xe.charCodeAt(ke),48>vt||vt>57){Se=(vt===46?i+Xe.slice(ke+1):Xe.slice(ke))+Se,Xe=Xe.slice(0,ke);break}}}De&&!Y&&(Xe=t(Xe,1/0));var Vt=ze.length+Xe.length+Se.length,Tt=Vt<Ae?new Array(Ae-Vt+1).join(k):"";switch(De&&Y&&(Xe=t(Tt+Xe,Tt.length?Ae-Se.length:1/0),Tt=""),D){case"<":Xe=ze+Xe+Se+Tt;break;case"=":Xe=ze+Tt+Xe+Se;break;case"^":Xe=Tt.slice(0,Vt=Tt.length>>1)+ze+Xe+Se+Tt.slice(Vt);break;default:Xe=Tt+ze+Xe+Se;break}return o(Xe)}return lt.toString=function(){return T+""},lt}function g(T,k){var D=c((T=bf(T),T.type="f",T)),z=Math.max(-8,Math.min(8,Math.floor(gi(k)/3)))*3,W=Math.pow(10,-z),Y=Ru[8+z/3];return function(Ae){return D(W*Ae)+Y}}return{format:c,formatPrefix:g}}var ef,yc,pc;p0({thousands:",",grouping:[3],currency:["$",""]});function p0(e){return ef=y0(e),yc=ef.format,pc=ef.formatPrefix,ef}function x0(e){return Math.max(0,-gi(Math.abs(e)))}function E0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gi(t)/3)))*3-gi(Math.abs(e)))}function w0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gi(t)-gi(e))+1}function A0(e,t,r,n){var i=Gm(e,t,r),o;switch(n=bf(n??",f"),n.type){case"s":{var f=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=E0(i,f))&&(n.precision=o),pc(n,f)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=w0(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=x0(i))&&(n.precision=o-(n.type==="%")*2);break}}return yc(n)}function xc(e){var t=e.domain;return e.ticks=function(r){var n=t();return Om(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return A0(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,f=n[i],l=n[o],m,c,g=10;for(l<f&&(c=f,f=l,l=c,c=i,i=o,o=c);g-- >0;){if(c=vl(f,l,r),c===m)return n[i]=f,n[o]=l,t(n);if(c>0)f=Math.floor(f/c)*c,l=Math.ceil(l/c)*c;else if(c<0)f=Math.ceil(f*c)/c,l=Math.floor(l*c)/c;else break;m=c}return e},e}function of(){var e=d0();return e.copy=function(){return gc(e,of())},dc.apply(e,arguments),xc(e)}function Cu(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function T0(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S0(e){return e<0?-e*e:e*e}function k0(e){var t=e(Ir,Ir),r=1;function n(){return r===1?e(Ir,Ir):r===.5?e(T0,S0):e(Cu(r),Cu(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},xc(t)}function Ec(){var e=k0(vc());return e.copy=function(){return gc(e,Ec()).exponent(e.exponent())},dc.apply(e,arguments),e}function R0(){return Ec.apply(null,arguments).exponent(.5)}const to={x:of,y:of,z:of,r:R0};function C0(e){return e.constant?"symlog":e.base?"log":e.exponent?e.exponent()===.5?"sqrt":"pow":"other"}function Lu(e){return e}function L0(e){return t=>Math.log(e*t)}function O0(e){return t=>e*Math.exp(t)}function G0(e){return t=>Math.sign(t)*Math.log1p(Math.abs(t/e))}function N0(e){return t=>Math.sign(t)*Math.expm1(Math.abs(t))*e}function tf(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function D0(e){const t=C0(e);if(t==="log"){const r=Math.sign(e.domain()[0]);return{lift:L0(r),ground:O0(r),scaleType:t}}return t==="pow"?{lift:tf(1),ground:tf(1/1),scaleType:t}:t==="sqrt"?{lift:tf(.5),ground:tf(1/.5),scaleType:t}:t==="symlog"?{lift:G0(1),ground:N0(1),scaleType:t}:{lift:Lu,ground:Lu,scaleType:t}}function gf(e){return e.replace(/^\w/,t=>t.toUpperCase())}function er(e,t=""){return`scale${gf(t)}${gf(e)}`}function wc(e){if(typeof e.bandwidth=="function")return typeof e.paddingInner=="function"?er("band"):er("point");if(eo(Object.keys(e),["domain","range","unknown","copy"]))return er("ordinal");let t="";if(e.interpolator&&(e.domain().length===3?t="diverging":t="sequential"),e.quantiles)return er("quantile",t);if(e.thresholds)return er("quantize",t);if(e.constant)return er("symlog",t);if(e.base)return er("log",t);if(e.exponent)return e.exponent()===.5?er("sqrt",t):er("pow",t);if(eo(Object.keys(e),["domain","range","invertExtent","unknown","copy"]))return er("threshold");if(eo(Object.keys(e),["invert","range","domain","unknown","copy","ticks","tickFormat","nice"]))return er("identity");if(eo(Object.keys(e),["invert","domain","range","rangeRound","round","clamp","unknown","copy","ticks","tickFormat","nice"]))return er("radial");if(t)return er(t);if(e.domain()[0]instanceof Date){const r=new Date;let n;return r.getDay=()=>n="time",r.getUTCDay=()=>n="utc",e.tickFormat(0,"%a")(r),er(n)}return er("linear")}const F0=["scaleThreshold","scaleQuantile","scaleQuantize","scaleSequentialQuantile"];function M0(e,t){if(typeof e.range!="function")throw console.log(e),new Error("Scale method `range` must be a function");if(typeof e.domain!="function")throw new Error("Scale method `domain` must be a function");if(!Array.isArray(t)||F0.includes(wc(e))||cc(e)===!0)return e.domain();const{lift:r,ground:n}=D0(e),i=e.domain()[0],o=Object.prototype.toString.call(i)==="[object Date]",[f,l]=e.domain().map(D=>r(o?D.getTime():D)),[m,c]=e.range(),g=t[0]||0,T=t[1]||0,k=(l-f)/(Math.abs(c-m)-g-T);return[f-g*k,T*k+l].map(D=>n(o?new Date(D):D))}function B0(e,t,r,n,i){let o,f;return i===!0?(o=0,f=100):(o=e==="r"?1:0,f=e==="y"?r:e==="r"?25:t),n===!0?[f,o]:[o,f]}function I0(e,t,r,n,i,o){return i?typeof i=="function"?i({width:t,height:r}):i:B0(e,t,r,n,o)}function rf(e){return function([r,n,i,o,f,l,m,c,g,T]){if(n===null)return null;const k=I0(e,m,c,l,g,T),D=r===to[e]?r():r.copy();return D.domain(i),(!D.interpolator||typeof D.interpolator=="function"&&D.interpolator().name.startsWith("identity"))&&D.range(k),o&&D.domain(M0(D,o)),(f===!0||typeof f=="number")&&(typeof D.nice=="function"?D.nice(typeof f=="number"?f:void 0):console.error(`[Layer Cake] You set \`${e}Nice: true\` but the ${e}Scale does not have a \`.nice\` method. Ignoring...`)),D}}function nf([e,t]){return r=>{const n=e(r);return Array.isArray(n)?n.map(i=>t(i)):t(n)}}function af([e]){if(typeof e=="function"){if(typeof e.range=="function")return e.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}const Br="    ";function P0(e){const{r:t,g:r,b:n,opacity:i}=cf(e);return[t,r,n].every(o=>o>=0&&o<=255)?{r:t,g:r,b:n,o:i}:!1}function z0({r:e,g:t,b:r}){return(.2126*e+.7152*t+.0722*r)/255>.6?"black":"white"}function j0(e){console.log("/********* LayerCake Debug ************/"),console.log("Bounding box:"),U0(e.boundingBox),console.log(`Scales:
`),Object.keys(e.activeGetters).forEach(t=>{V0(t,e[`${t}Scale`],e[t])}),console.log(`/************ End LayerCake Debug ***************/
`)}function U0(e){Object.entries(e).forEach(([t,r])=>{console.log(`${Br}${t}:`,r)})}function V0(e,t,r){const n=wc(t);console.log(`${Br}${e}:`),console.log(`${Br}${Br}Accessor: "${r.toString()}"`),console.log(`${Br}${Br}Type: ${n}`),Ou(t,"domain"),Ou(t,"range"," ")}function Ou(e,t,r=""){const n=e[t](),i=X0(n);i?H0(i,t,n):console.log(`${Br}${Br}${gf(t)}:${r}`,n)}function H0(e,t,r){console.log(`${Br}${Br}${gf(t)}:    %cArray%c(${r.length}) `+e[0]+"%c ]","color: #1377e4","color: #737373","color: #1478e4",...e[1],"color: #1478e4")}function X0(e){const t=[],r=e.map((n,i)=>{const o=P0(n);if(o!==!1){t.push(o);const f=i===e.length-1?" ":"";return`%c ${n}${f}`}return n});return t.length?[`%c[ ${r.join(", ")}`,t.map(n=>`background-color: rgba(${n.r}, ${n.g}, ${n.b}, ${n.o}); color:${z0(n)};`)]:null}const W0=e=>({element:e[0]&4,width:e[1]&8,height:e[1]&16,aspectRatio:e[1]&32,containerWidth:e[1]&2,containerHeight:e[1]&1,activeGetters:e[0]&1024,percentRange:e[1]&4,x:e[0]&268435456,y:e[0]&134217728,z:e[0]&67108864,r:e[0]&33554432,custom:e[0]&4096,data:e[0]&1073741824,xNice:e[0]&16777216,yNice:e[0]&8388608,zNice:e[0]&4194304,rNice:e[0]&2097152,xReverse:e[0]&1048576,yReverse:e[0]&524288,zReverse:e[0]&262144,rReverse:e[0]&131072,xPadding:e[0]&65536,yPadding:e[0]&32768,zPadding:e[0]&16384,rPadding:e[0]&8192,padding:e[1]&64,flatData:e[0]&536870912,extents:e[1]&128,xDomain:e[1]&256,yDomain:e[1]&512,zDomain:e[1]&1024,rDomain:e[1]&2048,xRange:e[1]&4096,yRange:e[1]&8192,zRange:e[1]&16384,rRange:e[1]&32768,config:e[0]&2048,xScale:e[0]&512,xGet:e[1]&65536,yScale:e[0]&256,yGet:e[1]&131072,zScale:e[0]&128,zGet:e[1]&262144,rScale:e[0]&64,rGet:e[1]&524288}),Gu=e=>({element:e[2],width:e[34],height:e[35],aspectRatio:e[36],containerWidth:e[32],containerHeight:e[31],activeGetters:e[10],percentRange:e[33],x:e[28],y:e[27],z:e[26],r:e[25],custom:e[12],data:e[30],xNice:e[24],yNice:e[23],zNice:e[22],rNice:e[21],xReverse:e[20],yReverse:e[19],zReverse:e[18],rReverse:e[17],xPadding:e[16],yPadding:e[15],zPadding:e[14],rPadding:e[13],padding:e[37],flatData:e[29],extents:e[38],xDomain:e[39],yDomain:e[40],zDomain:e[41],rDomain:e[42],xRange:e[43],yRange:e[44],zRange:e[45],rRange:e[46],config:e[11],xScale:e[9],xGet:e[47],yScale:e[8],yGet:e[48],zScale:e[7],zGet:e[49],rScale:e[6],rGet:e[50]});function Nu(e){let t,r,n;const i=e[153].default,o=It(i,e,e[152],Gu);return{c(){t=Xt("div"),o&&o.c(),this.h()},l(f){t=Wt(f,"DIV",{class:!0});var l=it(t);o&&o.l(l),l.forEach(Ne),this.h()},h(){J(t,"class","layercake-container svelte-vhzpsp"),bh(()=>e[155].call(t)),Qe(t,"position",e[5]),Qe(t,"top",e[5]==="absolute"?"0":null),Qe(t,"right",e[5]==="absolute"?"0":null),Qe(t,"bottom",e[5]==="absolute"?"0":null),Qe(t,"left",e[5]==="absolute"?"0":null),Qe(t,"pointer-events",e[4]===!1?"none":null)},m(f,l){ot(f,t,l),o&&o.m(t,null),e[154](t),r=vh(t,e[155].bind(t)),n=!0},p(f,l){o&&o.p&&(!n||l[0]&2147483588|l[1]&1048575|l[4]&268435456)&&Pt(o,i,f,f[152],n?jt(i,f[152],l,W0):zt(f[152]),Gu),l[0]&32&&Qe(t,"position",f[5]),l[0]&32&&Qe(t,"top",f[5]==="absolute"?"0":null),l[0]&32&&Qe(t,"right",f[5]==="absolute"?"0":null),l[0]&32&&Qe(t,"bottom",f[5]==="absolute"?"0":null),l[0]&32&&Qe(t,"left",f[5]==="absolute"?"0":null),l[0]&16&&Qe(t,"pointer-events",f[4]===!1?"none":null)},i(f){n||(gt(o,f),n=!0)},o(f){xt(o,f),n=!1},d(f){f&&Ne(t),o&&o.d(f),e[154](null),r()}}}function q0(e){let t,r,n=(e[3]===!0||typeof window<"u")&&Nu(e);return{c(){n&&n.c(),t=sr()},l(i){n&&n.l(i),t=sr()},m(i,o){n&&n.m(i,o),ot(i,t,o),r=!0},p(i,o){i[3]===!0||typeof window<"u"?n?(n.p(i,o),o[0]&8&&gt(n,1)):(n=Nu(i),n.c(),gt(n,1),n.m(t.parentNode,t)):n&&(tc(),xt(n,1,1,()=>{n=null}),rc())},i(i){r||(gt(n),r=!0)},o(i){xt(n),r=!1},d(i){i&&Ne(t),n&&n.d(i)}}}function Y0(e,t,r){let n,i,o,f,l,m,c,g,T,k,D,z,W,Y,Ae,De,Ce,Ee,Ve,Q,Te,Ie,Ze,lt,Xe,ze,Se,ke,dt,vt,Ut,Vt,Tt,yr,dr,pr,_a,ya,_i,pa,xa,yi,Ea,wa,Aa,pi,xi,Ei,wi,Ai,uo,Qt,Ti,Nn,co,ho,d,mo,bo,go,vo,Tr,{$$slots:_o={},$$scope:Jr}=t;const yo=gm(j0,200);let{ssr:Si=!1}=t,{pointerEvents:po=!0}=t,{position:ki="relative"}=t,{percentRange:Nt=!1}=t,{width:Dn=void 0}=t,{height:Ta=void 0}=t,{containerWidth:$r=Dn||100}=t,{containerHeight:en=Ta||100}=t,{element:Sa=void 0}=t,{x:tn=void 0}=t,{y:rn=void 0}=t,{z:Ur=void 0}=t,{r:Vr=void 0}=t,{data:nn=[]}=t,{xDomain:an=void 0}=t,{yDomain:Ct=void 0}=t,{zDomain:on=void 0}=t,{rDomain:fn=void 0}=t,{xNice:ka=!1}=t,{yNice:Ra=!1}=t,{zNice:Ca=!1}=t,{rNice:La=!1}=t,{xPadding:Oa=void 0}=t,{yPadding:Ga=void 0}=t,{zPadding:Fn=void 0}=t,{rPadding:Mn=void 0}=t,{xScale:st=to.x}=t,{yScale:Bn=to.y}=t,{zScale:Na=to.z}=t,{rScale:Da=to.r}=t,{xRange:ln=void 0}=t,{yRange:sn=void 0}=t,{zRange:un=void 0}=t,{rRange:cn=void 0}=t,{xReverse:Fa=!1}=t,{yReverse:Ma=void 0}=t,{zReverse:Ba=!1}=t,{rReverse:Ia=!1}=t,{padding:Pa={}}=t,{extents:za={}}=t,{flatData:ja=void 0}=t,{custom:Ua={}}=t,{debug:Ri=!1}=t,Ci=!1;ec(()=>{Ci=!0});const at={},Sr=et(Nt);xe(e,Sr,w=>r(33,Aa=w));const dn=et($r);xe(e,dn,w=>r(32,wa=w));const hn=et(en);xe(e,hn,w=>r(31,Ea=w));const Va=et(hl(za));xe(e,Va,w=>r(170,yi=w));const Ha=et(nn);xe(e,Ha,w=>r(30,xa=w));const In=et(ja||nn);xe(e,In,w=>r(29,pa=w));const Xa=et(Pa);xe(e,Xa,w=>r(169,_i=w));const mn=et(On(tn));xe(e,mn,w=>r(28,ya=w));const bn=et(On(rn));xe(e,bn,w=>r(27,_a=w));const xr=et(On(Ur));xe(e,xr,w=>r(26,pr=w));const Hr=et(On(Vr));xe(e,Hr,w=>r(25,dr=w));const Wa=et(an);xe(e,Wa,w=>r(168,yr=w));const qa=et(Ct);xe(e,qa,w=>r(167,Tt=w));const kr=et(on);xe(e,kr,w=>r(166,Vt=w));const gn=et(fn);xe(e,gn,w=>r(165,Ut=w));const vn=et(ka);xe(e,vn,w=>r(24,vt=w));const Xr=et(Ra);xe(e,Xr,w=>r(23,dt=w));const Pn=et(Ca);xe(e,Pn,w=>r(22,ke=w));const zn=et(La);xe(e,zn,w=>r(21,Se=w));const jn=et(Fa);xe(e,jn,w=>r(20,ze=w));const Un=et(n);xe(e,Un,w=>r(19,Xe=w));const Ht=et(Ba);xe(e,Ht,w=>r(18,lt=w));const Ot=et(Ia);xe(e,Ot,w=>r(17,Ze=w));const Rr=et(Oa);xe(e,Rr,w=>r(16,Ie=w));const Vn=et(Ga);xe(e,Vn,w=>r(15,Te=w));const Hn=et(Fn);xe(e,Hn,w=>r(14,Q=w));const _n=et(Mn);xe(e,_n,w=>r(13,Ve=w));const Xn=et(ln);xe(e,Xn,w=>r(164,Ee=w));const Ya=et(sn);xe(e,Ya,w=>r(163,Ce=w));const Qa=et(un);xe(e,Qa,w=>r(162,De=w));const yn=et(cn);xe(e,yn,w=>r(161,Ae=w));const Wn=et(st);xe(e,Wn,w=>r(160,Y=w));const qn=et(Bn);xe(e,qn,w=>r(159,W=w));const Yn=et(Na);xe(e,Yn,w=>r(158,z=w));const Qn=et(Da);xe(e,Qn,w=>r(157,D=w));const Ka=et(at);xe(e,Ka,w=>r(11,T=w));const Za=et(Ua);xe(e,Za,w=>r(12,k=w));const Ja=pt([mn,bn,xr,Hr],([w,$t,br,ht])=>{const Gr={};return w&&(Gr.x=w),$t&&(Gr.y=$t),br&&(Gr.z=br),ht&&(Gr.r=ht),Gr});xe(e,Ja,w=>r(10,c=w));const $a=pt([Xa,dn,hn],([w])=>Object.assign({top:0,right:0,bottom:0,left:0},w));xe(e,$a,w=>r(37,wi=w));const mr=pt([dn,hn,$a],([w,$t,br])=>{const ht={};return ht.top=br.top,ht.right=w-br.right,ht.bottom=$t-br.bottom,ht.left=br.left,ht.width=ht.right-ht.left,ht.height=ht.bottom-ht.top,ht.width<=0&&Ci===!0&&console.warn("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),ht.height<=0&&Ci===!0&&console.warn("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),ht});xe(e,mr,w=>r(151,g=w));const Cr=pt([mr],([w])=>w.width);xe(e,Cr,w=>r(34,pi=w));const Lr=pt([mr],([w])=>w.height);xe(e,Lr,w=>r(35,xi=w));const Kt=pt([In,Ja,Va,Wn,qn,Qn,Yn],([w,$t,br,ht,Gr,wn,xo])=>{const qr={x:ht,y:Gr,r:wn,z:xo},ea=hl($t,br),Ef=Object.fromEntries(Object.keys(ea).map(Mi=>[Mi,qr[Mi]]));return Object.keys(ea).length>0?{...Fm(w,ea,Ef),...br}:{}});xe(e,Kt,w=>r(38,Ai=w));const pn=pt([Kt,Wa],Zo("x"));xe(e,pn,w=>r(39,uo=w));const Kn=pt([Kt,qa],Zo("y"));xe(e,Kn,w=>r(40,Qt=w));const Zn=pt([Kt,kr],Zo("z"));xe(e,Zn,w=>r(41,Ti=w));const ei=pt([Kt,gn],Zo("r"));xe(e,ei,w=>r(42,Nn=w));const Wr=pt([Wn,Kt,pn,Rr,vn,jn,Cr,Lr,Xn,Sr],rf("x"));xe(e,Wr,w=>r(9,m=w));const Jn=pt([mn,Wr],nf);xe(e,Jn,w=>r(47,bo=w));const ir=pt([qn,Kt,Kn,Vn,Xr,Un,Cr,Lr,Ya,Sr],rf("y"));xe(e,ir,w=>r(8,l=w));const xn=pt([bn,ir],nf);xe(e,xn,w=>r(48,go=w));const En=pt([Yn,Kt,Zn,Hn,Pn,Ht,Cr,Lr,Qa,Sr],rf("z"));xe(e,En,w=>r(7,f=w));const ti=pt([xr,En],nf);xe(e,ti,w=>r(49,vo=w));const $n=pt([Qn,Kt,ei,_n,zn,Ot,Cr,Lr,yn,Sr],rf("r"));xe(e,$n,w=>r(6,o=w));const Li=pt([Hr,$n],nf);xe(e,Li,w=>r(50,Tr=w));const Oi=pt([Wr],af);xe(e,Oi,w=>r(43,co=w));const Gi=pt([ir],af);xe(e,Gi,w=>r(44,ho=w));const Ni=pt([En],af);xe(e,Ni,w=>r(45,d=w));const Di=pt([$n],af);xe(e,Di,w=>r(46,mo=w));const Fi=pt([Cr,Lr],([w,$t])=>w/$t);xe(e,Fi,w=>r(36,Ei=w));function Or(w){ao[w?"unshift":"push"](()=>{Sa=w,r(2,Sa)})}function xf(){$r=this.clientWidth,en=this.clientHeight,r(0,$r),r(1,en)}return e.$$set=w=>{"ssr"in w&&r(3,Si=w.ssr),"pointerEvents"in w&&r(4,po=w.pointerEvents),"position"in w&&r(5,ki=w.position),"percentRange"in w&&r(111,Nt=w.percentRange),"width"in w&&r(112,Dn=w.width),"height"in w&&r(113,Ta=w.height),"containerWidth"in w&&r(0,$r=w.containerWidth),"containerHeight"in w&&r(1,en=w.containerHeight),"element"in w&&r(2,Sa=w.element),"x"in w&&r(114,tn=w.x),"y"in w&&r(115,rn=w.y),"z"in w&&r(116,Ur=w.z),"r"in w&&r(117,Vr=w.r),"data"in w&&r(118,nn=w.data),"xDomain"in w&&r(119,an=w.xDomain),"yDomain"in w&&r(120,Ct=w.yDomain),"zDomain"in w&&r(121,on=w.zDomain),"rDomain"in w&&r(122,fn=w.rDomain),"xNice"in w&&r(123,ka=w.xNice),"yNice"in w&&r(124,Ra=w.yNice),"zNice"in w&&r(125,Ca=w.zNice),"rNice"in w&&r(126,La=w.rNice),"xPadding"in w&&r(127,Oa=w.xPadding),"yPadding"in w&&r(128,Ga=w.yPadding),"zPadding"in w&&r(129,Fn=w.zPadding),"rPadding"in w&&r(130,Mn=w.rPadding),"xScale"in w&&r(131,st=w.xScale),"yScale"in w&&r(132,Bn=w.yScale),"zScale"in w&&r(133,Na=w.zScale),"rScale"in w&&r(134,Da=w.rScale),"xRange"in w&&r(135,ln=w.xRange),"yRange"in w&&r(136,sn=w.yRange),"zRange"in w&&r(137,un=w.zRange),"rRange"in w&&r(138,cn=w.rRange),"xReverse"in w&&r(139,Fa=w.xReverse),"yReverse"in w&&r(140,Ma=w.yReverse),"zReverse"in w&&r(141,Ba=w.zReverse),"rReverse"in w&&r(142,Ia=w.rReverse),"padding"in w&&r(143,Pa=w.padding),"extents"in w&&r(144,za=w.extents),"flatData"in w&&r(145,ja=w.flatData),"custom"in w&&r(146,Ua=w.custom),"debug"in w&&r(147,Ri=w.debug),"$$scope"in w&&r(152,Jr=w.$$scope)},e.$$.update=()=>{e.$$.dirty[4]&65792&&r(150,n=typeof Ma>"u"?typeof Bn.bandwidth!="function":Ma),e.$$.dirty[3]&2097152&&tn&&r(148,at.x=tn,at),e.$$.dirty[3]&4194304&&rn&&r(148,at.y=rn,at),e.$$.dirty[3]&8388608&&Ur&&r(148,at.z=Ur,at),e.$$.dirty[3]&16777216&&Vr&&r(148,at.r=Vr,at),e.$$.dirty[3]&67108864&&an&&r(148,at.xDomain=an,at),e.$$.dirty[3]&134217728&&Ct&&r(148,at.yDomain=Ct,at),e.$$.dirty[3]&268435456&&on&&r(148,at.zDomain=on,at),e.$$.dirty[3]&536870912&&fn&&r(148,at.rDomain=fn,at),e.$$.dirty[4]&2048&&ln&&r(148,at.xRange=ln,at),e.$$.dirty[4]&4096&&sn&&r(148,at.yRange=sn,at),e.$$.dirty[4]&8192&&un&&r(148,at.zRange=un,at),e.$$.dirty[4]&16384&&cn&&r(148,at.rRange=cn,at),e.$$.dirty[3]&262144&&tt(Sr,Aa=Nt,Aa),e.$$.dirty[0]&1&&tt(dn,wa=$r,wa),e.$$.dirty[0]&2&&tt(hn,Ea=en,Ea),e.$$.dirty[4]&1048576&&tt(Va,yi=hl(za),yi),e.$$.dirty[3]&33554432&&tt(Ha,xa=nn,xa),e.$$.dirty[3]&33554432|e.$$.dirty[4]&2097152&&tt(In,pa=ja||nn,pa),e.$$.dirty[4]&524288&&tt(Xa,_i=Pa,_i),e.$$.dirty[3]&2097152&&tt(mn,ya=On(tn),ya),e.$$.dirty[3]&4194304&&tt(bn,_a=On(rn),_a),e.$$.dirty[3]&8388608&&tt(xr,pr=On(Ur),pr),e.$$.dirty[3]&16777216&&tt(Hr,dr=On(Vr),dr),e.$$.dirty[3]&67108864&&tt(Wa,yr=an,yr),e.$$.dirty[3]&134217728&&tt(qa,Tt=Ct,Tt),e.$$.dirty[3]&268435456&&tt(kr,Vt=on,Vt),e.$$.dirty[3]&536870912&&tt(gn,Ut=fn,Ut),e.$$.dirty[3]&1073741824&&tt(vn,vt=ka,vt),e.$$.dirty[4]&1&&tt(Xr,dt=Ra,dt),e.$$.dirty[4]&2&&tt(Pn,ke=Ca,ke),e.$$.dirty[4]&4&&tt(zn,Se=La,Se),e.$$.dirty[4]&32768&&tt(jn,ze=Fa,ze),e.$$.dirty[4]&67108864&&tt(Un,Xe=n,Xe),e.$$.dirty[4]&131072&&tt(Ht,lt=Ba,lt),e.$$.dirty[4]&262144&&tt(Ot,Ze=Ia,Ze),e.$$.dirty[4]&8&&tt(Rr,Ie=Oa,Ie),e.$$.dirty[4]&16&&tt(Vn,Te=Ga,Te),e.$$.dirty[4]&32&&tt(Hn,Q=Fn,Q),e.$$.dirty[4]&64&&tt(_n,Ve=Mn,Ve),e.$$.dirty[4]&2048&&tt(Xn,Ee=ln,Ee),e.$$.dirty[4]&4096&&tt(Ya,Ce=sn,Ce),e.$$.dirty[4]&8192&&tt(Qa,De=un,De),e.$$.dirty[4]&16384&&tt(yn,Ae=cn,Ae),e.$$.dirty[4]&128&&tt(Wn,Y=st,Y),e.$$.dirty[4]&256&&tt(qn,W=Bn,W),e.$$.dirty[4]&512&&tt(Yn,z=Na,z),e.$$.dirty[4]&1024&&tt(Qn,D=Da,D),e.$$.dirty[4]&4194304&&tt(Za,k=Ua,k),e.$$.dirty[4]&16777216&&tt(Ka,T=at,T),e.$$.dirty[4]&33554432&&ro("LayerCake",i),e.$$.dirty[0]&1992|e.$$.dirty[4]&159383552&&g&&Ri===!0&&(Si===!0||typeof window<"u")&&yo({boundingBox:g,activeGetters:c,x:at.x,y:at.y,z:at.z,r:at.r,xScale:m,yScale:l,zScale:f,rScale:o})},r(149,i={activeGetters:Ja,width:Cr,height:Lr,percentRange:Sr,aspectRatio:Fi,containerWidth:dn,containerHeight:hn,x:mn,y:bn,z:xr,r:Hr,custom:Za,data:Ha,xNice:vn,yNice:Xr,zNice:Pn,rNice:zn,xReverse:jn,yReverse:Un,zReverse:Ht,rReverse:Ot,xPadding:Rr,yPadding:Vn,zPadding:Hn,rPadding:_n,padding:$a,flatData:In,extents:Kt,xDomain:pn,yDomain:Kn,zDomain:Zn,rDomain:ei,xRange:Oi,yRange:Gi,zRange:Ni,rRange:Di,config:Ka,xScale:Wr,xGet:Jn,yScale:ir,yGet:xn,zScale:En,zGet:ti,rScale:$n,rGet:Li}),[$r,en,Sa,Si,po,ki,o,f,l,m,c,T,k,Ve,Q,Te,Ie,Ze,lt,Xe,ze,Se,ke,dt,vt,dr,pr,_a,ya,pa,xa,Ea,wa,Aa,pi,xi,Ei,wi,Ai,uo,Qt,Ti,Nn,co,ho,d,mo,bo,go,vo,Tr,Sr,dn,hn,Va,Ha,In,Xa,mn,bn,xr,Hr,Wa,qa,kr,gn,vn,Xr,Pn,zn,jn,Un,Ht,Ot,Rr,Vn,Hn,_n,Xn,Ya,Qa,yn,Wn,qn,Yn,Qn,Ka,Za,Ja,$a,mr,Cr,Lr,Kt,pn,Kn,Zn,ei,Wr,Jn,ir,xn,En,ti,$n,Li,Oi,Gi,Ni,Di,Fi,Nt,Dn,Ta,tn,rn,Ur,Vr,nn,an,Ct,on,fn,ka,Ra,Ca,La,Oa,Ga,Fn,Mn,st,Bn,Na,Da,ln,sn,un,cn,Fa,Ma,Ba,Ia,Pa,za,ja,Ua,Ri,at,i,n,g,Jr,_o,Or,xf]}class qb extends ur{constructor(t){super(),cr(this,t,Y0,q0,nr,{ssr:3,pointerEvents:4,position:5,percentRange:111,width:112,height:113,containerWidth:0,containerHeight:1,element:2,x:114,y:115,z:116,r:117,data:118,xDomain:119,yDomain:120,zDomain:121,rDomain:122,xNice:123,yNice:124,zNice:125,rNice:126,xPadding:127,yPadding:128,zPadding:129,rPadding:130,xScale:131,yScale:132,zScale:133,rScale:134,xRange:135,yRange:136,zRange:137,rRange:138,xReverse:139,yReverse:140,zReverse:141,rReverse:142,padding:143,extents:144,flatData:145,custom:146,debug:147},null,[-1,-1,-1,-1,-1,-1])}}const Q0=e=>({element:e&1}),Du=e=>({element:e[0]});function K0(e){let t,r;const n=e[11].default,i=It(n,e,e[10],Du);return{c(){t=Xt("div"),i&&i.c(),this.h()},l(o){t=Wt(o,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var f=it(t);i&&i.l(f),f.forEach(Ne),this.h()},h(){J(t,"class","layercake-layout-html svelte-1bu60uu"),J(t,"role",e[6]),J(t,"aria-label",e[3]),J(t,"aria-labelledby",e[4]),J(t,"aria-describedby",e[5]),Qe(t,"z-index",e[1]),Qe(t,"pointer-events",e[2]===!1?"none":null),Qe(t,"top",e[7].top+"px"),Qe(t,"right",e[7].right+"px"),Qe(t,"bottom",e[7].bottom+"px"),Qe(t,"left",e[7].left+"px")},m(o,f){ot(o,t,f),i&&i.m(t,null),e[12](t),r=!0},p(o,[f]){i&&i.p&&(!r||f&1025)&&Pt(i,n,o,o[10],r?jt(n,o[10],f,Q0):zt(o[10]),Du),(!r||f&64)&&J(t,"role",o[6]),(!r||f&8)&&J(t,"aria-label",o[3]),(!r||f&16)&&J(t,"aria-labelledby",o[4]),(!r||f&32)&&J(t,"aria-describedby",o[5]),f&2&&Qe(t,"z-index",o[1]),f&4&&Qe(t,"pointer-events",o[2]===!1?"none":null),f&128&&Qe(t,"top",o[7].top+"px"),f&128&&Qe(t,"right",o[7].right+"px"),f&128&&Qe(t,"bottom",o[7].bottom+"px"),f&128&&Qe(t,"left",o[7].left+"px")},i(o){r||(gt(i,o),r=!0)},o(o){xt(i,o),r=!1},d(o){o&&Ne(t),i&&i.d(o),e[12](null)}}}function Z0(e,t,r){let n,i,{$$slots:o={},$$scope:f}=t;const{padding:l}=Jt("LayerCake");xe(e,l,Y=>r(7,i=Y));let{element:m=void 0}=t,{zIndex:c=void 0}=t,{pointerEvents:g=void 0}=t,{role:T=void 0}=t,{label:k=void 0}=t,{labelledBy:D=void 0}=t,{describedBy:z=void 0}=t;function W(Y){ao[Y?"unshift":"push"](()=>{m=Y,r(0,m)})}return e.$$set=Y=>{"element"in Y&&r(0,m=Y.element),"zIndex"in Y&&r(1,c=Y.zIndex),"pointerEvents"in Y&&r(2,g=Y.pointerEvents),"role"in Y&&r(9,T=Y.role),"label"in Y&&r(3,k=Y.label),"labelledBy"in Y&&r(4,D=Y.labelledBy),"describedBy"in Y&&r(5,z=Y.describedBy),"$$scope"in Y&&r(10,f=Y.$$scope)},e.$$.update=()=>{e.$$.dirty&568&&r(6,n=T||(k||D||z?"figure":void 0))},[m,c,g,k,D,z,n,i,l,T,f,o,W]}class Yb extends ur{constructor(t){super(),cr(this,t,Z0,K0,nr,{element:0,zIndex:1,pointerEvents:2,role:9,label:3,labelledBy:4,describedBy:5})}}const J0=e=>({element:e&1}),Fu=e=>({element:e[0]}),$0=e=>({}),Mu=e=>({}),eb=e=>({}),Bu=e=>({});function Iu(e){let t,r;return{c(){t=qt("title"),r=_f(e[8])},l(n){t=Yt(n,"title",{});var i=it(t);r=yf(i,e[8]),i.forEach(Ne)},m(n,i){ot(n,t,i),At(t,r)},p(n,i){i&256&&pf(r,n[8])},d(n){n&&Ne(t)}}}function tb(e){let t,r=e[8]&&Iu(e);return{c(){r&&r.c(),t=sr()},l(n){r&&r.l(n),t=sr()},m(n,i){r&&r.m(n,i),ot(n,t,i)},p(n,i){n[8]?r?r.p(n,i):(r=Iu(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&Ne(t),r&&r.d(n)}}}function rb(e){let t,r,n,i,o;const f=e[16].title,l=It(f,e,e[15],Bu),m=l||tb(e),c=e[16].defs,g=It(c,e,e[15],Mu),T=e[16].default,k=It(T,e,e[15],Fu);return{c(){t=qt("svg"),m&&m.c(),r=qt("defs"),g&&g.c(),n=qt("g"),k&&k.c(),this.h()},l(D){t=Yt(D,"svg",{class:!0,viewBox:!0,width:!0,height:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var z=it(t);m&&m.l(z),r=Yt(z,"defs",{});var W=it(r);g&&g.l(W),W.forEach(Ne),n=Yt(z,"g",{class:!0,transform:!0});var Y=it(n);k&&k.l(Y),Y.forEach(Ne),z.forEach(Ne),this.h()},h(){J(n,"class","layercake-layout-svg_g"),J(n,"transform",i="translate("+e[11].left+", "+e[11].top+")"),J(t,"class","layercake-layout-svg svelte-u84d8d"),J(t,"viewBox",e[4]),J(t,"width",e[9]),J(t,"height",e[10]),J(t,"aria-label",e[5]),J(t,"aria-labelledby",e[6]),J(t,"aria-describedby",e[7]),Qe(t,"z-index",e[2]),Qe(t,"pointer-events",e[3]===!1?"none":null)},m(D,z){ot(D,t,z),m&&m.m(t,null),At(t,r),g&&g.m(r,null),At(t,n),k&&k.m(n,null),e[17](n),e[18](t),o=!0},p(D,[z]){l?l.p&&(!o||z&32768)&&Pt(l,f,D,D[15],o?jt(f,D[15],z,eb):zt(D[15]),Bu):m&&m.p&&(!o||z&256)&&m.p(D,o?z:-1),g&&g.p&&(!o||z&32768)&&Pt(g,c,D,D[15],o?jt(c,D[15],z,$0):zt(D[15]),Mu),k&&k.p&&(!o||z&32769)&&Pt(k,T,D,D[15],o?jt(T,D[15],z,J0):zt(D[15]),Fu),(!o||z&2048&&i!==(i="translate("+D[11].left+", "+D[11].top+")"))&&J(n,"transform",i),(!o||z&16)&&J(t,"viewBox",D[4]),(!o||z&512)&&J(t,"width",D[9]),(!o||z&1024)&&J(t,"height",D[10]),(!o||z&32)&&J(t,"aria-label",D[5]),(!o||z&64)&&J(t,"aria-labelledby",D[6]),(!o||z&128)&&J(t,"aria-describedby",D[7]),z&4&&Qe(t,"z-index",D[2]),z&8&&Qe(t,"pointer-events",D[3]===!1?"none":null)},i(D){o||(gt(m,D),gt(g,D),gt(k,D),o=!0)},o(D){xt(m,D),xt(g,D),xt(k,D),o=!1},d(D){D&&Ne(t),m&&m.d(D),g&&g.d(D),k&&k.d(D),e[17](null),e[18](null)}}}function nb(e,t,r){let n,i,o,{$$slots:f={},$$scope:l}=t,{element:m=void 0}=t,{innerElement:c=void 0}=t,{zIndex:g=void 0}=t,{pointerEvents:T=void 0}=t,{viewBox:k=void 0}=t,{label:D=void 0}=t,{labelledBy:z=void 0}=t,{describedBy:W=void 0}=t,{title:Y=void 0}=t;const{containerWidth:Ae,containerHeight:De,padding:Ce}=Jt("LayerCake");xe(e,Ae,Q=>r(9,n=Q)),xe(e,De,Q=>r(10,i=Q)),xe(e,Ce,Q=>r(11,o=Q));function Ee(Q){ao[Q?"unshift":"push"](()=>{c=Q,r(1,c)})}function Ve(Q){ao[Q?"unshift":"push"](()=>{m=Q,r(0,m)})}return e.$$set=Q=>{"element"in Q&&r(0,m=Q.element),"innerElement"in Q&&r(1,c=Q.innerElement),"zIndex"in Q&&r(2,g=Q.zIndex),"pointerEvents"in Q&&r(3,T=Q.pointerEvents),"viewBox"in Q&&r(4,k=Q.viewBox),"label"in Q&&r(5,D=Q.label),"labelledBy"in Q&&r(6,z=Q.labelledBy),"describedBy"in Q&&r(7,W=Q.describedBy),"title"in Q&&r(8,Y=Q.title),"$$scope"in Q&&r(15,l=Q.$$scope)},[m,c,g,T,k,D,z,W,Y,n,i,o,Ae,De,Ce,l,f,Ee,Ve]}class Qb extends ur{constructor(t){super(),cr(this,t,nb,rb,nr,{element:0,innerElement:1,zIndex:2,pointerEvents:3,viewBox:4,label:5,labelledBy:6,describedBy:7,title:8})}}const ab=e=>({element:e&2,context:e&1}),Pu=e=>({element:e[1],context:e[0]}),ib=e=>({}),zu=e=>({});function ju(e){let t;return{c(){t=_f(e[4])},l(r){t=yf(r,e[4])},m(r,n){ot(r,t,n)},p(r,n){n&16&&pf(t,r[4])},d(r){r&&Ne(t)}}}function ob(e){let t,r=e[4]&&ju(e);return{c(){r&&r.c(),t=sr()},l(n){r&&r.l(n),t=sr()},m(n,i){r&&r.m(n,i),ot(n,t,i)},p(n,i){n[4]?r?r.p(n,i):(r=ju(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&Ne(t),r&&r.d(n)}}}function fb(e){let t,r,n;const i=e[12].fallback,o=It(i,e,e[11],zu),f=o||ob(e),l=e[12].default,m=It(l,e,e[11],Pu);return{c(){t=Xt("canvas"),f&&f.c(),r=ha(),m&&m.c(),this.h()},l(c){t=Wt(c,"CANVAS",{class:!0,style:!0,"aria-label":!0,"aria-labelledby":!0,"aria-describedby":!0});var g=it(t);f&&f.l(g),g.forEach(Ne),r=ma(c),m&&m.l(c),this.h()},h(){J(t,"class","layercake-layout-webgl"),Qe(t,"width","100%"),Qe(t,"height","100%"),Qe(t,"position","absolute"),J(t,"aria-label",e[5]),J(t,"aria-labelledby",e[6]),J(t,"aria-describedby",e[7]),Qe(t,"z-index",e[2]),Qe(t,"pointer-events",e[3]===!1?"none":null),Qe(t,"top",e[8].top+"px"),Qe(t,"right",e[8].right+"px"),Qe(t,"bottom",e[8].bottom+"px"),Qe(t,"left",e[8].left+"px")},m(c,g){ot(c,t,g),f&&f.m(t,null),e[13](t),ot(c,r,g),m&&m.m(c,g),n=!0},p(c,[g]){o?o.p&&(!n||g&2048)&&Pt(o,i,c,c[11],n?jt(i,c[11],g,ib):zt(c[11]),zu):f&&f.p&&(!n||g&16)&&f.p(c,n?g:-1),(!n||g&32)&&J(t,"aria-label",c[5]),(!n||g&64)&&J(t,"aria-labelledby",c[6]),(!n||g&128)&&J(t,"aria-describedby",c[7]),g&4&&Qe(t,"z-index",c[2]),g&8&&Qe(t,"pointer-events",c[3]===!1?"none":null),g&256&&Qe(t,"top",c[8].top+"px"),g&256&&Qe(t,"right",c[8].right+"px"),g&256&&Qe(t,"bottom",c[8].bottom+"px"),g&256&&Qe(t,"left",c[8].left+"px"),m&&m.p&&(!n||g&2051)&&Pt(m,l,c,c[11],n?jt(l,c[11],g,ab):zt(c[11]),Pu)},i(c){n||(gt(f,c),gt(m,c),n=!0)},o(c){xt(f,c),xt(m,c),n=!1},d(c){c&&(Ne(t),Ne(r)),f&&f.d(c),e[13](null),m&&m.d(c)}}}function lb(e,t,r){let n,{$$slots:i={},$$scope:o}=t,{element:f=void 0}=t,{zIndex:l=void 0}=t,{pointerEvents:m=void 0}=t,{contextAttributes:c=void 0}=t,{context:g=void 0}=t,{fallback:T=""}=t,{label:k=void 0}=t,{labelledBy:D=void 0}=t,{describedBy:z=void 0}=t,W;const{padding:Y}=Jt("LayerCake");xe(e,Y,Ce=>r(8,n=Ce));const Ae={gl:et({})};ec(()=>{const Ce=["webgl","experimental-webgl","moz-webgl","webkit-3d"];for(let Ee=0;Ee<Ce.length;Ee++)if(W=f.getContext(Ce[Ee],c),W){r(0,g=W);break}}),ro("gl",Ae);function De(Ce){ao[Ce?"unshift":"push"](()=>{f=Ce,r(1,f)})}return e.$$set=Ce=>{"element"in Ce&&r(1,f=Ce.element),"zIndex"in Ce&&r(2,l=Ce.zIndex),"pointerEvents"in Ce&&r(3,m=Ce.pointerEvents),"contextAttributes"in Ce&&r(10,c=Ce.contextAttributes),"context"in Ce&&r(0,g=Ce.context),"fallback"in Ce&&r(4,T=Ce.fallback),"label"in Ce&&r(5,k=Ce.label),"labelledBy"in Ce&&r(6,D=Ce.labelledBy),"describedBy"in Ce&&r(7,z=Ce.describedBy),"$$scope"in Ce&&r(11,o=Ce.$$scope)},e.$$.update=()=>{e.$$.dirty&1&&Ae.gl.set(g)},[g,f,l,m,T,k,D,z,n,Y,c,o,i,De]}class Kb extends ur{constructor(t){super(),cr(this,t,lb,fb,nr,{element:1,zIndex:2,pointerEvents:3,contextAttributes:10,context:0,fallback:4,label:5,labelledBy:6,describedBy:7})}}var Ac={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(dm,function(){var r=function(a){return a instanceof Uint8Array||a instanceof Uint16Array||a instanceof Uint32Array||a instanceof Int8Array||a instanceof Int16Array||a instanceof Int32Array||a instanceof Float32Array||a instanceof Float64Array||a instanceof Uint8ClampedArray},n=function(a,u){for(var p=Object.keys(u),M=0;M<p.length;++M)a[p[M]]=u[p[M]];return a},i=`
`;function o(a){return typeof atob<"u"?atob(a):"base64:"+a}function f(a){var u=new Error("(regl) "+a);throw console.error(u),u}function l(a,u){a||f(u)}function m(a){return a?": "+a:""}function c(a,u,p){a in u||f("unknown parameter ("+a+")"+m(p)+". possible values: "+Object.keys(u).join())}function g(a,u){r(a)||f("invalid parameter type"+m(u)+". must be a typed array")}function T(a,u){switch(u){case"number":return typeof a=="number";case"object":return typeof a=="object";case"string":return typeof a=="string";case"boolean":return typeof a=="boolean";case"function":return typeof a=="function";case"undefined":return typeof a>"u";case"symbol":return typeof a=="symbol"}}function k(a,u,p){T(a,u)||f("invalid parameter type"+m(p)+". expected "+u+", got "+typeof a)}function D(a,u){a>=0&&(a|0)===a||f("invalid parameter type, ("+a+")"+m(u)+". must be a nonnegative integer")}function z(a,u,p){u.indexOf(a)<0&&f("invalid value"+m(p)+". must be one of: "+u)}var W=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function Y(a){Object.keys(a).forEach(function(u){W.indexOf(u)<0&&f('invalid regl constructor argument "'+u+'". must be one of '+W)})}function Ae(a,u){for(a=a+"";a.length<u;)a=" "+a;return a}function De(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function Ce(a,u){this.number=a,this.line=u,this.errors=[]}function Ee(a,u,p){this.file=a,this.line=u,this.message=p}function Ve(){var a=new Error,u=(a.stack||a).toString(),p=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(u);if(p)return p[1];var M=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(u);return M?M[1]:"unknown"}function Q(){var a=new Error,u=(a.stack||a).toString(),p=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(u);if(p)return p[1];var M=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(u);return M?M[1]:"unknown"}function Te(a,u){var p=a.split(`
`),M=1,H=0,F={unknown:new De,0:new De};F.unknown.name=F[0].name=u||Ve(),F.unknown.lines.push(new Ce(0,""));for(var P=0;P<p.length;++P){var ee=p[P],$=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(ee);if($)switch($[1]){case"line":var ie=/(\d+)(\s+\d+)?/.exec($[2]);ie&&(M=ie[1]|0,ie[2]&&(H=ie[2]|0,H in F||(F[H]=new De)));break;case"define":var fe=/SHADER_NAME(_B64)?\s+(.*)$/.exec($[2]);fe&&(F[H].name=fe[1]?o(fe[2]):fe[2]);break}F[H].lines.push(new Ce(M++,ee))}return Object.keys(F).forEach(function(oe){var se=F[oe];se.lines.forEach(function(te){se.index[te.number]=te})}),F}function Ie(a){var u=[];return a.split(`
`).forEach(function(p){if(!(p.length<5)){var M=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(p);M?u.push(new Ee(M[1]|0,M[2]|0,M[3].trim())):p.length>0&&u.push(new Ee("unknown",0,p))}}),u}function Ze(a,u){u.forEach(function(p){var M=a[p.file];if(M){var H=M.index[p.line];if(H){H.errors.push(p),M.hasErrors=!0;return}}a.unknown.hasErrors=!0,a.unknown.lines[0].errors.push(p)})}function lt(a,u,p,M,H){if(!a.getShaderParameter(u,a.COMPILE_STATUS)){var F=a.getShaderInfoLog(u),P=M===a.FRAGMENT_SHADER?"fragment":"vertex";Ut(p,"string",P+" shader source must be a string",H);var ee=Te(p,H),$=Ie(F);Ze(ee,$),Object.keys(ee).forEach(function(ie){var fe=ee[ie];if(!fe.hasErrors)return;var oe=[""],se=[""];function te(ae,C){oe.push(ae),se.push(C||"")}te("file number "+ie+": "+fe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),fe.lines.forEach(function(ae){if(ae.errors.length>0){te(Ae(ae.number,4)+"|  ","background-color:yellow; font-weight:bold"),te(ae.line+i,"color:red; background-color:yellow; font-weight:bold");var C=0;ae.errors.forEach(function(I){var ne=I.message,ve=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ne);if(ve){var Z=ve[1];switch(ne=ve[2],Z){case"assign":Z="=";break}C=Math.max(ae.line.indexOf(Z,C),0)}else C=0;te(Ae("| ",6)),te(Ae("^^^",C+3)+i,"font-weight:bold"),te(Ae("| ",6)),te(ne+i,"font-weight:bold")}),te(Ae("| ",6)+i)}else te(Ae(ae.number,4)+"|  "),te(ae.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(se[0]=oe.join("%c"),console.log.apply(console,se)):console.log(oe.join(""))}),l.raise("Error compiling "+P+" shader, "+ee[0].name)}}function Xe(a,u,p,M,H){if(!a.getProgramParameter(u,a.LINK_STATUS)){var F=a.getProgramInfoLog(u),P=Te(p,H),ee=Te(M,H),$='Error linking program with vertex shader, "'+ee[0].name+'", and fragment shader "'+P[0].name+'"';typeof document<"u"?console.log("%c"+$+i+"%c"+F,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log($+i+F),l.raise($)}}function ze(a){a._commandRef=Ve()}function Se(a,u,p,M){ze(a);function H($){return $?M.id($):0}a._fragId=H(a.static.frag),a._vertId=H(a.static.vert);function F($,ie){Object.keys(ie).forEach(function(fe){$[M.id(fe)]=!0})}var P=a._uniformSet={};F(P,u.static),F(P,u.dynamic);var ee=a._attributeSet={};F(ee,p.static),F(ee,p.dynamic),a._hasCount="count"in a.static||"count"in a.dynamic||"elements"in a.static||"elements"in a.dynamic}function ke(a,u){var p=Q();f(a+" in command "+(u||Ve())+(p==="unknown"?"":" called from "+p))}function dt(a,u,p){a||ke(u,p||Ve())}function vt(a,u,p,M){a in u||ke("unknown parameter ("+a+")"+m(p)+". possible values: "+Object.keys(u).join(),M||Ve())}function Ut(a,u,p,M){T(a,u)||ke("invalid parameter type"+m(p)+". expected "+u+", got "+typeof a,M||Ve())}function Vt(a){a()}function Tt(a,u,p){a.texture?z(a.texture._texture.internalformat,u,"unsupported texture format for attachment"):z(a.renderbuffer._renderbuffer.format,p,"unsupported renderbuffer format for attachment")}var yr=33071,dr=9728,pr=9984,_a=9985,ya=9986,_i=9987,pa=5120,xa=5121,yi=5122,Ea=5123,wa=5124,Aa=5125,pi=5126,xi=32819,Ei=32820,wi=33635,Ai=34042,uo=36193,Qt={};Qt[pa]=Qt[xa]=1,Qt[yi]=Qt[Ea]=Qt[uo]=Qt[wi]=Qt[xi]=Qt[Ei]=2,Qt[wa]=Qt[Aa]=Qt[pi]=Qt[Ai]=4;function Ti(a,u){return a===Ei||a===xi||a===wi?2:a===Ai?4:Qt[a]*u}function Nn(a){return!(a&a-1)&&!!a}function co(a,u,p){var M,H=u.width,F=u.height,P=u.channels;l(H>0&&H<=p.maxTextureSize&&F>0&&F<=p.maxTextureSize,"invalid texture shape"),(a.wrapS!==yr||a.wrapT!==yr)&&l(Nn(H)&&Nn(F),"incompatible wrap mode for texture, both width and height must be power of 2"),u.mipmask===1?H!==1&&F!==1&&l(a.minFilter!==pr&&a.minFilter!==ya&&a.minFilter!==_a&&a.minFilter!==_i,"min filter requires mipmap"):(l(Nn(H)&&Nn(F),"texture must be a square power of 2 to support mipmapping"),l(u.mipmask===(H<<1)-1,"missing or incomplete mipmap data")),u.type===pi&&(p.extensions.indexOf("oes_texture_float_linear")<0&&l(a.minFilter===dr&&a.magFilter===dr,"filter not supported, must enable oes_texture_float_linear"),l(!a.genMipmaps,"mipmap generation not supported with float textures"));var ee=u.images;for(M=0;M<16;++M)if(ee[M]){var $=H>>M,ie=F>>M;l(u.mipmask&1<<M,"missing mipmap data");var fe=ee[M];if(l(fe.width===$&&fe.height===ie,"invalid shape for mip images"),l(fe.format===u.format&&fe.internalformat===u.internalformat&&fe.type===u.type,"incompatible type for mip image"),!fe.compressed)if(fe.data){var oe=Math.ceil(Ti(fe.type,P)*$/fe.unpackAlignment)*fe.unpackAlignment;l(fe.data.byteLength===oe*ie,"invalid data for image, buffer size is inconsistent with image format")}else fe.element||fe.copy}else a.genMipmaps||l((u.mipmask&1<<M)===0,"extra mipmap data");u.compressed&&l(!a.genMipmaps,"mipmap generation for compressed images not supported")}function ho(a,u,p,M){var H=a.width,F=a.height,P=a.channels;l(H>0&&H<=M.maxTextureSize&&F>0&&F<=M.maxTextureSize,"invalid texture shape"),l(H===F,"cube map must be square"),l(u.wrapS===yr&&u.wrapT===yr,"wrap mode not supported by cube map");for(var ee=0;ee<p.length;++ee){var $=p[ee];l($.width===H&&$.height===F,"inconsistent cube map face shape"),u.genMipmaps&&(l(!$.compressed,"can not generate mipmap for compressed textures"),l($.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ie=$.images,fe=0;fe<16;++fe){var oe=ie[fe];if(oe){var se=H>>fe,te=F>>fe;l($.mipmask&1<<fe,"missing mipmap data"),l(oe.width===se&&oe.height===te,"invalid shape for mip images"),l(oe.format===a.format&&oe.internalformat===a.internalformat&&oe.type===a.type,"incompatible type for mip image"),oe.compressed||(oe.data?l(oe.data.byteLength===se*te*Math.max(Ti(oe.type,P),oe.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):oe.element||oe.copy)}}}}var d=n(l,{optional:Vt,raise:f,commandRaise:ke,command:dt,parameter:c,commandParameter:vt,constructor:Y,type:k,commandType:Ut,isTypedArray:g,nni:D,oneOf:z,shaderError:lt,linkError:Xe,callSite:Q,saveCommandRef:ze,saveDrawInfo:Se,framebufferFormat:Tt,guessCommand:Ve,texture2D:co,textureCube:ho}),mo=0,bo=0,go=5,vo=6;function Tr(a,u){this.id=mo++,this.type=a,this.data=u}function _o(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Jr(a){if(a.length===0)return[];var u=a.charAt(0),p=a.charAt(a.length-1);if(a.length>1&&u===p&&(u==='"'||u==="'"))return['"'+_o(a.substr(1,a.length-2))+'"'];var M=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(a);if(M)return Jr(a.substr(0,M.index)).concat(Jr(M[1])).concat(Jr(a.substr(M.index+M[0].length)));var H=a.split(".");if(H.length===1)return['"'+_o(a)+'"'];for(var F=[],P=0;P<H.length;++P)F=F.concat(Jr(H[P]));return F}function yo(a){return"["+Jr(a).join("][")+"]"}function Si(a,u){return new Tr(a,yo(u+""))}function po(a){return typeof a=="function"&&!a._reglType||a instanceof Tr}function ki(a,u){if(typeof a=="function")return new Tr(bo,a);if(typeof a=="number"||typeof a=="boolean")return new Tr(go,a);if(Array.isArray(a))return new Tr(vo,a.map(function(p,M){return ki(p,u+"["+M+"]")}));if(a instanceof Tr)return a;d(!1,"invalid option type in uniform "+u)}var Nt={DynamicVariable:Tr,define:Si,isDynamic:po,unbox:ki,accessor:yo},Dn={next:typeof requestAnimationFrame=="function"?function(a){return requestAnimationFrame(a)}:function(a){return setTimeout(a,16)},cancel:typeof cancelAnimationFrame=="function"?function(a){return cancelAnimationFrame(a)}:clearTimeout},Ta=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function $r(){var a={"":0},u=[""];return{id:function(p){var M=a[p];return M||(M=a[p]=u.length,u.push(p),M)},str:function(p){return u[p]}}}function en(a,u,p){var M=document.createElement("canvas");n(M.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),a.appendChild(M),a===document.body&&(M.style.position="absolute",n(a.style,{margin:0,padding:0}));function H(){var ee=window.innerWidth,$=window.innerHeight;if(a!==document.body){var ie=M.getBoundingClientRect();ee=ie.right-ie.left,$=ie.bottom-ie.top}M.width=p*ee,M.height=p*$}var F;a!==document.body&&typeof ResizeObserver=="function"?(F=new ResizeObserver(function(){setTimeout(H)}),F.observe(a)):window.addEventListener("resize",H,!1);function P(){F?F.disconnect():window.removeEventListener("resize",H),a.removeChild(M)}return H(),{canvas:M,onDestroy:P}}function Sa(a,u){function p(M){try{return a.getContext(M,u)}catch{return null}}return p("webgl")||p("experimental-webgl")||p("webgl-experimental")}function tn(a){return typeof a.nodeName=="string"&&typeof a.appendChild=="function"&&typeof a.getBoundingClientRect=="function"}function rn(a){return typeof a.drawArrays=="function"||typeof a.drawElements=="function"}function Ur(a){return typeof a=="string"?a.split():(d(Array.isArray(a),"invalid extension array"),a)}function Vr(a){return typeof a=="string"?(d(typeof document<"u","not supported outside of DOM"),document.querySelector(a)):a}function nn(a){var u=a||{},p,M,H,F,P={},ee=[],$=[],ie=typeof window>"u"?1:window.devicePixelRatio,fe=!1,oe=function(ae){ae&&d.raise(ae)},se=function(){};if(typeof u=="string"?(d(typeof document<"u","selector queries only supported in DOM enviroments"),p=document.querySelector(u),d(p,"invalid query string for element")):typeof u=="object"?tn(u)?p=u:rn(u)?(F=u,H=F.canvas):(d.constructor(u),"gl"in u?F=u.gl:"canvas"in u?H=Vr(u.canvas):"container"in u&&(M=Vr(u.container)),"attributes"in u&&(P=u.attributes,d.type(P,"object","invalid context attributes")),"extensions"in u&&(ee=Ur(u.extensions)),"optionalExtensions"in u&&($=Ur(u.optionalExtensions)),"onDone"in u&&(d.type(u.onDone,"function","invalid or missing onDone callback"),oe=u.onDone),"profile"in u&&(fe=!!u.profile),"pixelRatio"in u&&(ie=+u.pixelRatio,d(ie>0,"invalid pixel ratio"))):d.raise("invalid arguments to regl"),p&&(p.nodeName.toLowerCase()==="canvas"?H=p:M=p),!F){if(!H){d(typeof document<"u","must manually specify webgl context outside of DOM environments");var te=en(M||document.body,oe,ie);if(!te)return null;H=te.canvas,se=te.onDestroy}P.premultipliedAlpha===void 0&&(P.premultipliedAlpha=!0),F=Sa(H,P)}return F?{gl:F,canvas:H,container:M,extensions:ee,optionalExtensions:$,pixelRatio:ie,profile:fe,onDone:oe,onDestroy:se}:(se(),oe("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function an(a,u){var p={};function M(P){d.type(P,"string","extension name must be string");var ee=P.toLowerCase(),$;try{$=p[ee]=a.getExtension(ee)}catch{}return!!$}for(var H=0;H<u.extensions.length;++H){var F=u.extensions[H];if(!M(F))return u.onDestroy(),u.onDone('"'+F+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return u.optionalExtensions.forEach(M),{extensions:p,restore:function(){Object.keys(p).forEach(function(P){if(p[P]&&!M(P))throw new Error("(regl): error restoring extension "+P)})}}}function Ct(a,u){for(var p=Array(a),M=0;M<a;++M)p[M]=u(M);return p}var on=5120,fn=5121,ka=5122,Ra=5123,Ca=5124,La=5125,Oa=5126;function Ga(a){for(var u=16;u<=1<<28;u*=16)if(a<=u)return u;return 0}function Fn(a){var u,p;return u=(a>65535)<<4,a>>>=u,p=(a>255)<<3,a>>>=p,u|=p,p=(a>15)<<2,a>>>=p,u|=p,p=(a>3)<<1,a>>>=p,u|=p,u|a>>1}function Mn(){var a=Ct(8,function(){return[]});function u(F){var P=Ga(F),ee=a[Fn(P)>>2];return ee.length>0?ee.pop():new ArrayBuffer(P)}function p(F){a[Fn(F.byteLength)>>2].push(F)}function M(F,P){var ee=null;switch(F){case on:ee=new Int8Array(u(P),0,P);break;case fn:ee=new Uint8Array(u(P),0,P);break;case ka:ee=new Int16Array(u(2*P),0,P);break;case Ra:ee=new Uint16Array(u(2*P),0,P);break;case Ca:ee=new Int32Array(u(4*P),0,P);break;case La:ee=new Uint32Array(u(4*P),0,P);break;case Oa:ee=new Float32Array(u(4*P),0,P);break;default:return null}return ee.length!==P?ee.subarray(0,P):ee}function H(F){p(F.buffer)}return{alloc:u,free:p,allocType:M,freeType:H}}var st=Mn();st.zero=Mn();var Bn=3408,Na=3410,Da=3411,ln=3412,sn=3413,un=3414,cn=3415,Fa=33901,Ma=33902,Ba=3379,Ia=3386,Pa=34921,za=36347,ja=36348,Ua=35661,Ri=35660,Ci=34930,at=36349,Sr=34076,dn=34024,hn=7936,Va=7937,Ha=7938,In=35724,Xa=34047,mn=36063,bn=34852,xr=3553,Hr=34067,Wa=34069,qa=33984,kr=6408,gn=5126,vn=5121,Xr=36160,Pn=36053,zn=36064,jn=16384,Un=function(a,u){var p=1;u.ext_texture_filter_anisotropic&&(p=a.getParameter(Xa));var M=1,H=1;u.webgl_draw_buffers&&(M=a.getParameter(bn),H=a.getParameter(mn));var F=!!u.oes_texture_float;if(F){var P=a.createTexture();a.bindTexture(xr,P),a.texImage2D(xr,0,kr,1,1,0,kr,gn,null);var ee=a.createFramebuffer();if(a.bindFramebuffer(Xr,ee),a.framebufferTexture2D(Xr,zn,xr,P,0),a.bindTexture(xr,null),a.checkFramebufferStatus(Xr)!==Pn)F=!1;else{a.viewport(0,0,1,1),a.clearColor(1,0,0,1),a.clear(jn);var $=st.allocType(gn,4);a.readPixels(0,0,1,1,kr,gn,$),a.getError()?F=!1:(a.deleteFramebuffer(ee),a.deleteTexture(P),F=$[0]===1),st.freeType($)}}var ie=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),fe=!0;if(!ie){var oe=a.createTexture(),se=st.allocType(vn,36);a.activeTexture(qa),a.bindTexture(Hr,oe),a.texImage2D(Wa,0,kr,3,3,0,kr,vn,se),st.freeType(se),a.bindTexture(Hr,null),a.deleteTexture(oe),fe=!a.getError()}return{colorBits:[a.getParameter(Na),a.getParameter(Da),a.getParameter(ln),a.getParameter(sn)],depthBits:a.getParameter(un),stencilBits:a.getParameter(cn),subpixelBits:a.getParameter(Bn),extensions:Object.keys(u).filter(function(te){return!!u[te]}),maxAnisotropic:p,maxDrawbuffers:M,maxColorAttachments:H,pointSizeDims:a.getParameter(Fa),lineWidthDims:a.getParameter(Ma),maxViewportDims:a.getParameter(Ia),maxCombinedTextureUnits:a.getParameter(Ua),maxCubeMapSize:a.getParameter(Sr),maxRenderbufferSize:a.getParameter(dn),maxTextureUnits:a.getParameter(Ci),maxTextureSize:a.getParameter(Ba),maxAttributes:a.getParameter(Pa),maxVertexUniforms:a.getParameter(za),maxVertexTextureUnits:a.getParameter(Ri),maxVaryingVectors:a.getParameter(ja),maxFragmentUniforms:a.getParameter(at),glsl:a.getParameter(In),renderer:a.getParameter(Va),vendor:a.getParameter(hn),version:a.getParameter(Ha),readFloat:F,npotTextureCube:fe}};function Ht(a){return!!a&&typeof a=="object"&&Array.isArray(a.shape)&&Array.isArray(a.stride)&&typeof a.offset=="number"&&a.shape.length===a.stride.length&&(Array.isArray(a.data)||r(a.data))}var Ot=function(a){return Object.keys(a).map(function(u){return a[u]})},Rr={shape:Qa,flatten:Ya};function Vn(a,u,p){for(var M=0;M<u;++M)p[M]=a[M]}function Hn(a,u,p,M){for(var H=0,F=0;F<u;++F)for(var P=a[F],ee=0;ee<p;++ee)M[H++]=P[ee]}function _n(a,u,p,M,H,F){for(var P=F,ee=0;ee<u;++ee)for(var $=a[ee],ie=0;ie<p;++ie)for(var fe=$[ie],oe=0;oe<M;++oe)H[P++]=fe[oe]}function Xn(a,u,p,M,H){for(var F=1,P=p+1;P<u.length;++P)F*=u[P];var ee=u[p];if(u.length-p===4){var $=u[p+1],ie=u[p+2],fe=u[p+3];for(P=0;P<ee;++P)_n(a[P],$,ie,fe,M,H),H+=F}else for(P=0;P<ee;++P)Xn(a[P],u,p+1,M,H),H+=F}function Ya(a,u,p,M){var H=1;if(u.length)for(var F=0;F<u.length;++F)H*=u[F];else H=0;var P=M||st.allocType(p,H);switch(u.length){case 0:break;case 1:Vn(a,u[0],P);break;case 2:Hn(a,u[0],u[1],P);break;case 3:_n(a,u[0],u[1],u[2],P,0);break;default:Xn(a,u,0,P,0)}return P}function Qa(a){for(var u=[],p=a;p.length;p=p[0])u.push(p.length);return u}var yn={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Wn=5120,qn=5122,Yn=5124,Qn=5121,Ka=5123,Za=5125,Ja=5126,$a=5126,mr={int8:Wn,int16:qn,int32:Yn,uint8:Qn,uint16:Ka,uint32:Za,float:Ja,float32:$a},Cr=35048,Lr=35040,Kt={dynamic:Cr,stream:Lr,static:35044},pn=Rr.flatten,Kn=Rr.shape,Zn=35044,ei=35040,Wr=5121,Jn=5126,ir=[];ir[5120]=1,ir[5122]=2,ir[5124]=4,ir[5121]=1,ir[5123]=2,ir[5125]=4,ir[5126]=4;function xn(a){return yn[Object.prototype.toString.call(a)]|0}function En(a,u){for(var p=0;p<u.length;++p)a[p]=u[p]}function ti(a,u,p,M,H,F,P){for(var ee=0,$=0;$<p;++$)for(var ie=0;ie<M;++ie)a[ee++]=u[H*$+F*ie+P]}function $n(a,u,p,M){var H=0,F={};function P(C){this.id=H++,this.buffer=a.createBuffer(),this.type=C,this.usage=Zn,this.byteLength=0,this.dimension=1,this.dtype=Wr,this.persistentData=null,p.profile&&(this.stats={size:0})}P.prototype.bind=function(){a.bindBuffer(this.type,this.buffer)},P.prototype.destroy=function(){se(this)};var ee=[];function $(C,I){var ne=ee.pop();return ne||(ne=new P(C)),ne.bind(),oe(ne,I,ei,0,1,!1),ne}function ie(C){ee.push(C)}function fe(C,I,ne){C.byteLength=I.byteLength,a.bufferData(C.type,I,ne)}function oe(C,I,ne,ve,Z,be){var he;if(C.usage=ne,Array.isArray(I)){if(C.dtype=ve||Jn,I.length>0){var Oe;if(Array.isArray(I[0])){he=Kn(I);for(var X=1,V=1;V<he.length;++V)X*=he[V];C.dimension=X,Oe=pn(I,he,C.dtype),fe(C,Oe,ne),be?C.persistentData=Oe:st.freeType(Oe)}else if(typeof I[0]=="number"){C.dimension=Z;var pe=st.allocType(C.dtype,I.length);En(pe,I),fe(C,pe,ne),be?C.persistentData=pe:st.freeType(pe)}else r(I[0])?(C.dimension=I[0].length,C.dtype=ve||xn(I[0])||Jn,Oe=pn(I,[I.length,I[0].length],C.dtype),fe(C,Oe,ne),be?C.persistentData=Oe:st.freeType(Oe)):d.raise("invalid buffer data")}}else if(r(I))C.dtype=ve||xn(I),C.dimension=Z,fe(C,I,ne),be&&(C.persistentData=new Uint8Array(new Uint8Array(I.buffer)));else if(Ht(I)){he=I.shape;var ue=I.stride,re=I.offset,ce=0,de=0,je=0,Pe=0;he.length===1?(ce=he[0],de=1,je=ue[0],Pe=0):he.length===2?(ce=he[0],de=he[1],je=ue[0],Pe=ue[1]):d.raise("invalid shape"),C.dtype=ve||xn(I.data)||Jn,C.dimension=de;var me=st.allocType(C.dtype,ce*de);ti(me,I.data,ce,de,je,Pe,re),fe(C,me,ne),be?C.persistentData=me:st.freeType(me)}else I instanceof ArrayBuffer?(C.dtype=Wr,C.dimension=Z,fe(C,I,ne),be&&(C.persistentData=new Uint8Array(new Uint8Array(I)))):d.raise("invalid buffer data")}function se(C){u.bufferCount--,M(C);var I=C.buffer;d(I,"buffer must not be deleted already"),a.deleteBuffer(I),C.buffer=null,delete F[C.id]}function te(C,I,ne,ve){u.bufferCount++;var Z=new P(I);F[Z.id]=Z;function be(X){var V=Zn,pe=null,ue=0,re=0,ce=1;return Array.isArray(X)||r(X)||Ht(X)||X instanceof ArrayBuffer?pe=X:typeof X=="number"?ue=X|0:X&&(d.type(X,"object","buffer arguments must be an object, a number or an array"),"data"in X&&(d(pe===null||Array.isArray(pe)||r(pe)||Ht(pe),"invalid data for buffer"),pe=X.data),"usage"in X&&(d.parameter(X.usage,Kt,"invalid buffer usage"),V=Kt[X.usage]),"type"in X&&(d.parameter(X.type,mr,"invalid buffer type"),re=mr[X.type]),"dimension"in X&&(d.type(X.dimension,"number","invalid dimension"),ce=X.dimension|0),"length"in X&&(d.nni(ue,"buffer length must be a nonnegative integer"),ue=X.length|0)),Z.bind(),pe?oe(Z,pe,V,re,ce,ve):(ue&&a.bufferData(Z.type,ue,V),Z.dtype=re||Wr,Z.usage=V,Z.dimension=ce,Z.byteLength=ue),p.profile&&(Z.stats.size=Z.byteLength*ir[Z.dtype]),be}function he(X,V){d(V+X.byteLength<=Z.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+X.byteLength+" starting from offset "+V+" to a buffer of size "+Z.byteLength),a.bufferSubData(Z.type,V,X)}function Oe(X,V){var pe=(V||0)|0,ue;if(Z.bind(),r(X)||X instanceof ArrayBuffer)he(X,pe);else if(Array.isArray(X)){if(X.length>0)if(typeof X[0]=="number"){var re=st.allocType(Z.dtype,X.length);En(re,X),he(re,pe),st.freeType(re)}else if(Array.isArray(X[0])||r(X[0])){ue=Kn(X);var ce=pn(X,ue,Z.dtype);he(ce,pe),st.freeType(ce)}else d.raise("invalid buffer data")}else if(Ht(X)){ue=X.shape;var de=X.stride,je=0,Pe=0,me=0,ge=0;ue.length===1?(je=ue[0],Pe=1,me=de[0],ge=0):ue.length===2?(je=ue[0],Pe=ue[1],me=de[0],ge=de[1]):d.raise("invalid shape");var Fe=Array.isArray(X.data)?Z.dtype:xn(X.data),Ue=st.allocType(Fe,je*Pe);ti(Ue,X.data,je,Pe,me,ge,X.offset),he(Ue,pe),st.freeType(Ue)}else d.raise("invalid data for buffer subdata");return be}return ne||be(C),be._reglType="buffer",be._buffer=Z,be.subdata=Oe,p.profile&&(be.stats=Z.stats),be.destroy=function(){se(Z)},be}function ae(){Ot(F).forEach(function(C){C.buffer=a.createBuffer(),a.bindBuffer(C.type,C.buffer),a.bufferData(C.type,C.persistentData||C.byteLength,C.usage)})}return p.profile&&(u.getTotalBufferSize=function(){var C=0;return Object.keys(F).forEach(function(I){C+=F[I].stats.size}),C}),{create:te,createStream:$,destroyStream:ie,clear:function(){Ot(F).forEach(se),ee.forEach(se)},getBuffer:function(C){return C&&C._buffer instanceof P?C._buffer:null},restore:ae,_initBuffer:oe}}var Li=0,Oi=0,Gi=1,Ni=1,Di=4,Fi=4,Or={points:Li,point:Oi,lines:Gi,line:Ni,triangles:Di,triangle:Fi,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},xf=0,w=1,$t=4,br=5120,ht=5121,Gr=5122,wn=5123,xo=5124,qr=5125,ea=34963,Ef=35040,Mi=35044;function kc(a,u,p,M){var H={},F=0,P={uint8:ht,uint16:wn};u.oes_element_index_uint&&(P.uint32=qr);function ee(ae){this.id=F++,H[this.id]=this,this.buffer=ae,this.primType=$t,this.vertCount=0,this.type=0}ee.prototype.bind=function(){this.buffer.bind()};var $=[];function ie(ae){var C=$.pop();return C||(C=new ee(p.create(null,ea,!0,!1)._buffer)),oe(C,ae,Ef,-1,-1,0,0),C}function fe(ae){$.push(ae)}function oe(ae,C,I,ne,ve,Z,be){ae.buffer.bind();var he;if(C){var Oe=be;!be&&(!r(C)||Ht(C)&&!r(C.data))&&(Oe=u.oes_element_index_uint?qr:wn),p._initBuffer(ae.buffer,C,I,Oe,3)}else a.bufferData(ea,Z,I),ae.buffer.dtype=he||ht,ae.buffer.usage=I,ae.buffer.dimension=3,ae.buffer.byteLength=Z;if(he=be,!be){switch(ae.buffer.dtype){case ht:case br:he=ht;break;case wn:case Gr:he=wn;break;case qr:case xo:he=qr;break;default:d.raise("unsupported type for element array")}ae.buffer.dtype=he}ae.type=he,d(he!==qr||!!u.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var X=ve;X<0&&(X=ae.buffer.byteLength,he===wn?X>>=1:he===qr&&(X>>=2)),ae.vertCount=X;var V=ne;if(ne<0){V=$t;var pe=ae.buffer.dimension;pe===1&&(V=xf),pe===2&&(V=w),pe===3&&(V=$t)}ae.primType=V}function se(ae){M.elementsCount--,d(ae.buffer!==null,"must not double destroy elements"),delete H[ae.id],ae.buffer.destroy(),ae.buffer=null}function te(ae,C){var I=p.create(null,ea,!0),ne=new ee(I._buffer);M.elementsCount++;function ve(Z){if(!Z)I(),ne.primType=$t,ne.vertCount=0,ne.type=ht;else if(typeof Z=="number")I(Z),ne.primType=$t,ne.vertCount=Z|0,ne.type=ht;else{var be=null,he=Mi,Oe=-1,X=-1,V=0,pe=0;Array.isArray(Z)||r(Z)||Ht(Z)?be=Z:(d.type(Z,"object","invalid arguments for elements"),"data"in Z&&(be=Z.data,d(Array.isArray(be)||r(be)||Ht(be),"invalid data for element buffer")),"usage"in Z&&(d.parameter(Z.usage,Kt,"invalid element buffer usage"),he=Kt[Z.usage]),"primitive"in Z&&(d.parameter(Z.primitive,Or,"invalid element buffer primitive"),Oe=Or[Z.primitive]),"count"in Z&&(d(typeof Z.count=="number"&&Z.count>=0,"invalid vertex count for elements"),X=Z.count|0),"type"in Z&&(d.parameter(Z.type,P,"invalid buffer type"),pe=P[Z.type]),"length"in Z?V=Z.length|0:(V=X,pe===wn||pe===Gr?V*=2:(pe===qr||pe===xo)&&(V*=4))),oe(ne,be,he,Oe,X,V,pe)}return ve}return ve(ae),ve._reglType="elements",ve._elements=ne,ve.subdata=function(Z,be){return I.subdata(Z,be),ve},ve.destroy=function(){se(ne)},ve}return{create:te,createStream:ie,destroyStream:fe,getElements:function(ae){return typeof ae=="function"&&ae._elements instanceof ee?ae._elements:null},clear:function(){Ot(H).forEach(se)}}}var Sl=new Float32Array(1),Rc=new Uint32Array(Sl.buffer),Cc=5123;function kl(a){for(var u=st.allocType(Cc,a.length),p=0;p<a.length;++p)if(isNaN(a[p]))u[p]=65535;else if(a[p]===1/0)u[p]=31744;else if(a[p]===-1/0)u[p]=64512;else{Sl[0]=a[p];var M=Rc[0],H=M>>>31<<15,F=(M<<1>>>24)-127,P=M>>13&1024-1;if(F<-24)u[p]=H;else if(F<-14){var ee=-14-F;u[p]=H+(P+1024>>ee)}else F>15?u[p]=H+31744:u[p]=H+(F+15<<10)+P}return u}function ut(a){return Array.isArray(a)||r(a)}var Rl=function(a){return!(a&a-1)&&!!a},Lc=34467,Nr=3553,wf=34067,Eo=34069,ta=6408,Af=6406,wo=6407,Bi=6409,Ao=6410,Cl=32854,Tf=32855,Ll=36194,Oc=32819,Gc=32820,Nc=33635,Dc=34042,Sf=6402,To=34041,kf=35904,Rf=35906,ri=36193,Cf=33776,Lf=33777,Of=33778,Gf=33779,Ol=35986,Gl=35987,Nl=34798,Dl=35840,Fl=35841,Ml=35842,Bl=35843,Il=36196,ni=5121,Nf=5123,Df=5125,Ii=5126,Fc=10242,Mc=10243,Bc=10497,Ff=33071,Ic=33648,Pc=10240,zc=10241,Mf=9728,jc=9729,Bf=9984,Pl=9985,zl=9986,If=9987,Uc=33170,So=4352,Vc=4353,Hc=4354,Xc=34046,Wc=3317,qc=37440,Yc=37441,Qc=37443,jl=37444,Pi=33984,Kc=[Bf,zl,Pl,If],ko=[0,Bi,Ao,wo,ta],gr={};gr[Bi]=gr[Af]=gr[Sf]=1,gr[To]=gr[Ao]=2,gr[wo]=gr[kf]=3,gr[ta]=gr[Rf]=4;function ai(a){return"[object "+a+"]"}var Ul=ai("HTMLCanvasElement"),Vl=ai("OffscreenCanvas"),Hl=ai("CanvasRenderingContext2D"),Xl=ai("ImageBitmap"),Wl=ai("HTMLImageElement"),ql=ai("HTMLVideoElement"),Zc=Object.keys(yn).concat([Ul,Vl,Hl,Xl,Wl,ql]),ii=[];ii[ni]=1,ii[Ii]=4,ii[ri]=2,ii[Nf]=2,ii[Df]=4;var Dt=[];Dt[Cl]=2,Dt[Tf]=2,Dt[Ll]=2,Dt[To]=4,Dt[Cf]=.5,Dt[Lf]=.5,Dt[Of]=1,Dt[Gf]=1,Dt[Ol]=.5,Dt[Gl]=1,Dt[Nl]=1,Dt[Dl]=.5,Dt[Fl]=.25,Dt[Ml]=.5,Dt[Bl]=.25,Dt[Il]=.5;function Yl(a){return Array.isArray(a)&&(a.length===0||typeof a[0]=="number")}function Ql(a){if(!Array.isArray(a))return!1;var u=a.length;return!(u===0||!ut(a[0]))}function ra(a){return Object.prototype.toString.call(a)}function Kl(a){return ra(a)===Ul}function Zl(a){return ra(a)===Vl}function Jc(a){return ra(a)===Hl}function $c(a){return ra(a)===Xl}function ed(a){return ra(a)===Wl}function td(a){return ra(a)===ql}function Pf(a){if(!a)return!1;var u=ra(a);return Zc.indexOf(u)>=0?!0:Yl(a)||Ql(a)||Ht(a)}function Jl(a){return yn[Object.prototype.toString.call(a)]|0}function rd(a,u){var p=u.length;switch(a.type){case ni:case Nf:case Df:case Ii:var M=st.allocType(a.type,p);M.set(u),a.data=M;break;case ri:a.data=kl(u);break;default:d.raise("unsupported texture type, must specify a typed array")}}function $l(a,u){return st.allocType(a.type===ri?Ii:a.type,u)}function es(a,u){a.type===ri?(a.data=kl(u),st.freeType(u)):a.data=u}function nd(a,u,p,M,H,F){for(var P=a.width,ee=a.height,$=a.channels,ie=P*ee*$,fe=$l(a,ie),oe=0,se=0;se<ee;++se)for(var te=0;te<P;++te)for(var ae=0;ae<$;++ae)fe[oe++]=u[p*te+M*se+H*ae+F];es(a,fe)}function Ro(a,u,p,M,H,F){var P;if(typeof Dt[a]<"u"?P=Dt[a]:P=gr[a]*ii[u],F&&(P*=6),H){for(var ee=0,$=p;$>=1;)ee+=P*$*$,$/=2;return ee}else return P*p*M}function ad(a,u,p,M,H,F,P){var ee={"don't care":So,"dont care":So,nice:Hc,fast:Vc},$={repeat:Bc,clamp:Ff,mirror:Ic},ie={nearest:Mf,linear:jc},fe=n({mipmap:If,"nearest mipmap nearest":Bf,"linear mipmap nearest":Pl,"nearest mipmap linear":zl,"linear mipmap linear":If},ie),oe={none:0,browser:jl},se={uint8:ni,rgba4:Oc,rgb565:Nc,"rgb5 a1":Gc},te={alpha:Af,luminance:Bi,"luminance alpha":Ao,rgb:wo,rgba:ta,rgba4:Cl,"rgb5 a1":Tf,rgb565:Ll},ae={};u.ext_srgb&&(te.srgb=kf,te.srgba=Rf),u.oes_texture_float&&(se.float32=se.float=Ii),u.oes_texture_half_float&&(se.float16=se["half float"]=ri),u.webgl_depth_texture&&(n(te,{depth:Sf,"depth stencil":To}),n(se,{uint16:Nf,uint32:Df,"depth stencil":Dc})),u.webgl_compressed_texture_s3tc&&n(ae,{"rgb s3tc dxt1":Cf,"rgba s3tc dxt1":Lf,"rgba s3tc dxt3":Of,"rgba s3tc dxt5":Gf}),u.webgl_compressed_texture_atc&&n(ae,{"rgb atc":Ol,"rgba atc explicit alpha":Gl,"rgba atc interpolated alpha":Nl}),u.webgl_compressed_texture_pvrtc&&n(ae,{"rgb pvrtc 4bppv1":Dl,"rgb pvrtc 2bppv1":Fl,"rgba pvrtc 4bppv1":Ml,"rgba pvrtc 2bppv1":Bl}),u.webgl_compressed_texture_etc1&&(ae["rgb etc1"]=Il);var C=Array.prototype.slice.call(a.getParameter(Lc));Object.keys(ae).forEach(function(_){var B=ae[_];C.indexOf(B)>=0&&(te[_]=B)});var I=Object.keys(te);p.textureFormats=I;var ne=[];Object.keys(te).forEach(function(_){var B=te[_];ne[B]=_});var ve=[];Object.keys(se).forEach(function(_){var B=se[_];ve[B]=_});var Z=[];Object.keys(ie).forEach(function(_){var B=ie[_];Z[B]=_});var be=[];Object.keys(fe).forEach(function(_){var B=fe[_];be[B]=_});var he=[];Object.keys($).forEach(function(_){var B=$[_];he[B]=_});var Oe=I.reduce(function(_,B){var N=te[B];return N===Bi||N===Af||N===Bi||N===Ao||N===Sf||N===To||u.ext_srgb&&(N===kf||N===Rf)?_[N]=N:N===Tf||B.indexOf("rgba")>=0?_[N]=ta:_[N]=wo,_},{});function X(){this.internalformat=ta,this.format=ta,this.type=ni,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=jl,this.width=0,this.height=0,this.channels=0}function V(_,B){_.internalformat=B.internalformat,_.format=B.format,_.type=B.type,_.compressed=B.compressed,_.premultiplyAlpha=B.premultiplyAlpha,_.flipY=B.flipY,_.unpackAlignment=B.unpackAlignment,_.colorSpace=B.colorSpace,_.width=B.width,_.height=B.height,_.channels=B.channels}function pe(_,B){if(!(typeof B!="object"||!B)){if("premultiplyAlpha"in B&&(d.type(B.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),_.premultiplyAlpha=B.premultiplyAlpha),"flipY"in B&&(d.type(B.flipY,"boolean","invalid texture flip"),_.flipY=B.flipY),"alignment"in B&&(d.oneOf(B.alignment,[1,2,4,8],"invalid texture unpack alignment"),_.unpackAlignment=B.alignment),"colorSpace"in B&&(d.parameter(B.colorSpace,oe,"invalid colorSpace"),_.colorSpace=oe[B.colorSpace]),"type"in B){var N=B.type;d(u.oes_texture_float||!(N==="float"||N==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),d(u.oes_texture_half_float||!(N==="half float"||N==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),d(u.webgl_depth_texture||!(N==="uint16"||N==="uint32"||N==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),d.parameter(N,se,"invalid texture type"),_.type=se[N]}var ye=_.width,We=_.height,h=_.channels,s=!1;"shape"in B?(d(Array.isArray(B.shape)&&B.shape.length>=2,"shape must be an array"),ye=B.shape[0],We=B.shape[1],B.shape.length===3&&(h=B.shape[2],d(h>0&&h<=4,"invalid number of channels"),s=!0),d(ye>=0&&ye<=p.maxTextureSize,"invalid width"),d(We>=0&&We<=p.maxTextureSize,"invalid height")):("radius"in B&&(ye=We=B.radius,d(ye>=0&&ye<=p.maxTextureSize,"invalid radius")),"width"in B&&(ye=B.width,d(ye>=0&&ye<=p.maxTextureSize,"invalid width")),"height"in B&&(We=B.height,d(We>=0&&We<=p.maxTextureSize,"invalid height")),"channels"in B&&(h=B.channels,d(h>0&&h<=4,"invalid number of channels"),s=!0)),_.width=ye|0,_.height=We|0,_.channels=h|0;var x=!1;if("format"in B){var R=B.format;d(u.webgl_depth_texture||!(R==="depth"||R==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),d.parameter(R,te,"invalid texture format");var L=_.internalformat=te[R];_.format=Oe[L],R in se&&("type"in B||(_.type=se[R])),R in ae&&(_.compressed=!0),x=!0}!s&&x?_.channels=gr[_.format]:s&&!x?_.channels!==ko[_.format]&&(_.format=_.internalformat=ko[_.channels]):x&&s&&d(_.channels===gr[_.format],"number of channels inconsistent with specified format")}}function ue(_){a.pixelStorei(qc,_.flipY),a.pixelStorei(Yc,_.premultiplyAlpha),a.pixelStorei(Qc,_.colorSpace),a.pixelStorei(Wc,_.unpackAlignment)}function re(){X.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function ce(_,B){var N=null;if(Pf(B)?N=B:B&&(d.type(B,"object","invalid pixel data type"),pe(_,B),"x"in B&&(_.xOffset=B.x|0),"y"in B&&(_.yOffset=B.y|0),Pf(B.data)&&(N=B.data)),d(!_.compressed||N instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),B.copy){d(!N,"can not specify copy and data field for the same texture");var ye=H.viewportWidth,We=H.viewportHeight;_.width=_.width||ye-_.xOffset,_.height=_.height||We-_.yOffset,_.needsCopy=!0,d(_.xOffset>=0&&_.xOffset<ye&&_.yOffset>=0&&_.yOffset<We&&_.width>0&&_.width<=ye&&_.height>0&&_.height<=We,"copy texture read out of bounds")}else if(!N)_.width=_.width||1,_.height=_.height||1,_.channels=_.channels||4;else if(r(N))_.channels=_.channels||4,_.data=N,!("type"in B)&&_.type===ni&&(_.type=Jl(N));else if(Yl(N))_.channels=_.channels||4,rd(_,N),_.alignment=1,_.needsFree=!0;else if(Ht(N)){var h=N.data;!Array.isArray(h)&&_.type===ni&&(_.type=Jl(h));var s=N.shape,x=N.stride,R,L,A,E,S,b;s.length===3?(A=s[2],b=x[2]):(d(s.length===2,"invalid ndarray pixel data, must be 2 or 3D"),A=1,b=1),R=s[0],L=s[1],E=x[0],S=x[1],_.alignment=1,_.width=R,_.height=L,_.channels=A,_.format=_.internalformat=ko[A],_.needsFree=!0,nd(_,h,E,S,b,N.offset)}else if(Kl(N)||Zl(N)||Jc(N))Kl(N)||Zl(N)?_.element=N:_.element=N.canvas,_.width=_.element.width,_.height=_.element.height,_.channels=4;else if($c(N))_.element=N,_.width=N.width,_.height=N.height,_.channels=4;else if(ed(N))_.element=N,_.width=N.naturalWidth,_.height=N.naturalHeight,_.channels=4;else if(td(N))_.element=N,_.width=N.videoWidth,_.height=N.videoHeight,_.channels=4;else if(Ql(N)){var y=_.width||N[0].length,v=_.height||N.length,G=_.channels;ut(N[0][0])?G=G||N[0][0].length:G=G||1;for(var O=Rr.shape(N),U=1,q=0;q<O.length;++q)U*=O[q];var le=$l(_,U);Rr.flatten(N,O,"",le),es(_,le),_.alignment=1,_.width=y,_.height=v,_.channels=G,_.format=_.internalformat=ko[G],_.needsFree=!0}_.type===Ii?d(p.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):_.type===ri&&d(p.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function de(_,B,N){var ye=_.element,We=_.data,h=_.internalformat,s=_.format,x=_.type,R=_.width,L=_.height;ue(_),ye?a.texImage2D(B,N,s,s,x,ye):_.compressed?a.compressedTexImage2D(B,N,h,R,L,0,We):_.needsCopy?(M(),a.copyTexImage2D(B,N,s,_.xOffset,_.yOffset,R,L,0)):a.texImage2D(B,N,s,R,L,0,s,x,We||null)}function je(_,B,N,ye,We){var h=_.element,s=_.data,x=_.internalformat,R=_.format,L=_.type,A=_.width,E=_.height;ue(_),h?a.texSubImage2D(B,We,N,ye,R,L,h):_.compressed?a.compressedTexSubImage2D(B,We,N,ye,x,A,E,s):_.needsCopy?(M(),a.copyTexSubImage2D(B,We,N,ye,_.xOffset,_.yOffset,A,E)):a.texSubImage2D(B,We,N,ye,A,E,R,L,s)}var Pe=[];function me(){return Pe.pop()||new re}function ge(_){_.needsFree&&st.freeType(_.data),re.call(_),Pe.push(_)}function Fe(){X.call(this),this.genMipmaps=!1,this.mipmapHint=So,this.mipmask=0,this.images=Array(16)}function Ue(_,B,N){var ye=_.images[0]=me();_.mipmask=1,ye.width=_.width=B,ye.height=_.height=N,ye.channels=_.channels=4}function qe(_,B){var N=null;if(Pf(B))N=_.images[0]=me(),V(N,_),ce(N,B),_.mipmask=1;else if(pe(_,B),Array.isArray(B.mipmap))for(var ye=B.mipmap,We=0;We<ye.length;++We)N=_.images[We]=me(),V(N,_),N.width>>=We,N.height>>=We,ce(N,ye[We]),_.mipmask|=1<<We;else N=_.images[0]=me(),V(N,_),ce(N,B),_.mipmask=1;V(_,_.images[0]),_.compressed&&(_.internalformat===Cf||_.internalformat===Lf||_.internalformat===Of||_.internalformat===Gf)&&d(_.width%4===0&&_.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function ct(_,B){for(var N=_.images,ye=0;ye<N.length;++ye){if(!N[ye])return;de(N[ye],B,ye)}}var mt=[];function Ke(){var _=mt.pop()||new Fe;X.call(_),_.mipmask=0;for(var B=0;B<16;++B)_.images[B]=null;return _}function St(_){for(var B=_.images,N=0;N<B.length;++N)B[N]&&ge(B[N]),B[N]=null;mt.push(_)}function ft(){this.minFilter=Mf,this.magFilter=Mf,this.wrapS=Ff,this.wrapT=Ff,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=So}function wt(_,B){if("min"in B){var N=B.min;d.parameter(N,fe),_.minFilter=fe[N],Kc.indexOf(_.minFilter)>=0&&!("faces"in B)&&(_.genMipmaps=!0)}if("mag"in B){var ye=B.mag;d.parameter(ye,ie),_.magFilter=ie[ye]}var We=_.wrapS,h=_.wrapT;if("wrap"in B){var s=B.wrap;typeof s=="string"?(d.parameter(s,$),We=h=$[s]):Array.isArray(s)&&(d.parameter(s[0],$),d.parameter(s[1],$),We=$[s[0]],h=$[s[1]])}else{if("wrapS"in B){var x=B.wrapS;d.parameter(x,$),We=$[x]}if("wrapT"in B){var R=B.wrapT;d.parameter(R,$),h=$[R]}}if(_.wrapS=We,_.wrapT=h,"anisotropic"in B){var L=B.anisotropic;d(typeof L=="number"&&L>=1&&L<=p.maxAnisotropic,"aniso samples must be between 1 and "),_.anisotropic=B.anisotropic}if("mipmap"in B){var A=!1;switch(typeof B.mipmap){case"string":d.parameter(B.mipmap,ee,"invalid mipmap hint"),_.mipmapHint=ee[B.mipmap],_.genMipmaps=!0,A=!0;break;case"boolean":A=_.genMipmaps=B.mipmap;break;case"object":d(Array.isArray(B.mipmap),"invalid mipmap type"),_.genMipmaps=!1,A=!0;break;default:d.raise("invalid mipmap type")}A&&!("min"in B)&&(_.minFilter=Bf)}}function kt(_,B){a.texParameteri(B,zc,_.minFilter),a.texParameteri(B,Pc,_.magFilter),a.texParameteri(B,Fc,_.wrapS),a.texParameteri(B,Mc,_.wrapT),u.ext_texture_filter_anisotropic&&a.texParameteri(B,Xc,_.anisotropic),_.genMipmaps&&(a.hint(Uc,_.mipmapHint),a.generateMipmap(B))}var Rt=0,Gt={},Ft=p.maxTextureUnits,_t=Array(Ft).map(function(){return null});function He(_){X.call(this),this.mipmask=0,this.internalformat=ta,this.id=Rt++,this.refCount=1,this.target=_,this.texture=a.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ft,P.profile&&(this.stats={size:0})}function Mt(_){a.activeTexture(Pi),a.bindTexture(_.target,_.texture)}function rt(){var _=_t[0];_?a.bindTexture(_.target,_.texture):a.bindTexture(Nr,null)}function Ge(_){var B=_.texture;d(B,"must not double destroy texture");var N=_.unit,ye=_.target;N>=0&&(a.activeTexture(Pi+N),a.bindTexture(ye,null),_t[N]=null),a.deleteTexture(B),_.texture=null,_.params=null,_.pixels=null,_.refCount=0,delete Gt[_.id],F.textureCount--}n(He.prototype,{bind:function(){var _=this;_.bindCount+=1;var B=_.unit;if(B<0){for(var N=0;N<Ft;++N){var ye=_t[N];if(ye){if(ye.bindCount>0)continue;ye.unit=-1}_t[N]=_,B=N;break}B>=Ft&&d.raise("insufficient number of texture units"),P.profile&&F.maxTextureUnits<B+1&&(F.maxTextureUnits=B+1),_.unit=B,a.activeTexture(Pi+B),a.bindTexture(_.target,_.texture)}return B},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ge(this)}});function Ye(_,B){var N=new He(Nr);Gt[N.id]=N,F.textureCount++;function ye(s,x){var R=N.texInfo;ft.call(R);var L=Ke();return typeof s=="number"?typeof x=="number"?Ue(L,s|0,x|0):Ue(L,s|0,s|0):s?(d.type(s,"object","invalid arguments to regl.texture"),wt(R,s),qe(L,s)):Ue(L,1,1),R.genMipmaps&&(L.mipmask=(L.width<<1)-1),N.mipmask=L.mipmask,V(N,L),d.texture2D(R,L,p),N.internalformat=L.internalformat,ye.width=L.width,ye.height=L.height,Mt(N),ct(L,Nr),kt(R,Nr),rt(),St(L),P.profile&&(N.stats.size=Ro(N.internalformat,N.type,L.width,L.height,R.genMipmaps,!1)),ye.format=ne[N.internalformat],ye.type=ve[N.type],ye.mag=Z[R.magFilter],ye.min=be[R.minFilter],ye.wrapS=he[R.wrapS],ye.wrapT=he[R.wrapT],ye}function We(s,x,R,L){d(!!s,"must specify image data");var A=x|0,E=R|0,S=L|0,b=me();return V(b,N),b.width=0,b.height=0,ce(b,s),b.width=b.width||(N.width>>S)-A,b.height=b.height||(N.height>>S)-E,d(N.type===b.type&&N.format===b.format&&N.internalformat===b.internalformat,"incompatible format for texture.subimage"),d(A>=0&&E>=0&&A+b.width<=N.width&&E+b.height<=N.height,"texture.subimage write out of bounds"),d(N.mipmask&1<<S,"missing mipmap data"),d(b.data||b.element||b.needsCopy,"missing image data"),Mt(N),je(b,Nr,A,E,S),rt(),ge(b),ye}function h(s,x){var R=s|0,L=x|0||R;if(R===N.width&&L===N.height)return ye;ye.width=N.width=R,ye.height=N.height=L,Mt(N);for(var A=0;N.mipmask>>A;++A){var E=R>>A,S=L>>A;if(!E||!S)break;a.texImage2D(Nr,A,N.format,E,S,0,N.format,N.type,null)}return rt(),P.profile&&(N.stats.size=Ro(N.internalformat,N.type,R,L,!1,!1)),ye}return ye(_,B),ye.subimage=We,ye.resize=h,ye._reglType="texture2d",ye._texture=N,P.profile&&(ye.stats=N.stats),ye.destroy=function(){N.decRef()},ye}function Je(_,B,N,ye,We,h){var s=new He(wf);Gt[s.id]=s,F.cubeCount++;var x=new Array(6);function R(E,S,b,y,v,G){var O,U=s.texInfo;for(ft.call(U),O=0;O<6;++O)x[O]=Ke();if(typeof E=="number"||!E){var q=E|0||1;for(O=0;O<6;++O)Ue(x[O],q,q)}else if(typeof E=="object")if(S)qe(x[0],E),qe(x[1],S),qe(x[2],b),qe(x[3],y),qe(x[4],v),qe(x[5],G);else if(wt(U,E),pe(s,E),"faces"in E){var le=E.faces;for(d(Array.isArray(le)&&le.length===6,"cube faces must be a length 6 array"),O=0;O<6;++O)d(typeof le[O]=="object"&&!!le[O],"invalid input for cube map face"),V(x[O],s),qe(x[O],le[O])}else for(O=0;O<6;++O)qe(x[O],E);else d.raise("invalid arguments to cube map");for(V(s,x[0]),d.optional(function(){p.npotTextureCube||d(Rl(s.width)&&Rl(s.height),"your browser does not support non power or two texture dimensions")}),U.genMipmaps?s.mipmask=(x[0].width<<1)-1:s.mipmask=x[0].mipmask,d.textureCube(s,U,x,p),s.internalformat=x[0].internalformat,R.width=x[0].width,R.height=x[0].height,Mt(s),O=0;O<6;++O)ct(x[O],Eo+O);for(kt(U,wf),rt(),P.profile&&(s.stats.size=Ro(s.internalformat,s.type,R.width,R.height,U.genMipmaps,!0)),R.format=ne[s.internalformat],R.type=ve[s.type],R.mag=Z[U.magFilter],R.min=be[U.minFilter],R.wrapS=he[U.wrapS],R.wrapT=he[U.wrapT],O=0;O<6;++O)St(x[O]);return R}function L(E,S,b,y,v){d(!!S,"must specify image data"),d(typeof E=="number"&&E===(E|0)&&E>=0&&E<6,"invalid face");var G=b|0,O=y|0,U=v|0,q=me();return V(q,s),q.width=0,q.height=0,ce(q,S),q.width=q.width||(s.width>>U)-G,q.height=q.height||(s.height>>U)-O,d(s.type===q.type&&s.format===q.format&&s.internalformat===q.internalformat,"incompatible format for texture.subimage"),d(G>=0&&O>=0&&G+q.width<=s.width&&O+q.height<=s.height,"texture.subimage write out of bounds"),d(s.mipmask&1<<U,"missing mipmap data"),d(q.data||q.element||q.needsCopy,"missing image data"),Mt(s),je(q,Eo+E,G,O,U),rt(),ge(q),R}function A(E){var S=E|0;if(S!==s.width){R.width=s.width=S,R.height=s.height=S,Mt(s);for(var b=0;b<6;++b)for(var y=0;s.mipmask>>y;++y)a.texImage2D(Eo+b,y,s.format,S>>y,S>>y,0,s.format,s.type,null);return rt(),P.profile&&(s.stats.size=Ro(s.internalformat,s.type,R.width,R.height,!1,!0)),R}}return R(_,B,N,ye,We,h),R.subimage=L,R.resize=A,R._reglType="textureCube",R._texture=s,P.profile&&(R.stats=s.stats),R.destroy=function(){s.decRef()},R}function yt(){for(var _=0;_<Ft;++_)a.activeTexture(Pi+_),a.bindTexture(Nr,null),_t[_]=null;Ot(Gt).forEach(Ge),F.cubeCount=0,F.textureCount=0}P.profile&&(F.getTotalTextureSize=function(){var _=0;return Object.keys(Gt).forEach(function(B){_+=Gt[B].stats.size}),_});function Fr(){for(var _=0;_<Ft;++_){var B=_t[_];B&&(B.bindCount=0,B.unit=-1,_t[_]=null)}Ot(Gt).forEach(function(N){N.texture=a.createTexture(),a.bindTexture(N.target,N.texture);for(var ye=0;ye<32;++ye)if(N.mipmask&1<<ye)if(N.target===Nr)a.texImage2D(Nr,ye,N.internalformat,N.width>>ye,N.height>>ye,0,N.internalformat,N.type,null);else for(var We=0;We<6;++We)a.texImage2D(Eo+We,ye,N.internalformat,N.width>>ye,N.height>>ye,0,N.internalformat,N.type,null);kt(N.texInfo,N.target)})}function sa(){for(var _=0;_<Ft;++_){var B=_t[_];B&&(B.bindCount=0,B.unit=-1,_t[_]=null),a.activeTexture(Pi+_),a.bindTexture(Nr,null),a.bindTexture(wf,null)}}return{create2D:Ye,createCube:Je,clear:yt,getTexture:function(_){return null},restore:Fr,refresh:sa}}var An=36161,Co=32854,ts=32855,rs=36194,ns=33189,as=36168,is=34041,os=35907,fs=34836,ls=34842,ss=34843,Er=[];Er[Co]=2,Er[ts]=2,Er[rs]=2,Er[ns]=2,Er[as]=1,Er[is]=4,Er[os]=4,Er[fs]=16,Er[ls]=8,Er[ss]=6;function us(a,u,p){return Er[a]*u*p}var id=function(a,u,p,M,H){var F={rgba4:Co,rgb565:rs,"rgb5 a1":ts,depth:ns,stencil:as,"depth stencil":is};u.ext_srgb&&(F.srgba=os),u.ext_color_buffer_half_float&&(F.rgba16f=ls,F.rgb16f=ss),u.webgl_color_buffer_float&&(F.rgba32f=fs);var P=[];Object.keys(F).forEach(function(te){var ae=F[te];P[ae]=te});var ee=0,$={};function ie(te){this.id=ee++,this.refCount=1,this.renderbuffer=te,this.format=Co,this.width=0,this.height=0,H.profile&&(this.stats={size:0})}ie.prototype.decRef=function(){--this.refCount<=0&&fe(this)};function fe(te){var ae=te.renderbuffer;d(ae,"must not double destroy renderbuffer"),a.bindRenderbuffer(An,null),a.deleteRenderbuffer(ae),te.renderbuffer=null,te.refCount=0,delete $[te.id],M.renderbufferCount--}function oe(te,ae){var C=new ie(a.createRenderbuffer());$[C.id]=C,M.renderbufferCount++;function I(ve,Z){var be=0,he=0,Oe=Co;if(typeof ve=="object"&&ve){var X=ve;if("shape"in X){var V=X.shape;d(Array.isArray(V)&&V.length>=2,"invalid renderbuffer shape"),be=V[0]|0,he=V[1]|0}else"radius"in X&&(be=he=X.radius|0),"width"in X&&(be=X.width|0),"height"in X&&(he=X.height|0);"format"in X&&(d.parameter(X.format,F,"invalid renderbuffer format"),Oe=F[X.format])}else typeof ve=="number"?(be=ve|0,typeof Z=="number"?he=Z|0:he=be):ve?d.raise("invalid arguments to renderbuffer constructor"):be=he=1;if(d(be>0&&he>0&&be<=p.maxRenderbufferSize&&he<=p.maxRenderbufferSize,"invalid renderbuffer size"),!(be===C.width&&he===C.height&&Oe===C.format))return I.width=C.width=be,I.height=C.height=he,C.format=Oe,a.bindRenderbuffer(An,C.renderbuffer),a.renderbufferStorage(An,Oe,be,he),d(a.getError()===0,"invalid render buffer format"),H.profile&&(C.stats.size=us(C.format,C.width,C.height)),I.format=P[C.format],I}function ne(ve,Z){var be=ve|0,he=Z|0||be;return be===C.width&&he===C.height||(d(be>0&&he>0&&be<=p.maxRenderbufferSize&&he<=p.maxRenderbufferSize,"invalid renderbuffer size"),I.width=C.width=be,I.height=C.height=he,a.bindRenderbuffer(An,C.renderbuffer),a.renderbufferStorage(An,C.format,be,he),d(a.getError()===0,"invalid render buffer format"),H.profile&&(C.stats.size=us(C.format,C.width,C.height))),I}return I(te,ae),I.resize=ne,I._reglType="renderbuffer",I._renderbuffer=C,H.profile&&(I.stats=C.stats),I.destroy=function(){C.decRef()},I}H.profile&&(M.getTotalRenderbufferSize=function(){var te=0;return Object.keys($).forEach(function(ae){te+=$[ae].stats.size}),te});function se(){Ot($).forEach(function(te){te.renderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(An,te.renderbuffer),a.renderbufferStorage(An,te.format,te.width,te.height)}),a.bindRenderbuffer(An,null)}return{create:oe,clear:function(){Ot($).forEach(fe)},restore:se}},Yr=36160,zf=36161,na=3553,Lo=34069,cs=36064,ds=36096,hs=36128,ms=33306,bs=36053,od=36054,fd=36055,ld=36057,sd=36061,ud=36193,cd=5121,dd=5126,gs=6407,vs=6408,hd=6402,md=[gs,vs],jf=[];jf[vs]=4,jf[gs]=3;var Oo=[];Oo[cd]=1,Oo[dd]=4,Oo[ud]=2;var bd=32854,gd=32855,vd=36194,_d=33189,yd=36168,_s=34041,pd=35907,xd=34836,Ed=34842,wd=34843,Ad=[bd,gd,vd,pd,Ed,wd,xd],oi={};oi[bs]="complete",oi[od]="incomplete attachment",oi[ld]="incomplete dimensions",oi[fd]="incomplete, missing attachment",oi[sd]="unsupported";function Td(a,u,p,M,H,F){var P={cur:null,next:null,dirty:!1,setFBO:null},ee=["rgba"],$=["rgba4","rgb565","rgb5 a1"];u.ext_srgb&&$.push("srgba"),u.ext_color_buffer_half_float&&$.push("rgba16f","rgb16f"),u.webgl_color_buffer_float&&$.push("rgba32f");var ie=["uint8"];u.oes_texture_half_float&&ie.push("half float","float16"),u.oes_texture_float&&ie.push("float","float32");function fe(re,ce,de){this.target=re,this.texture=ce,this.renderbuffer=de;var je=0,Pe=0;ce?(je=ce.width,Pe=ce.height):de&&(je=de.width,Pe=de.height),this.width=je,this.height=Pe}function oe(re){re&&(re.texture&&re.texture._texture.decRef(),re.renderbuffer&&re.renderbuffer._renderbuffer.decRef())}function se(re,ce,de){if(re)if(re.texture){var je=re.texture._texture,Pe=Math.max(1,je.width),me=Math.max(1,je.height);d(Pe===ce&&me===de,"inconsistent width/height for supplied texture"),je.refCount+=1}else{var ge=re.renderbuffer._renderbuffer;d(ge.width===ce&&ge.height===de,"inconsistent width/height for renderbuffer"),ge.refCount+=1}}function te(re,ce){ce&&(ce.texture?a.framebufferTexture2D(Yr,re,ce.target,ce.texture._texture.texture,0):a.framebufferRenderbuffer(Yr,re,zf,ce.renderbuffer._renderbuffer.renderbuffer))}function ae(re){var ce=na,de=null,je=null,Pe=re;typeof re=="object"&&(Pe=re.data,"target"in re&&(ce=re.target|0)),d.type(Pe,"function","invalid attachment data");var me=Pe._reglType;return me==="texture2d"?(de=Pe,d(ce===na)):me==="textureCube"?(de=Pe,d(ce>=Lo&&ce<Lo+6,"invalid cube map target")):me==="renderbuffer"?(je=Pe,ce=zf):d.raise("invalid regl object for attachment"),new fe(ce,de,je)}function C(re,ce,de,je,Pe){if(de){var me=M.create2D({width:re,height:ce,format:je,type:Pe});return me._texture.refCount=0,new fe(na,me,null)}else{var ge=H.create({width:re,height:ce,format:je});return ge._renderbuffer.refCount=0,new fe(zf,null,ge)}}function I(re){return re&&(re.texture||re.renderbuffer)}function ne(re,ce,de){re&&(re.texture?re.texture.resize(ce,de):re.renderbuffer&&re.renderbuffer.resize(ce,de),re.width=ce,re.height=de)}var ve=0,Z={};function be(){this.id=ve++,Z[this.id]=this,this.framebuffer=a.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function he(re){re.colorAttachments.forEach(oe),oe(re.depthAttachment),oe(re.stencilAttachment),oe(re.depthStencilAttachment)}function Oe(re){var ce=re.framebuffer;d(ce,"must not double destroy framebuffer"),a.deleteFramebuffer(ce),re.framebuffer=null,F.framebufferCount--,delete Z[re.id]}function X(re){var ce;a.bindFramebuffer(Yr,re.framebuffer);var de=re.colorAttachments;for(ce=0;ce<de.length;++ce)te(cs+ce,de[ce]);for(ce=de.length;ce<p.maxColorAttachments;++ce)a.framebufferTexture2D(Yr,cs+ce,na,null,0);a.framebufferTexture2D(Yr,ms,na,null,0),a.framebufferTexture2D(Yr,ds,na,null,0),a.framebufferTexture2D(Yr,hs,na,null,0),te(ds,re.depthAttachment),te(hs,re.stencilAttachment),te(ms,re.depthStencilAttachment);var je=a.checkFramebufferStatus(Yr);!a.isContextLost()&&je!==bs&&d.raise("framebuffer configuration not supported, status = "+oi[je]),a.bindFramebuffer(Yr,P.next?P.next.framebuffer:null),P.cur=P.next,a.getError()}function V(re,ce){var de=new be;F.framebufferCount++;function je(me,ge){var Fe;d(P.next!==de,"can not update framebuffer which is currently in use");var Ue=0,qe=0,ct=!0,mt=!0,Ke=null,St=!0,ft="rgba",wt="uint8",kt=1,Rt=null,Gt=null,Ft=null,_t=!1;if(typeof me=="number")Ue=me|0,qe=ge|0||Ue;else if(!me)Ue=qe=1;else{d.type(me,"object","invalid arguments for framebuffer");var He=me;if("shape"in He){var Mt=He.shape;d(Array.isArray(Mt)&&Mt.length>=2,"invalid shape for framebuffer"),Ue=Mt[0],qe=Mt[1]}else"radius"in He&&(Ue=qe=He.radius),"width"in He&&(Ue=He.width),"height"in He&&(qe=He.height);("color"in He||"colors"in He)&&(Ke=He.color||He.colors,Array.isArray(Ke)&&d(Ke.length===1||u.webgl_draw_buffers,"multiple render targets not supported")),Ke||("colorCount"in He&&(kt=He.colorCount|0,d(kt>0,"invalid color buffer count")),"colorTexture"in He&&(St=!!He.colorTexture,ft="rgba4"),"colorType"in He&&(wt=He.colorType,St?(d(u.oes_texture_float||!(wt==="float"||wt==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),d(u.oes_texture_half_float||!(wt==="half float"||wt==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):wt==="half float"||wt==="float16"?(d(u.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ft="rgba16f"):(wt==="float"||wt==="float32")&&(d(u.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ft="rgba32f"),d.oneOf(wt,ie,"invalid color type")),"colorFormat"in He&&(ft=He.colorFormat,ee.indexOf(ft)>=0?St=!0:$.indexOf(ft)>=0?St=!1:d.optional(function(){St?d.oneOf(He.colorFormat,ee,"invalid color format for texture"):d.oneOf(He.colorFormat,$,"invalid color format for renderbuffer")}))),("depthTexture"in He||"depthStencilTexture"in He)&&(_t=!!(He.depthTexture||He.depthStencilTexture),d(!_t||u.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in He&&(typeof He.depth=="boolean"?ct=He.depth:(Rt=He.depth,mt=!1)),"stencil"in He&&(typeof He.stencil=="boolean"?mt=He.stencil:(Gt=He.stencil,ct=!1)),"depthStencil"in He&&(typeof He.depthStencil=="boolean"?ct=mt=He.depthStencil:(Ft=He.depthStencil,ct=!1,mt=!1))}var rt=null,Ge=null,Ye=null,Je=null;if(Array.isArray(Ke))rt=Ke.map(ae);else if(Ke)rt=[ae(Ke)];else for(rt=new Array(kt),Fe=0;Fe<kt;++Fe)rt[Fe]=C(Ue,qe,St,ft,wt);d(u.webgl_draw_buffers||rt.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),d(rt.length<=p.maxColorAttachments,"too many color attachments, not supported"),Ue=Ue||rt[0].width,qe=qe||rt[0].height,Rt?Ge=ae(Rt):ct&&!mt&&(Ge=C(Ue,qe,_t,"depth","uint32")),Gt?Ye=ae(Gt):mt&&!ct&&(Ye=C(Ue,qe,!1,"stencil","uint8")),Ft?Je=ae(Ft):!Rt&&!Gt&&mt&&ct&&(Je=C(Ue,qe,_t,"depth stencil","depth stencil")),d(!!Rt+!!Gt+!!Ft<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var yt=null;for(Fe=0;Fe<rt.length;++Fe)if(se(rt[Fe],Ue,qe),d(!rt[Fe]||rt[Fe].texture&&md.indexOf(rt[Fe].texture._texture.format)>=0||rt[Fe].renderbuffer&&Ad.indexOf(rt[Fe].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Fe+" is invalid"),rt[Fe]&&rt[Fe].texture){var Fr=jf[rt[Fe].texture._texture.format]*Oo[rt[Fe].texture._texture.type];yt===null?yt=Fr:d(yt===Fr,"all color attachments much have the same number of bits per pixel.")}return se(Ge,Ue,qe),d(!Ge||Ge.texture&&Ge.texture._texture.format===hd||Ge.renderbuffer&&Ge.renderbuffer._renderbuffer.format===_d,"invalid depth attachment for framebuffer object"),se(Ye,Ue,qe),d(!Ye||Ye.renderbuffer&&Ye.renderbuffer._renderbuffer.format===yd,"invalid stencil attachment for framebuffer object"),se(Je,Ue,qe),d(!Je||Je.texture&&Je.texture._texture.format===_s||Je.renderbuffer&&Je.renderbuffer._renderbuffer.format===_s,"invalid depth-stencil attachment for framebuffer object"),he(de),de.width=Ue,de.height=qe,de.colorAttachments=rt,de.depthAttachment=Ge,de.stencilAttachment=Ye,de.depthStencilAttachment=Je,je.color=rt.map(I),je.depth=I(Ge),je.stencil=I(Ye),je.depthStencil=I(Je),je.width=de.width,je.height=de.height,X(de),je}function Pe(me,ge){d(P.next!==de,"can not resize a framebuffer which is currently in use");var Fe=Math.max(me|0,1),Ue=Math.max(ge|0||Fe,1);if(Fe===de.width&&Ue===de.height)return je;for(var qe=de.colorAttachments,ct=0;ct<qe.length;++ct)ne(qe[ct],Fe,Ue);return ne(de.depthAttachment,Fe,Ue),ne(de.stencilAttachment,Fe,Ue),ne(de.depthStencilAttachment,Fe,Ue),de.width=je.width=Fe,de.height=je.height=Ue,X(de),je}return je(re,ce),n(je,{resize:Pe,_reglType:"framebuffer",_framebuffer:de,destroy:function(){Oe(de),he(de)},use:function(me){P.setFBO({framebuffer:je},me)}})}function pe(re){var ce=Array(6);function de(Pe){var me;d(ce.indexOf(P.next)<0,"can not update framebuffer which is currently in use");var ge={color:null},Fe=0,Ue=null,qe="rgba",ct="uint8",mt=1;if(typeof Pe=="number")Fe=Pe|0;else if(!Pe)Fe=1;else{d.type(Pe,"object","invalid arguments for framebuffer");var Ke=Pe;if("shape"in Ke){var St=Ke.shape;d(Array.isArray(St)&&St.length>=2,"invalid shape for framebuffer"),d(St[0]===St[1],"cube framebuffer must be square"),Fe=St[0]}else"radius"in Ke&&(Fe=Ke.radius|0),"width"in Ke?(Fe=Ke.width|0,"height"in Ke&&d(Ke.height===Fe,"must be square")):"height"in Ke&&(Fe=Ke.height|0);("color"in Ke||"colors"in Ke)&&(Ue=Ke.color||Ke.colors,Array.isArray(Ue)&&d(Ue.length===1||u.webgl_draw_buffers,"multiple render targets not supported")),Ue||("colorCount"in Ke&&(mt=Ke.colorCount|0,d(mt>0,"invalid color buffer count")),"colorType"in Ke&&(d.oneOf(Ke.colorType,ie,"invalid color type"),ct=Ke.colorType),"colorFormat"in Ke&&(qe=Ke.colorFormat,d.oneOf(Ke.colorFormat,ee,"invalid color format for texture"))),"depth"in Ke&&(ge.depth=Ke.depth),"stencil"in Ke&&(ge.stencil=Ke.stencil),"depthStencil"in Ke&&(ge.depthStencil=Ke.depthStencil)}var ft;if(Ue)if(Array.isArray(Ue))for(ft=[],me=0;me<Ue.length;++me)ft[me]=Ue[me];else ft=[Ue];else{ft=Array(mt);var wt={radius:Fe,format:qe,type:ct};for(me=0;me<mt;++me)ft[me]=M.createCube(wt)}for(ge.color=Array(ft.length),me=0;me<ft.length;++me){var kt=ft[me];d(typeof kt=="function"&&kt._reglType==="textureCube","invalid cube map"),Fe=Fe||kt.width,d(kt.width===Fe&&kt.height===Fe,"invalid cube map shape"),ge.color[me]={target:Lo,data:ft[me]}}for(me=0;me<6;++me){for(var Rt=0;Rt<ft.length;++Rt)ge.color[Rt].target=Lo+me;me>0&&(ge.depth=ce[0].depth,ge.stencil=ce[0].stencil,ge.depthStencil=ce[0].depthStencil),ce[me]?ce[me](ge):ce[me]=V(ge)}return n(de,{width:Fe,height:Fe,color:ft})}function je(Pe){var me,ge=Pe|0;if(d(ge>0&&ge<=p.maxCubeMapSize,"invalid radius for cube fbo"),ge===de.width)return de;var Fe=de.color;for(me=0;me<Fe.length;++me)Fe[me].resize(ge);for(me=0;me<6;++me)ce[me].resize(ge);return de.width=de.height=ge,de}return de(re),n(de,{faces:ce,resize:je,_reglType:"framebufferCube",destroy:function(){ce.forEach(function(Pe){Pe.destroy()})}})}function ue(){P.cur=null,P.next=null,P.dirty=!0,Ot(Z).forEach(function(re){re.framebuffer=a.createFramebuffer(),X(re)})}return n(P,{getFramebuffer:function(re){if(typeof re=="function"&&re._reglType==="framebuffer"){var ce=re._framebuffer;if(ce instanceof be)return ce}return null},create:V,createCube:pe,clear:function(){Ot(Z).forEach(Oe)},restore:ue})}var Sd=5126,ys=34962,Go=34963,ps=["attributes","elements","offset","count","primitive","instances"];function Uf(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Sd,this.offset=0,this.stride=0,this.divisor=0}function kd(a,u,p,M,H,F,P){for(var ee=p.maxAttributes,$=new Array(ee),ie=0;ie<ee;++ie)$[ie]=new Uf;var fe=0,oe={},se={Record:Uf,scope:{},state:$,currentVAO:null,targetVAO:null,restore:ae()?he:function(){},createVAO:Oe,getVAO:I,destroyBuffer:te,setVAO:ae()?ne:ve,clear:ae()?Z:function(){}};function te(X){for(var V=0;V<$.length;++V){var pe=$[V];pe.buffer===X&&(a.disableVertexAttribArray(V),pe.buffer=null)}}function ae(){return u.oes_vertex_array_object}function C(){return u.angle_instanced_arrays}function I(X){return typeof X=="function"&&X._vao?X._vao:null}function ne(X){if(X!==se.currentVAO){var V=ae();X?V.bindVertexArrayOES(X.vao):V.bindVertexArrayOES(null),se.currentVAO=X}}function ve(X){if(X!==se.currentVAO){if(X)X.bindAttrs();else{for(var V=C(),pe=0;pe<$.length;++pe){var ue=$[pe];ue.buffer?(a.enableVertexAttribArray(pe),ue.buffer.bind(),a.vertexAttribPointer(pe,ue.size,ue.type,ue.normalized,ue.stride,ue.offfset),V&&ue.divisor&&V.vertexAttribDivisorANGLE(pe,ue.divisor)):(a.disableVertexAttribArray(pe),a.vertexAttrib4f(pe,ue.x,ue.y,ue.z,ue.w))}P.elements?a.bindBuffer(Go,P.elements.buffer.buffer):a.bindBuffer(Go,null)}se.currentVAO=X}}function Z(){Ot(oe).forEach(function(X){X.destroy()})}function be(){this.id=++fe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var X=ae();X?this.vao=X.createVertexArrayOES():this.vao=null,oe[this.id]=this,this.buffers=[]}be.prototype.bindAttrs=function(){for(var X=C(),V=this.attributes,pe=0;pe<V.length;++pe){var ue=V[pe];ue.buffer?(a.enableVertexAttribArray(pe),a.bindBuffer(ys,ue.buffer.buffer),a.vertexAttribPointer(pe,ue.size,ue.type,ue.normalized,ue.stride,ue.offset),X&&ue.divisor&&X.vertexAttribDivisorANGLE(pe,ue.divisor)):(a.disableVertexAttribArray(pe),a.vertexAttrib4f(pe,ue.x,ue.y,ue.z,ue.w))}for(var re=V.length;re<ee;++re)a.disableVertexAttribArray(re);var ce=F.getElements(this.elements);ce?a.bindBuffer(Go,ce.buffer.buffer):a.bindBuffer(Go,null)},be.prototype.refresh=function(){var X=ae();X&&(X.bindVertexArrayOES(this.vao),this.bindAttrs(),se.currentVAO=null,X.bindVertexArrayOES(null))},be.prototype.destroy=function(){if(this.vao){var X=ae();this===se.currentVAO&&(se.currentVAO=null,X.bindVertexArrayOES(null)),X.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),oe[this.id]&&(delete oe[this.id],M.vaoCount-=1)};function he(){var X=ae();X&&Ot(oe).forEach(function(V){V.refresh()})}function Oe(X){var V=new be;M.vaoCount+=1;function pe(ue){var re;if(Array.isArray(ue))re=ue,V.elements&&V.ownsElements&&V.elements.destroy(),V.elements=null,V.ownsElements=!1,V.offset=0,V.count=0,V.instances=-1,V.primitive=4;else{if(d(typeof ue=="object","invalid arguments for create vao"),d("attributes"in ue,"must specify attributes for vao"),ue.elements){var ce=ue.elements;V.ownsElements?typeof ce=="function"&&ce._reglType==="elements"?(V.elements.destroy(),V.ownsElements=!1):(V.elements(ce),V.ownsElements=!1):F.getElements(ue.elements)?(V.elements=ue.elements,V.ownsElements=!1):(V.elements=F.create(ue.elements),V.ownsElements=!0)}else V.elements=null,V.ownsElements=!1;re=ue.attributes,V.offset=0,V.count=-1,V.instances=-1,V.primitive=4,V.elements&&(V.count=V.elements._elements.vertCount,V.primitive=V.elements._elements.primType),"offset"in ue&&(V.offset=ue.offset|0),"count"in ue&&(V.count=ue.count|0),"instances"in ue&&(V.instances=ue.instances|0),"primitive"in ue&&(d(ue.primitive in Or,"bad primitive type: "+ue.primitive),V.primitive=Or[ue.primitive]),d.optional(()=>{for(var ct=Object.keys(ue),mt=0;mt<ct.length;++mt)d(ps.indexOf(ct[mt])>=0,'invalid option for vao: "'+ct[mt]+'" valid options are '+ps)}),d(Array.isArray(re),"attributes must be an array")}d(re.length<ee,"too many attributes"),d(re.length>0,"must specify at least one attribute");var de={},je=V.attributes;je.length=re.length;for(var Pe=0;Pe<re.length;++Pe){var me=re[Pe],ge=je[Pe]=new Uf,Fe=me.data||me;if(Array.isArray(Fe)||r(Fe)||Ht(Fe)){var Ue;V.buffers[Pe]&&(Ue=V.buffers[Pe],r(Fe)&&Ue._buffer.byteLength>=Fe.byteLength?Ue.subdata(Fe):(Ue.destroy(),V.buffers[Pe]=null)),V.buffers[Pe]||(Ue=V.buffers[Pe]=H.create(me,ys,!1,!0)),ge.buffer=H.getBuffer(Ue),ge.size=ge.buffer.dimension|0,ge.normalized=!1,ge.type=ge.buffer.dtype,ge.offset=0,ge.stride=0,ge.divisor=0,ge.state=1,de[Pe]=1}else H.getBuffer(me)?(ge.buffer=H.getBuffer(me),ge.size=ge.buffer.dimension|0,ge.normalized=!1,ge.type=ge.buffer.dtype,ge.offset=0,ge.stride=0,ge.divisor=0,ge.state=1):H.getBuffer(me.buffer)?(ge.buffer=H.getBuffer(me.buffer),ge.size=(+me.size||ge.buffer.dimension)|0,ge.normalized=!!me.normalized||!1,"type"in me?(d.parameter(me.type,mr,"invalid buffer type"),ge.type=mr[me.type]):ge.type=ge.buffer.dtype,ge.offset=(me.offset||0)|0,ge.stride=(me.stride||0)|0,ge.divisor=(me.divisor||0)|0,ge.state=1,d(ge.size>=1&&ge.size<=4,"size must be between 1 and 4"),d(ge.offset>=0,"invalid offset"),d(ge.stride>=0&&ge.stride<=255,"stride must be between 0 and 255"),d(ge.divisor>=0,"divisor must be positive"),d(!ge.divisor||!!u.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in me?(d(Pe>0,"first attribute must not be a constant"),ge.x=+me.x||0,ge.y=+me.y||0,ge.z=+me.z||0,ge.w=+me.w||0,ge.state=2):d(!1,"invalid attribute spec for location "+Pe)}for(var qe=0;qe<V.buffers.length;++qe)!de[qe]&&V.buffers[qe]&&(V.buffers[qe].destroy(),V.buffers[qe]=null);return V.refresh(),pe}return pe.destroy=function(){for(var ue=0;ue<V.buffers.length;++ue)V.buffers[ue]&&V.buffers[ue].destroy();V.buffers.length=0,V.ownsElements&&(V.elements.destroy(),V.elements=null,V.ownsElements=!1),V.destroy()},pe._vao=V,pe._reglType="vao",pe(X)}return se}var xs=35632,Rd=35633,Cd=35718,Ld=35721;function Od(a,u,p,M){var H={},F={};function P(C,I,ne,ve){this.name=C,this.id=I,this.location=ne,this.info=ve}function ee(C,I){for(var ne=0;ne<C.length;++ne)if(C[ne].id===I.id){C[ne].location=I.location;return}C.push(I)}function $(C,I,ne){var ve=C===xs?H:F,Z=ve[I];if(!Z){var be=u.str(I);Z=a.createShader(C),a.shaderSource(Z,be),a.compileShader(Z),d.shaderError(a,Z,be,C,ne),ve[I]=Z}return Z}var ie={},fe=[],oe=0;function se(C,I){this.id=oe++,this.fragId=C,this.vertId=I,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,M.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function te(C,I,ne){var ve,Z,be=$(xs,C.fragId),he=$(Rd,C.vertId),Oe=C.program=a.createProgram();if(a.attachShader(Oe,be),a.attachShader(Oe,he),ne)for(ve=0;ve<ne.length;++ve){var X=ne[ve];a.bindAttribLocation(Oe,X[0],X[1])}a.linkProgram(Oe),d.linkError(a,Oe,u.str(C.fragId),u.str(C.vertId),I);var V=a.getProgramParameter(Oe,Cd);M.profile&&(C.stats.uniformsCount=V);var pe=C.uniforms;for(ve=0;ve<V;++ve)if(Z=a.getActiveUniform(Oe,ve),Z){if(Z.size>1)for(var ue=0;ue<Z.size;++ue){var re=Z.name.replace("[0]","["+ue+"]");ee(pe,new P(re,u.id(re),a.getUniformLocation(Oe,re),Z))}var ce=Z.name;Z.size>1&&(ce=ce.replace("[0]","")),ee(pe,new P(ce,u.id(ce),a.getUniformLocation(Oe,ce),Z))}var de=a.getProgramParameter(Oe,Ld);M.profile&&(C.stats.attributesCount=de);var je=C.attributes;for(ve=0;ve<de;++ve)Z=a.getActiveAttrib(Oe,ve),Z&&ee(je,new P(Z.name,u.id(Z.name),a.getAttribLocation(Oe,Z.name),Z))}M.profile&&(p.getMaxUniformsCount=function(){var C=0;return fe.forEach(function(I){I.stats.uniformsCount>C&&(C=I.stats.uniformsCount)}),C},p.getMaxAttributesCount=function(){var C=0;return fe.forEach(function(I){I.stats.attributesCount>C&&(C=I.stats.attributesCount)}),C});function ae(){H={},F={};for(var C=0;C<fe.length;++C)te(fe[C],null,fe[C].attributes.map(function(I){return[I.location,I.name]}))}return{clear:function(){var C=a.deleteShader.bind(a);Ot(H).forEach(C),H={},Ot(F).forEach(C),F={},fe.forEach(function(I){a.deleteProgram(I.program)}),fe.length=0,ie={},p.shaderCount=0},program:function(C,I,ne,ve){d.command(C>=0,"missing vertex shader",ne),d.command(I>=0,"missing fragment shader",ne);var Z=ie[I];Z||(Z=ie[I]={});var be=Z[C];if(be&&(be.refCount++,!ve))return be;var he=new se(I,C);return p.shaderCount++,te(he,ne,ve),be||(Z[C]=he),fe.push(he),n(he,{destroy:function(){if(he.refCount--,he.refCount<=0){a.deleteProgram(he.program);var Oe=fe.indexOf(he);fe.splice(Oe,1),p.shaderCount--}Z[he.vertId].refCount<=0&&(a.deleteShader(F[he.vertId]),delete F[he.vertId],delete ie[he.fragId][he.vertId]),Object.keys(ie[he.fragId]).length||(a.deleteShader(H[he.fragId]),delete H[he.fragId],delete ie[he.fragId])}})},restore:ae,shader:$,frag:-1,vert:-1}}var Gd=6408,zi=5121,Nd=3333,No=5126;function Dd(a,u,p,M,H,F,P){function ee(fe){var oe;u.next===null?(d(H.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),oe=zi):(d(u.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),oe=u.next.colorAttachments[0].texture._texture.type,d.optional(function(){F.oes_texture_float?(d(oe===zi||oe===No,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),oe===No&&d(P.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):d(oe===zi,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var se=0,te=0,ae=M.framebufferWidth,C=M.framebufferHeight,I=null;r(fe)?I=fe:fe&&(d.type(fe,"object","invalid arguments to regl.read()"),se=fe.x|0,te=fe.y|0,d(se>=0&&se<M.framebufferWidth,"invalid x offset for regl.read"),d(te>=0&&te<M.framebufferHeight,"invalid y offset for regl.read"),ae=(fe.width||M.framebufferWidth-se)|0,C=(fe.height||M.framebufferHeight-te)|0,I=fe.data||null),I&&(oe===zi?d(I instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):oe===No&&d(I instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),d(ae>0&&ae+se<=M.framebufferWidth,"invalid width for read pixels"),d(C>0&&C+te<=M.framebufferHeight,"invalid height for read pixels"),p();var ne=ae*C*4;return I||(oe===zi?I=new Uint8Array(ne):oe===No&&(I=I||new Float32Array(ne))),d.isTypedArray(I,"data buffer for regl.read() must be a typedarray"),d(I.byteLength>=ne,"data buffer for regl.read() too small"),a.pixelStorei(Nd,4),a.readPixels(se,te,ae,C,Gd,oe,I),I}function $(fe){var oe;return u.setFBO({framebuffer:fe.framebuffer},function(){oe=ee(fe)}),oe}function ie(fe){return!fe||!("framebuffer"in fe)?ee(fe):$(fe)}return ie}function fi(a){return Array.prototype.slice.call(a)}function li(a){return fi(a).join("")}function Fd(){var a=0,u=[],p=[];function M(oe){for(var se=0;se<p.length;++se)if(p[se]===oe)return u[se];var te="g"+a++;return u.push(te),p.push(oe),te}function H(){var oe=[];function se(){oe.push.apply(oe,fi(arguments))}var te=[];function ae(){var C="v"+a++;return te.push(C),arguments.length>0&&(oe.push(C,"="),oe.push.apply(oe,fi(arguments)),oe.push(";")),C}return n(se,{def:ae,toString:function(){return li([te.length>0?"var "+te.join(",")+";":"",li(oe)])}})}function F(){var oe=H(),se=H(),te=oe.toString,ae=se.toString;function C(I,ne){se(I,ne,"=",oe.def(I,ne),";")}return n(function(){oe.apply(oe,fi(arguments))},{def:oe.def,entry:oe,exit:se,save:C,set:function(I,ne,ve){C(I,ne),oe(I,ne,"=",ve,";")},toString:function(){return te()+ae()}})}function P(){var oe=li(arguments),se=F(),te=F(),ae=se.toString,C=te.toString;return n(se,{then:function(){return se.apply(se,fi(arguments)),this},else:function(){return te.apply(te,fi(arguments)),this},toString:function(){var I=C();return I&&(I="else{"+I+"}"),li(["if(",oe,"){",ae(),"}",I])}})}var ee=H(),$={};function ie(oe,se){var te=[];function ae(){var Z="a"+te.length;return te.push(Z),Z}se=se||0;for(var C=0;C<se;++C)ae();var I=F(),ne=I.toString,ve=$[oe]=n(I,{arg:ae,toString:function(){return li(["function(",te.join(),"){",ne(),"}"])}});return ve}function fe(){var oe=['"use strict";',ee,"return {"];Object.keys($).forEach(function(ae){oe.push('"',ae,'":',$[ae].toString(),",")}),oe.push("}");var se=li(oe).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),te=Function.apply(null,u.concat(se));return te.apply(null,p)}return{global:ee,link:M,block:H,proc:ie,scope:F,cond:P,compile:fe}}var si="xyzw".split(""),Es=5121,ui=1,Vf=2,Hf=0,Xf=1,Wf=2,qf=3,Do=4,ws=5,As=6,Ts="dither",Ss="blend.enable",ks="blend.color",Yf="blend.equation",Qf="blend.func",Rs="depth.enable",Cs="depth.func",Ls="depth.range",Os="depth.mask",Kf="colorMask",Gs="cull.enable",Ns="cull.face",Zf="frontFace",Jf="lineWidth",Ds="polygonOffset.enable",$f="polygonOffset.offset",Fs="sample.alpha",Ms="sample.enable",el="sample.coverage",Bs="stencil.enable",Is="stencil.mask",tl="stencil.func",rl="stencil.opFront",ji="stencil.opBack",Ps="scissor.enable",Fo="scissor.box",Qr="viewport",Ui="profile",aa="framebuffer",Vi="vert",Hi="frag",ia="elements",oa="primitive",fa="count",Mo="offset",Bo="instances",Xi="vao",nl="Width",al="Height",ci=aa+nl,di=aa+al,Md=Qr+nl,Bd=Qr+al,zs="drawingBuffer",js=zs+nl,Us=zs+al,Id=[Qf,Yf,tl,rl,ji,el,Qr,Fo,$f],hi=34962,il=34963,Pd=35632,zd=35633,Vs=3553,jd=34067,Ud=2884,Vd=3042,Hd=3024,Xd=2960,Wd=2929,qd=3089,Yd=32823,Qd=32926,Kd=32928,ol=5126,Io=35664,Po=35665,zo=35666,fl=5124,jo=35667,Uo=35668,Vo=35669,ll=35670,Ho=35671,Xo=35672,Wo=35673,Wi=35674,qi=35675,Yi=35676,Qi=35678,Ki=35680,sl=4,Zi=1028,la=1029,Hs=2304,ul=2305,Zd=32775,Jd=32776,$d=519,Tn=7680,Xs=0,Ws=1,qs=32774,eh=513,Ys=36160,th=36064,Dr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qs=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],mi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Sn={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ks={frag:Pd,vert:zd},cl={cw:Hs,ccw:ul};function qo(a){return Array.isArray(a)||r(a)||Ht(a)}function Zs(a){return a.sort(function(u,p){return u===Qr?-1:p===Qr?1:u<p?-1:1})}function Lt(a,u,p,M){this.thisDep=a,this.contextDep=u,this.propDep=p,this.append=M}function kn(a){return a&&!(a.thisDep||a.contextDep||a.propDep)}function Et(a){return new Lt(!1,!1,!1,a)}function or(a,u){var p=a.type;if(p===Hf){var M=a.data.length;return new Lt(!0,M>=1,M>=2,u)}else if(p===Do){var H=a.data;return new Lt(H.thisDep,H.contextDep,H.propDep,u)}else{if(p===ws)return new Lt(!1,!1,!1,u);if(p===As){for(var F=!1,P=!1,ee=!1,$=0;$<a.data.length;++$){var ie=a.data[$];if(ie.type===Xf)ee=!0;else if(ie.type===Wf)P=!0;else if(ie.type===qf)F=!0;else if(ie.type===Hf){F=!0;var fe=ie.data;fe>=1&&(P=!0),fe>=2&&(ee=!0)}else ie.type===Do&&(F=F||ie.data.thisDep,P=P||ie.data.contextDep,ee=ee||ie.data.propDep)}return new Lt(F,P,ee,u)}else return new Lt(p===qf,p===Wf,p===Xf,u)}}var Js=new Lt(!1,!1,!1,function(){});function rh(a,u,p,M,H,F,P,ee,$,ie,fe,oe,se,te,ae){var C=ie.Record,I={add:32774,subtract:32778,"reverse subtract":32779};p.ext_blend_minmax&&(I.min=Zd,I.max=Jd);var ne=p.angle_instanced_arrays,ve=p.webgl_draw_buffers,Z=p.oes_vertex_array_object,be={dirty:!0,profile:ae.profile},he={},Oe=[],X={},V={};function pe(h){return h.replace(".","_")}function ue(h,s,x){var R=pe(h);Oe.push(h),he[R]=be[R]=!!x,X[R]=s}function re(h,s,x){var R=pe(h);Oe.push(h),Array.isArray(x)?(be[R]=x.slice(),he[R]=x.slice()):be[R]=he[R]=x,V[R]=s}ue(Ts,Hd),ue(Ss,Vd),re(ks,"blendColor",[0,0,0,0]),re(Yf,"blendEquationSeparate",[qs,qs]),re(Qf,"blendFuncSeparate",[Ws,Xs,Ws,Xs]),ue(Rs,Wd,!0),re(Cs,"depthFunc",eh),re(Ls,"depthRange",[0,1]),re(Os,"depthMask",!0),re(Kf,Kf,[!0,!0,!0,!0]),ue(Gs,Ud),re(Ns,"cullFace",la),re(Zf,Zf,ul),re(Jf,Jf,1),ue(Ds,Yd),re($f,"polygonOffset",[0,0]),ue(Fs,Qd),ue(Ms,Kd),re(el,"sampleCoverage",[1,!1]),ue(Bs,Xd),re(Is,"stencilMask",-1),re(tl,"stencilFunc",[$d,0,-1]),re(rl,"stencilOpSeparate",[Zi,Tn,Tn,Tn]),re(ji,"stencilOpSeparate",[la,Tn,Tn,Tn]),ue(Ps,qd),re(Fo,"scissor",[0,0,a.drawingBufferWidth,a.drawingBufferHeight]),re(Qr,Qr,[0,0,a.drawingBufferWidth,a.drawingBufferHeight]);var ce={gl:a,context:se,strings:u,next:he,current:be,draw:oe,elements:F,buffer:H,shader:fe,attributes:ie.state,vao:ie,uniforms:$,framebuffer:ee,extensions:p,timer:te,isBufferArgs:qo},de={primTypes:Or,compareFuncs:mi,blendFuncs:Dr,blendEquations:I,stencilOps:Sn,glTypes:mr,orientationType:cl};d.optional(function(){ce.isArrayLike=ut}),ve&&(de.backBuffer=[la],de.drawBuffer=Ct(M.maxDrawbuffers,function(h){return h===0?[0]:Ct(h,function(s){return th+s})}));var je=0;function Pe(){var h=Fd(),s=h.link,x=h.global;h.id=je++,h.batchId="0";var R=s(ce),L=h.shared={props:"a0"};Object.keys(ce).forEach(function(y){L[y]=x.def(R,".",y)}),d.optional(function(){h.CHECK=s(d),h.commandStr=d.guessCommand(),h.command=s(h.commandStr),h.assert=function(y,v,G){y("if(!(",v,"))",this.CHECK,".commandRaise(",s(G),",",this.command,");")},de.invalidBlendCombinations=Qs});var A=h.next={},E=h.current={};Object.keys(V).forEach(function(y){Array.isArray(be[y])&&(A[y]=x.def(L.next,".",y),E[y]=x.def(L.current,".",y))});var S=h.constants={};Object.keys(de).forEach(function(y){S[y]=x.def(JSON.stringify(de[y]))}),h.invoke=function(y,v){switch(v.type){case Hf:var G=["this",L.context,L.props,h.batchId];return y.def(s(v.data),".call(",G.slice(0,Math.max(v.data.length+1,4)),")");case Xf:return y.def(L.props,v.data);case Wf:return y.def(L.context,v.data);case qf:return y.def("this",v.data);case Do:return v.data.append(h,y),v.data.ref;case ws:return v.data.toString();case As:return v.data.map(function(O){return h.invoke(y,O)})}},h.attribCache={};var b={};return h.scopeAttrib=function(y){var v=u.id(y);if(v in b)return b[v];var G=ie.scope[v];G||(G=ie.scope[v]=new C);var O=b[v]=s(G);return O},h}function me(h){var s=h.static,x=h.dynamic,R;if(Ui in s){var L=!!s[Ui];R=Et(function(E,S){return L}),R.enable=L}else if(Ui in x){var A=x[Ui];R=or(A,function(E,S){return E.invoke(S,A)})}return R}function ge(h,s){var x=h.static,R=h.dynamic;if(aa in x){var L=x[aa];return L?(L=ee.getFramebuffer(L),d.command(L,"invalid framebuffer object"),Et(function(E,S){var b=E.link(L),y=E.shared;S.set(y.framebuffer,".next",b);var v=y.context;return S.set(v,"."+ci,b+".width"),S.set(v,"."+di,b+".height"),b})):Et(function(E,S){var b=E.shared;S.set(b.framebuffer,".next","null");var y=b.context;return S.set(y,"."+ci,y+"."+js),S.set(y,"."+di,y+"."+Us),"null"})}else if(aa in R){var A=R[aa];return or(A,function(E,S){var b=E.invoke(S,A),y=E.shared,v=y.framebuffer,G=S.def(v,".getFramebuffer(",b,")");d.optional(function(){E.assert(S,"!"+b+"||"+G,"invalid framebuffer object")}),S.set(v,".next",G);var O=y.context;return S.set(O,"."+ci,G+"?"+G+".width:"+O+"."+js),S.set(O,"."+di,G+"?"+G+".height:"+O+"."+Us),G})}else return null}function Fe(h,s,x){var R=h.static,L=h.dynamic;function A(b){if(b in R){var y=R[b];d.commandType(y,"object","invalid "+b,x.commandStr);var v=!0,G=y.x|0,O=y.y|0,U,q;return"width"in y?(U=y.width|0,d.command(U>=0,"invalid "+b,x.commandStr)):v=!1,"height"in y?(q=y.height|0,d.command(q>=0,"invalid "+b,x.commandStr)):v=!1,new Lt(!v&&s&&s.thisDep,!v&&s&&s.contextDep,!v&&s&&s.propDep,function(Le,_e){var K=Le.shared.context,j=U;"width"in y||(j=_e.def(K,".",ci,"-",G));var Re=q;return"height"in y||(Re=_e.def(K,".",di,"-",O)),[G,O,j,Re]})}else if(b in L){var le=L[b],Be=or(le,function(Le,_e){var K=Le.invoke(_e,le);d.optional(function(){Le.assert(_e,K+"&&typeof "+K+'==="object"',"invalid "+b)});var j=Le.shared.context,Re=_e.def(K,".x|0"),we=_e.def(K,".y|0"),Me=_e.def('"width" in ',K,"?",K,".width|0:","(",j,".",ci,"-",Re,")"),nt=_e.def('"height" in ',K,"?",K,".height|0:","(",j,".",di,"-",we,")");return d.optional(function(){Le.assert(_e,Me+">=0&&"+nt+">=0","invalid "+b)}),[Re,we,Me,nt]});return s&&(Be.thisDep=Be.thisDep||s.thisDep,Be.contextDep=Be.contextDep||s.contextDep,Be.propDep=Be.propDep||s.propDep),Be}else return s?new Lt(s.thisDep,s.contextDep,s.propDep,function(Le,_e){var K=Le.shared.context;return[0,0,_e.def(K,".",ci),_e.def(K,".",di)]}):null}var E=A(Qr);if(E){var S=E;E=new Lt(E.thisDep,E.contextDep,E.propDep,function(b,y){var v=S.append(b,y),G=b.shared.context;return y.set(G,"."+Md,v[2]),y.set(G,"."+Bd,v[3]),v})}return{viewport:E,scissor_box:A(Fo)}}function Ue(h,s){var x=h.static,R=typeof x[Hi]=="string"&&typeof x[Vi]=="string";if(R){if(Object.keys(s.dynamic).length>0)return null;var L=s.static,A=Object.keys(L);if(A.length>0&&typeof L[A[0]]=="number"){for(var E=[],S=0;S<A.length;++S)d(typeof L[A[S]]=="number","must specify all vertex attribute locations when using vaos"),E.push([L[A[S]]|0,A[S]]);return E}}return null}function qe(h,s,x){var R=h.static,L=h.dynamic;function A(v){if(v in R){var G=u.id(R[v]);d.optional(function(){fe.shader(Ks[v],G,d.guessCommand())});var O=Et(function(){return G});return O.id=G,O}else if(v in L){var U=L[v];return or(U,function(q,le){var Be=q.invoke(le,U),Le=le.def(q.shared.strings,".id(",Be,")");return d.optional(function(){le(q.shared.shader,".shader(",Ks[v],",",Le,",",q.command,");")}),Le})}return null}var E=A(Hi),S=A(Vi),b=null,y;return kn(E)&&kn(S)?(b=fe.program(S.id,E.id,null,x),y=Et(function(v,G){return v.link(b)})):y=new Lt(E&&E.thisDep||S&&S.thisDep,E&&E.contextDep||S&&S.contextDep,E&&E.propDep||S&&S.propDep,function(v,G){var O=v.shared.shader,U;E?U=E.append(v,G):U=G.def(O,".",Hi);var q;S?q=S.append(v,G):q=G.def(O,".",Vi);var le=O+".program("+q+","+U;return d.optional(function(){le+=","+v.command}),G.def(le+")")}),{frag:E,vert:S,progVar:y,program:b}}function ct(h,s){var x=h.static,R=h.dynamic,L={},A=!1;function E(){if(Xi in x){var _e=x[Xi];return _e!==null&&ie.getVAO(_e)===null&&(_e=ie.createVAO(_e)),A=!0,L.vao=_e,Et(function(j){var Re=ie.getVAO(_e);return Re?j.link(Re):"null"})}else if(Xi in R){A=!0;var K=R[Xi];return or(K,function(j,Re){var we=j.invoke(Re,K);return Re.def(j.shared.vao+".getVAO("+we+")")})}return null}var S=E(),b=!1;function y(){if(ia in x){var _e=x[ia];if(L.elements=_e,qo(_e)){var K=L.elements=F.create(_e,!0);_e=F.getElements(K),b=!0}else _e&&(_e=F.getElements(_e),b=!0,d.command(_e,"invalid elements",s.commandStr));var j=Et(function(we,Me){if(_e){var nt=we.link(_e);return we.ELEMENTS=nt,nt}return we.ELEMENTS=null,null});return j.value=_e,j}else if(ia in R){b=!0;var Re=R[ia];return or(Re,function(we,Me){var nt=we.shared,Bt=nt.isBufferArgs,ua=nt.elements,Kr=we.invoke(Me,Re),Mr=Me.def("null"),Rn=Me.def(Bt,"(",Kr,")"),ca=we.cond(Rn).then(Mr,"=",ua,".createStream(",Kr,");").else(Mr,"=",ua,".getElements(",Kr,");");return d.optional(function(){we.assert(ca.else,"!"+Kr+"||"+Mr,"invalid elements")}),Me.entry(ca),Me.exit(we.cond(Rn).then(ua,".destroyStream(",Mr,");")),we.ELEMENTS=Mr,Mr})}else if(A)return new Lt(S.thisDep,S.contextDep,S.propDep,function(we,Me){return Me.def(we.shared.vao+".currentVAO?"+we.shared.elements+".getElements("+we.shared.vao+".currentVAO.elements):null")});return null}var v=y();function G(){if(oa in x){var _e=x[oa];return L.primitive=_e,d.commandParameter(_e,Or,"invalid primitve",s.commandStr),Et(function(j,Re){return Or[_e]})}else if(oa in R){var K=R[oa];return or(K,function(j,Re){var we=j.constants.primTypes,Me=j.invoke(Re,K);return d.optional(function(){j.assert(Re,Me+" in "+we,"invalid primitive, must be one of "+Object.keys(Or))}),Re.def(we,"[",Me,"]")})}else{if(b)return kn(v)?v.value?Et(function(j,Re){return Re.def(j.ELEMENTS,".primType")}):Et(function(){return sl}):new Lt(v.thisDep,v.contextDep,v.propDep,function(j,Re){var we=j.ELEMENTS;return Re.def(we,"?",we,".primType:",sl)});if(A)return new Lt(S.thisDep,S.contextDep,S.propDep,function(j,Re){return Re.def(j.shared.vao+".currentVAO?"+j.shared.vao+".currentVAO.primitive:"+sl)})}return null}function O(_e,K){if(_e in x){var j=x[_e]|0;return K?L.offset=j:L.instances=j,d.command(!K||j>=0,"invalid "+_e,s.commandStr),Et(function(we,Me){return K&&(we.OFFSET=j),j})}else if(_e in R){var Re=R[_e];return or(Re,function(we,Me){var nt=we.invoke(Me,Re);return K&&(we.OFFSET=nt,d.optional(function(){we.assert(Me,nt+">=0","invalid "+_e)})),nt})}else if(K){if(b)return Et(function(we,Me){return we.OFFSET=0,0});if(A)return new Lt(S.thisDep,S.contextDep,S.propDep,function(we,Me){return Me.def(we.shared.vao+".currentVAO?"+we.shared.vao+".currentVAO.offset:0")})}else if(A)return new Lt(S.thisDep,S.contextDep,S.propDep,function(we,Me){return Me.def(we.shared.vao+".currentVAO?"+we.shared.vao+".currentVAO.instances:-1")});return null}var U=O(Mo,!0);function q(){if(fa in x){var _e=x[fa]|0;return L.count=_e,d.command(typeof _e=="number"&&_e>=0,"invalid vertex count",s.commandStr),Et(function(){return _e})}else if(fa in R){var K=R[fa];return or(K,function(Me,nt){var Bt=Me.invoke(nt,K);return d.optional(function(){Me.assert(nt,"typeof "+Bt+'==="number"&&'+Bt+">=0&&"+Bt+"===("+Bt+"|0)","invalid vertex count")}),Bt})}else if(b)if(kn(v)){if(v)return U?new Lt(U.thisDep,U.contextDep,U.propDep,function(Me,nt){var Bt=nt.def(Me.ELEMENTS,".vertCount-",Me.OFFSET);return d.optional(function(){Me.assert(nt,Bt+">=0","invalid vertex offset/element buffer too small")}),Bt}):Et(function(Me,nt){return nt.def(Me.ELEMENTS,".vertCount")});var j=Et(function(){return-1});return d.optional(function(){j.MISSING=!0}),j}else{var Re=new Lt(v.thisDep||U.thisDep,v.contextDep||U.contextDep,v.propDep||U.propDep,function(Me,nt){var Bt=Me.ELEMENTS;return Me.OFFSET?nt.def(Bt,"?",Bt,".vertCount-",Me.OFFSET,":-1"):nt.def(Bt,"?",Bt,".vertCount:-1")});return d.optional(function(){Re.DYNAMIC=!0}),Re}else if(A){var we=new Lt(S.thisDep,S.contextDep,S.propDep,function(Me,nt){return nt.def(Me.shared.vao,".currentVAO?",Me.shared.vao,".currentVAO.count:-1")});return we}return null}var le=G(),Be=q(),Le=O(Bo,!1);return{elements:v,primitive:le,count:Be,instances:Le,offset:U,vao:S,vaoActive:A,elementsActive:b,static:L}}function mt(h,s){var x=h.static,R=h.dynamic,L={};return Oe.forEach(function(A){var E=pe(A);function S(b,y){if(A in x){var v=b(x[A]);L[E]=Et(function(){return v})}else if(A in R){var G=R[A];L[E]=or(G,function(O,U){return y(O,U,O.invoke(U,G))})}}switch(A){case Gs:case Ss:case Ts:case Bs:case Rs:case Ps:case Ds:case Fs:case Ms:case Os:return S(function(b){return d.commandType(b,"boolean",A,s.commandStr),b},function(b,y,v){return d.optional(function(){b.assert(y,"typeof "+v+'==="boolean"',"invalid flag "+A,b.commandStr)}),v});case Cs:return S(function(b){return d.commandParameter(b,mi,"invalid "+A,s.commandStr),mi[b]},function(b,y,v){var G=b.constants.compareFuncs;return d.optional(function(){b.assert(y,v+" in "+G,"invalid "+A+", must be one of "+Object.keys(mi))}),y.def(G,"[",v,"]")});case Ls:return S(function(b){return d.command(ut(b)&&b.length===2&&typeof b[0]=="number"&&typeof b[1]=="number"&&b[0]<=b[1],"depth range is 2d array",s.commandStr),b},function(b,y,v){d.optional(function(){b.assert(y,b.shared.isArrayLike+"("+v+")&&"+v+".length===2&&typeof "+v+'[0]==="number"&&typeof '+v+'[1]==="number"&&'+v+"[0]<="+v+"[1]","depth range must be a 2d array")});var G=y.def("+",v,"[0]"),O=y.def("+",v,"[1]");return[G,O]});case Qf:return S(function(b){d.commandType(b,"object","blend.func",s.commandStr);var y="srcRGB"in b?b.srcRGB:b.src,v="srcAlpha"in b?b.srcAlpha:b.src,G="dstRGB"in b?b.dstRGB:b.dst,O="dstAlpha"in b?b.dstAlpha:b.dst;return d.commandParameter(y,Dr,E+".srcRGB",s.commandStr),d.commandParameter(v,Dr,E+".srcAlpha",s.commandStr),d.commandParameter(G,Dr,E+".dstRGB",s.commandStr),d.commandParameter(O,Dr,E+".dstAlpha",s.commandStr),d.command(Qs.indexOf(y+", "+G)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+y+", "+G+")",s.commandStr),[Dr[y],Dr[G],Dr[v],Dr[O]]},function(b,y,v){var G=b.constants.blendFuncs;d.optional(function(){b.assert(y,v+"&&typeof "+v+'==="object"',"invalid blend func, must be an object")});function O(K,j){var Re=y.def('"',K,j,'" in ',v,"?",v,".",K,j,":",v,".",K);return d.optional(function(){b.assert(y,Re+" in "+G,"invalid "+A+"."+K+j+", must be one of "+Object.keys(Dr))}),Re}var U=O("src","RGB"),q=O("dst","RGB");d.optional(function(){var K=b.constants.invalidBlendCombinations;b.assert(y,K+".indexOf("+U+'+", "+'+q+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var le=y.def(G,"[",U,"]"),Be=y.def(G,"[",O("src","Alpha"),"]"),Le=y.def(G,"[",q,"]"),_e=y.def(G,"[",O("dst","Alpha"),"]");return[le,Le,Be,_e]});case Yf:return S(function(b){if(typeof b=="string")return d.commandParameter(b,I,"invalid "+A,s.commandStr),[I[b],I[b]];if(typeof b=="object")return d.commandParameter(b.rgb,I,A+".rgb",s.commandStr),d.commandParameter(b.alpha,I,A+".alpha",s.commandStr),[I[b.rgb],I[b.alpha]];d.commandRaise("invalid blend.equation",s.commandStr)},function(b,y,v){var G=b.constants.blendEquations,O=y.def(),U=y.def(),q=b.cond("typeof ",v,'==="string"');return d.optional(function(){function le(Be,Le,_e){b.assert(Be,_e+" in "+G,"invalid "+Le+", must be one of "+Object.keys(I))}le(q.then,A,v),b.assert(q.else,v+"&&typeof "+v+'==="object"',"invalid "+A),le(q.else,A+".rgb",v+".rgb"),le(q.else,A+".alpha",v+".alpha")}),q.then(O,"=",U,"=",G,"[",v,"];"),q.else(O,"=",G,"[",v,".rgb];",U,"=",G,"[",v,".alpha];"),y(q),[O,U]});case ks:return S(function(b){return d.command(ut(b)&&b.length===4,"blend.color must be a 4d array",s.commandStr),Ct(4,function(y){return+b[y]})},function(b,y,v){return d.optional(function(){b.assert(y,b.shared.isArrayLike+"("+v+")&&"+v+".length===4","blend.color must be a 4d array")}),Ct(4,function(G){return y.def("+",v,"[",G,"]")})});case Is:return S(function(b){return d.commandType(b,"number",E,s.commandStr),b|0},function(b,y,v){return d.optional(function(){b.assert(y,"typeof "+v+'==="number"',"invalid stencil.mask")}),y.def(v,"|0")});case tl:return S(function(b){d.commandType(b,"object",E,s.commandStr);var y=b.cmp||"keep",v=b.ref||0,G="mask"in b?b.mask:-1;return d.commandParameter(y,mi,A+".cmp",s.commandStr),d.commandType(v,"number",A+".ref",s.commandStr),d.commandType(G,"number",A+".mask",s.commandStr),[mi[y],v,G]},function(b,y,v){var G=b.constants.compareFuncs;d.optional(function(){function le(){b.assert(y,Array.prototype.join.call(arguments,""),"invalid stencil.func")}le(v+"&&typeof ",v,'==="object"'),le('!("cmp" in ',v,")||(",v,".cmp in ",G,")")});var O=y.def('"cmp" in ',v,"?",G,"[",v,".cmp]",":",Tn),U=y.def(v,".ref|0"),q=y.def('"mask" in ',v,"?",v,".mask|0:-1");return[O,U,q]});case rl:case ji:return S(function(b){d.commandType(b,"object",E,s.commandStr);var y=b.fail||"keep",v=b.zfail||"keep",G=b.zpass||"keep";return d.commandParameter(y,Sn,A+".fail",s.commandStr),d.commandParameter(v,Sn,A+".zfail",s.commandStr),d.commandParameter(G,Sn,A+".zpass",s.commandStr),[A===ji?la:Zi,Sn[y],Sn[v],Sn[G]]},function(b,y,v){var G=b.constants.stencilOps;d.optional(function(){b.assert(y,v+"&&typeof "+v+'==="object"',"invalid "+A)});function O(U){return d.optional(function(){b.assert(y,'!("'+U+'" in '+v+")||("+v+"."+U+" in "+G+")","invalid "+A+"."+U+", must be one of "+Object.keys(Sn))}),y.def('"',U,'" in ',v,"?",G,"[",v,".",U,"]:",Tn)}return[A===ji?la:Zi,O("fail"),O("zfail"),O("zpass")]});case $f:return S(function(b){d.commandType(b,"object",E,s.commandStr);var y=b.factor|0,v=b.units|0;return d.commandType(y,"number",E+".factor",s.commandStr),d.commandType(v,"number",E+".units",s.commandStr),[y,v]},function(b,y,v){d.optional(function(){b.assert(y,v+"&&typeof "+v+'==="object"',"invalid "+A)});var G=y.def(v,".factor|0"),O=y.def(v,".units|0");return[G,O]});case Ns:return S(function(b){var y=0;return b==="front"?y=Zi:b==="back"&&(y=la),d.command(!!y,E,s.commandStr),y},function(b,y,v){return d.optional(function(){b.assert(y,v+'==="front"||'+v+'==="back"',"invalid cull.face")}),y.def(v,'==="front"?',Zi,":",la)});case Jf:return S(function(b){return d.command(typeof b=="number"&&b>=M.lineWidthDims[0]&&b<=M.lineWidthDims[1],"invalid line width, must be a positive number between "+M.lineWidthDims[0]+" and "+M.lineWidthDims[1],s.commandStr),b},function(b,y,v){return d.optional(function(){b.assert(y,"typeof "+v+'==="number"&&'+v+">="+M.lineWidthDims[0]+"&&"+v+"<="+M.lineWidthDims[1],"invalid line width")}),v});case Zf:return S(function(b){return d.commandParameter(b,cl,E,s.commandStr),cl[b]},function(b,y,v){return d.optional(function(){b.assert(y,v+'==="cw"||'+v+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),y.def(v+'==="cw"?'+Hs+":"+ul)});case Kf:return S(function(b){return d.command(ut(b)&&b.length===4,"color.mask must be length 4 array",s.commandStr),b.map(function(y){return!!y})},function(b,y,v){return d.optional(function(){b.assert(y,b.shared.isArrayLike+"("+v+")&&"+v+".length===4","invalid color.mask")}),Ct(4,function(G){return"!!"+v+"["+G+"]"})});case el:return S(function(b){d.command(typeof b=="object"&&b,E,s.commandStr);var y="value"in b?b.value:1,v=!!b.invert;return d.command(typeof y=="number"&&y>=0&&y<=1,"sample.coverage.value must be a number between 0 and 1",s.commandStr),[y,v]},function(b,y,v){d.optional(function(){b.assert(y,v+"&&typeof "+v+'==="object"',"invalid sample.coverage")});var G=y.def('"value" in ',v,"?+",v,".value:1"),O=y.def("!!",v,".invert");return[G,O]})}}),L}function Ke(h,s){var x=h.static,R=h.dynamic,L={};return Object.keys(x).forEach(function(A){var E=x[A],S;if(typeof E=="number"||typeof E=="boolean")S=Et(function(){return E});else if(typeof E=="function"){var b=E._reglType;b==="texture2d"||b==="textureCube"?S=Et(function(y){return y.link(E)}):b==="framebuffer"||b==="framebufferCube"?(d.command(E.color.length>0,'missing color attachment for framebuffer sent to uniform "'+A+'"',s.commandStr),S=Et(function(y){return y.link(E.color[0])})):d.commandRaise('invalid data for uniform "'+A+'"',s.commandStr)}else ut(E)?S=Et(function(y){var v=y.global.def("[",Ct(E.length,function(G){return d.command(typeof E[G]=="number"||typeof E[G]=="boolean","invalid uniform "+A,y.commandStr),E[G]}),"]");return v}):d.commandRaise('invalid or missing data for uniform "'+A+'"',s.commandStr);S.value=E,L[A]=S}),Object.keys(R).forEach(function(A){var E=R[A];L[A]=or(E,function(S,b){return S.invoke(b,E)})}),L}function St(h,s){var x=h.static,R=h.dynamic,L={};return Object.keys(x).forEach(function(A){var E=x[A],S=u.id(A),b=new C;if(qo(E))b.state=ui,b.buffer=H.getBuffer(H.create(E,hi,!1,!0)),b.type=0;else{var y=H.getBuffer(E);if(y)b.state=ui,b.buffer=y,b.type=0;else if(d.command(typeof E=="object"&&E,"invalid data for attribute "+A,s.commandStr),"constant"in E){var v=E.constant;b.buffer="null",b.state=Vf,typeof v=="number"?b.x=v:(d.command(ut(v)&&v.length>0&&v.length<=4,"invalid constant for attribute "+A,s.commandStr),si.forEach(function(Le,_e){_e<v.length&&(b[Le]=v[_e])}))}else{qo(E.buffer)?y=H.getBuffer(H.create(E.buffer,hi,!1,!0)):y=H.getBuffer(E.buffer),d.command(!!y,'missing buffer for attribute "'+A+'"',s.commandStr);var G=E.offset|0;d.command(G>=0,'invalid offset for attribute "'+A+'"',s.commandStr);var O=E.stride|0;d.command(O>=0&&O<256,'invalid stride for attribute "'+A+'", must be integer betweeen [0, 255]',s.commandStr);var U=E.size|0;d.command(!("size"in E)||U>0&&U<=4,'invalid size for attribute "'+A+'", must be 1,2,3,4',s.commandStr);var q=!!E.normalized,le=0;"type"in E&&(d.commandParameter(E.type,mr,"invalid type for attribute "+A,s.commandStr),le=mr[E.type]);var Be=E.divisor|0;d.optional(function(){"divisor"in E&&(d.command(Be===0||ne,'cannot specify divisor for attribute "'+A+'", instancing not supported',s.commandStr),d.command(Be>=0,'invalid divisor for attribute "'+A+'"',s.commandStr));var Le=s.commandStr,_e=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(E).forEach(function(K){d.command(_e.indexOf(K)>=0,'unknown parameter "'+K+'" for attribute pointer "'+A+'" (valid parameters are '+_e+")",Le)})}),b.buffer=y,b.state=ui,b.size=U,b.normalized=q,b.type=le||y.dtype,b.offset=G,b.stride=O,b.divisor=Be}}L[A]=Et(function(Le,_e){var K=Le.attribCache;if(S in K)return K[S];var j={isStream:!1};return Object.keys(b).forEach(function(Re){j[Re]=b[Re]}),b.buffer&&(j.buffer=Le.link(b.buffer),j.type=j.type||j.buffer+".dtype"),K[S]=j,j})}),Object.keys(R).forEach(function(A){var E=R[A];function S(b,y){var v=b.invoke(y,E),G=b.shared,O=b.constants,U=G.isBufferArgs,q=G.buffer;d.optional(function(){b.assert(y,v+"&&(typeof "+v+'==="object"||typeof '+v+'==="function")&&('+U+"("+v+")||"+q+".getBuffer("+v+")||"+q+".getBuffer("+v+".buffer)||"+U+"("+v+'.buffer)||("constant" in '+v+"&&(typeof "+v+'.constant==="number"||'+G.isArrayLike+"("+v+".constant))))",'invalid dynamic attribute "'+A+'"')});var le={isStream:y.def(!1)},Be=new C;Be.state=ui,Object.keys(Be).forEach(function(j){le[j]=y.def(""+Be[j])});var Le=le.buffer,_e=le.type;y("if(",U,"(",v,")){",le.isStream,"=true;",Le,"=",q,".createStream(",hi,",",v,");",_e,"=",Le,".dtype;","}else{",Le,"=",q,".getBuffer(",v,");","if(",Le,"){",_e,"=",Le,".dtype;",'}else if("constant" in ',v,"){",le.state,"=",Vf,";","if(typeof "+v+'.constant === "number"){',le[si[0]],"=",v,".constant;",si.slice(1).map(function(j){return le[j]}).join("="),"=0;","}else{",si.map(function(j,Re){return le[j]+"="+v+".constant.length>"+Re+"?"+v+".constant["+Re+"]:0;"}).join(""),"}}else{","if(",U,"(",v,".buffer)){",Le,"=",q,".createStream(",hi,",",v,".buffer);","}else{",Le,"=",q,".getBuffer(",v,".buffer);","}",_e,'="type" in ',v,"?",O.glTypes,"[",v,".type]:",Le,".dtype;",le.normalized,"=!!",v,".normalized;");function K(j){y(le[j],"=",v,".",j,"|0;")}return K("size"),K("offset"),K("stride"),K("divisor"),y("}}"),y.exit("if(",le.isStream,"){",q,".destroyStream(",Le,");","}"),le}L[A]=or(E,S)}),L}function ft(h){var s=h.static,x=h.dynamic,R={};return Object.keys(s).forEach(function(L){var A=s[L];R[L]=Et(function(E,S){return typeof A=="number"||typeof A=="boolean"?""+A:E.link(A)})}),Object.keys(x).forEach(function(L){var A=x[L];R[L]=or(A,function(E,S){return E.invoke(S,A)})}),R}function wt(h,s,x,R,L){var A=h.static,E=h.dynamic;d.optional(function(){var K=[aa,Vi,Hi,ia,oa,Mo,fa,Bo,Ui,Xi].concat(Oe);function j(Re){Object.keys(Re).forEach(function(we){d.command(K.indexOf(we)>=0,'unknown parameter "'+we+'"',L.commandStr)})}j(A),j(E)});var S=Ue(h,s),b=ge(h),y=Fe(h,b,L),v=ct(h,L),G=mt(h,L),O=qe(h,L,S);function U(K){var j=y[K];j&&(G[K]=j)}U(Qr),U(pe(Fo));var q=Object.keys(G).length>0,le={framebuffer:b,draw:v,shader:O,state:G,dirty:q,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(le.profile=me(h),le.uniforms=Ke(x,L),le.drawVAO=le.scopeVAO=v.vao,!le.drawVAO&&O.program&&!S&&p.angle_instanced_arrays&&v.static.elements){var Be=!0,Le=O.program.attributes.map(function(K){var j=s.static[K];return Be=Be&&!!j,j});if(Be&&Le.length>0){var _e=ie.getVAO(ie.createVAO({attributes:Le,elements:v.static.elements}));le.drawVAO=new Lt(null,null,null,function(K,j){return K.link(_e)}),le.useVAO=!0}}return S?le.useVAO=!0:le.attributes=St(s,L),le.context=ft(R),le}function kt(h,s,x){var R=h.shared,L=R.context,A=h.scope();Object.keys(x).forEach(function(E){s.save(L,"."+E);var S=x[E],b=S.append(h,s);Array.isArray(b)?A(L,".",E,"=[",b.join(),"];"):A(L,".",E,"=",b,";")}),s(A)}function Rt(h,s,x,R){var L=h.shared,A=L.gl,E=L.framebuffer,S;ve&&(S=s.def(L.extensions,".webgl_draw_buffers"));var b=h.constants,y=b.drawBuffer,v=b.backBuffer,G;x?G=x.append(h,s):G=s.def(E,".next"),R||s("if(",G,"!==",E,".cur){"),s("if(",G,"){",A,".bindFramebuffer(",Ys,",",G,".framebuffer);"),ve&&s(S,".drawBuffersWEBGL(",y,"[",G,".colorAttachments.length]);"),s("}else{",A,".bindFramebuffer(",Ys,",null);"),ve&&s(S,".drawBuffersWEBGL(",v,");"),s("}",E,".cur=",G,";"),R||s("}")}function Gt(h,s,x){var R=h.shared,L=R.gl,A=h.current,E=h.next,S=R.current,b=R.next,y=h.cond(S,".dirty");Oe.forEach(function(v){var G=pe(v);if(!(G in x.state)){var O,U;if(G in E){O=E[G],U=A[G];var q=Ct(be[G].length,function(Be){return y.def(O,"[",Be,"]")});y(h.cond(q.map(function(Be,Le){return Be+"!=="+U+"["+Le+"]"}).join("||")).then(L,".",V[G],"(",q,");",q.map(function(Be,Le){return U+"["+Le+"]="+Be}).join(";"),";"))}else{O=y.def(b,".",G);var le=h.cond(O,"!==",S,".",G);y(le),G in X?le(h.cond(O).then(L,".enable(",X[G],");").else(L,".disable(",X[G],");"),S,".",G,"=",O,";"):le(L,".",V[G],"(",O,");",S,".",G,"=",O,";")}}}),Object.keys(x.state).length===0&&y(S,".dirty=false;"),s(y)}function Ft(h,s,x,R){var L=h.shared,A=h.current,E=L.current,S=L.gl;Zs(Object.keys(x)).forEach(function(b){var y=x[b];if(!(R&&!R(y))){var v=y.append(h,s);if(X[b]){var G=X[b];kn(y)?v?s(S,".enable(",G,");"):s(S,".disable(",G,");"):s(h.cond(v).then(S,".enable(",G,");").else(S,".disable(",G,");")),s(E,".",b,"=",v,";")}else if(ut(v)){var O=A[b];s(S,".",V[b],"(",v,");",v.map(function(U,q){return O+"["+q+"]="+U}).join(";"),";")}else s(S,".",V[b],"(",v,");",E,".",b,"=",v,";")}})}function _t(h,s){ne&&(h.instancing=s.def(h.shared.extensions,".angle_instanced_arrays"))}function He(h,s,x,R,L){var A=h.shared,E=h.stats,S=A.current,b=A.timer,y=x.profile;function v(){return typeof performance>"u"?"Date.now()":"performance.now()"}var G,O;function U(K){G=s.def(),K(G,"=",v(),";"),typeof L=="string"?K(E,".count+=",L,";"):K(E,".count++;"),te&&(R?(O=s.def(),K(O,"=",b,".getNumPendingQueries();")):K(b,".beginQuery(",E,");"))}function q(K){K(E,".cpuTime+=",v(),"-",G,";"),te&&(R?K(b,".pushScopeStats(",O,",",b,".getNumPendingQueries(),",E,");"):K(b,".endQuery();"))}function le(K){var j=s.def(S,".profile");s(S,".profile=",K,";"),s.exit(S,".profile=",j,";")}var Be;if(y){if(kn(y)){y.enable?(U(s),q(s.exit),le("true")):le("false");return}Be=y.append(h,s),le(Be)}else Be=s.def(S,".profile");var Le=h.block();U(Le),s("if(",Be,"){",Le,"}");var _e=h.block();q(_e),s.exit("if(",Be,"){",_e,"}")}function Mt(h,s,x,R,L){var A=h.shared;function E(b){switch(b){case Io:case jo:case Ho:return 2;case Po:case Uo:case Xo:return 3;case zo:case Vo:case Wo:return 4;default:return 1}}function S(b,y,v){var G=A.gl,O=s.def(b,".location"),U=s.def(A.attributes,"[",O,"]"),q=v.state,le=v.buffer,Be=[v.x,v.y,v.z,v.w],Le=["buffer","normalized","offset","stride"];function _e(){s("if(!",U,".buffer){",G,".enableVertexAttribArray(",O,");}");var j=v.type,Re;if(v.size?Re=s.def(v.size,"||",y):Re=y,s("if(",U,".type!==",j,"||",U,".size!==",Re,"||",Le.map(function(Me){return U+"."+Me+"!=="+v[Me]}).join("||"),"){",G,".bindBuffer(",hi,",",le,".buffer);",G,".vertexAttribPointer(",[O,Re,j,v.normalized,v.stride,v.offset],");",U,".type=",j,";",U,".size=",Re,";",Le.map(function(Me){return U+"."+Me+"="+v[Me]+";"}).join(""),"}"),ne){var we=v.divisor;s("if(",U,".divisor!==",we,"){",h.instancing,".vertexAttribDivisorANGLE(",[O,we],");",U,".divisor=",we,";}")}}function K(){s("if(",U,".buffer){",G,".disableVertexAttribArray(",O,");",U,".buffer=null;","}if(",si.map(function(j,Re){return U+"."+j+"!=="+Be[Re]}).join("||"),"){",G,".vertexAttrib4f(",O,",",Be,");",si.map(function(j,Re){return U+"."+j+"="+Be[Re]+";"}).join(""),"}")}q===ui?_e():q===Vf?K():(s("if(",q,"===",ui,"){"),_e(),s("}else{"),K(),s("}"))}R.forEach(function(b){var y=b.name,v=x.attributes[y],G;if(v){if(!L(v))return;G=v.append(h,s)}else{if(!L(Js))return;var O=h.scopeAttrib(y);d.optional(function(){h.assert(s,O+".state","missing attribute "+y)}),G={},Object.keys(new C).forEach(function(U){G[U]=s.def(O,".",U)})}S(h.link(b),E(b.info.type),G)})}function rt(h,s,x,R,L,A){for(var E=h.shared,S=E.gl,b={},y,v=0;v<R.length;++v){var G=R[v],O=G.name,U=G.info.type,q=G.info.size,le=x.uniforms[O];if(q>1){if(!le)continue;var Be=O.replace("[0]","");if(b[Be])continue;b[Be]=1}var Le=h.link(G),_e=Le+".location",K;if(le){if(!L(le))continue;if(kn(le)){var j=le.value;if(d.command(j!==null&&typeof j<"u",'missing uniform "'+O+'"',h.commandStr),U===Qi||U===Ki){d.command(typeof j=="function"&&(U===Qi&&(j._reglType==="texture2d"||j._reglType==="framebuffer")||U===Ki&&(j._reglType==="textureCube"||j._reglType==="framebufferCube")),"invalid texture for uniform "+O,h.commandStr);var Re=h.link(j._texture||j.color[0]._texture);s(S,".uniform1i(",_e,",",Re+".bind());"),s.exit(Re,".unbind();")}else if(U===Wi||U===qi||U===Yi){d.optional(function(){d.command(ut(j),"invalid matrix for uniform "+O,h.commandStr),d.command(U===Wi&&j.length===4||U===qi&&j.length===9||U===Yi&&j.length===16,"invalid length for matrix uniform "+O,h.commandStr)});var we=h.global.def("new Float32Array(["+Array.prototype.slice.call(j)+"])"),Me=2;U===qi?Me=3:U===Yi&&(Me=4),s(S,".uniformMatrix",Me,"fv(",_e,",false,",we,");")}else{switch(U){case ol:q===1?d.commandType(j,"number","uniform "+O,h.commandStr):d.command(ut(j)&&j.length===q,"uniform "+O,h.commandStr),y="1f";break;case Io:d.command(ut(j)&&j.length&&j.length%2===0&&j.length<=q*2,"uniform "+O,h.commandStr),y="2f";break;case Po:d.command(ut(j)&&j.length&&j.length%3===0&&j.length<=q*3,"uniform "+O,h.commandStr),y="3f";break;case zo:d.command(ut(j)&&j.length&&j.length%4===0&&j.length<=q*4,"uniform "+O,h.commandStr),y="4f";break;case ll:q===1?d.commandType(j,"boolean","uniform "+O,h.commandStr):d.command(ut(j)&&j.length===q,"uniform "+O,h.commandStr),y="1i";break;case fl:q===1?d.commandType(j,"number","uniform "+O,h.commandStr):d.command(ut(j)&&j.length===q,"uniform "+O,h.commandStr),y="1i";break;case Ho:d.command(ut(j)&&j.length&&j.length%2===0&&j.length<=q*2,"uniform "+O,h.commandStr),y="2i";break;case jo:d.command(ut(j)&&j.length&&j.length%2===0&&j.length<=q*2,"uniform "+O,h.commandStr),y="2i";break;case Xo:d.command(ut(j)&&j.length&&j.length%3===0&&j.length<=q*3,"uniform "+O,h.commandStr),y="3i";break;case Uo:d.command(ut(j)&&j.length&&j.length%3===0&&j.length<=q*3,"uniform "+O,h.commandStr),y="3i";break;case Wo:d.command(ut(j)&&j.length&&j.length%4===0&&j.length<=q*4,"uniform "+O,h.commandStr),y="4i";break;case Vo:d.command(ut(j)&&j.length&&j.length%4===0&&j.length<=q*4,"uniform "+O,h.commandStr),y="4i";break}q>1?(y+="v",j=h.global.def("["+Array.prototype.slice.call(j)+"]")):j=ut(j)?Array.prototype.slice.call(j):j,s(S,".uniform",y,"(",_e,",",j,");")}continue}else K=le.append(h,s)}else{if(!L(Js))continue;K=s.def(E.uniforms,"[",u.id(O),"]")}U===Qi?(d(!Array.isArray(K),"must specify a scalar prop for textures"),s("if(",K,"&&",K,'._reglType==="framebuffer"){',K,"=",K,".color[0];","}")):U===Ki&&(d(!Array.isArray(K),"must specify a scalar prop for cube maps"),s("if(",K,"&&",K,'._reglType==="framebufferCube"){',K,"=",K,".color[0];","}")),d.optional(function(){function hr(fr,Yo){h.assert(s,fr,'bad data or missing for uniform "'+O+'".  '+Yo)}function da(fr,Yo){Yo===1&&d(!Array.isArray(K),"must not specify an array type for uniform"),hr("Array.isArray("+K+") && typeof "+K+'[0]===" '+fr+'" || typeof '+K+'==="'+fr+'"',"invalid type, expected "+fr)}function vr(fr,Yo,Qo){Array.isArray(K)?d(K.length&&K.length%fr===0&&K.length<=fr*Qo,"must have length of "+(Qo===1?"":"n * ")+fr):hr(E.isArrayLike+"("+K+")&&"+K+".length && "+K+".length % "+fr+" === 0 && "+K+".length<="+fr*Qo,"invalid vector, should have length of "+(Qo===1?"":"n * ")+fr,h.commandStr)}function iu(fr){d(!Array.isArray(K),"must not specify a value type"),hr("typeof "+K+'==="function"&&'+K+'._reglType==="texture'+(fr===Vs?"2d":"Cube")+'"',"invalid texture type",h.commandStr)}switch(U){case fl:da("number",q);break;case jo:vr(2,"number",q);break;case Uo:vr(3,"number",q);break;case Vo:vr(4,"number",q);break;case ol:da("number",q);break;case Io:vr(2,"number",q);break;case Po:vr(3,"number",q);break;case zo:vr(4,"number",q);break;case ll:da("boolean",q);break;case Ho:vr(2,"boolean",q);break;case Xo:vr(3,"boolean",q);break;case Wo:vr(4,"boolean",q);break;case Wi:vr(4,"number",q);break;case qi:vr(9,"number",q);break;case Yi:vr(16,"number",q);break;case Qi:iu(Vs);break;case Ki:iu(jd);break}});var nt=1;switch(U){case Qi:case Ki:var Bt=s.def(K,"._texture");s(S,".uniform1i(",_e,",",Bt,".bind());"),s.exit(Bt,".unbind();");continue;case fl:case ll:y="1i";break;case jo:case Ho:y="2i",nt=2;break;case Uo:case Xo:y="3i",nt=3;break;case Vo:case Wo:y="4i",nt=4;break;case ol:y="1f";break;case Io:y="2f",nt=2;break;case Po:y="3f",nt=3;break;case zo:y="4f",nt=4;break;case Wi:y="Matrix2fv";break;case qi:y="Matrix3fv";break;case Yi:y="Matrix4fv";break}if(y.indexOf("Matrix")===-1&&q>1&&(y+="v",nt=1),y.charAt(0)==="M"){s(S,".uniform",y,"(",_e,",");var ua=Math.pow(U-Wi+2,2),Kr=h.global.def("new Float32Array(",ua,")");Array.isArray(K)?s("false,(",Ct(ua,function(hr){return Kr+"["+hr+"]="+K[hr]}),",",Kr,")"):s("false,(Array.isArray(",K,")||",K," instanceof Float32Array)?",K,":(",Ct(ua,function(hr){return Kr+"["+hr+"]="+K+"["+hr+"]"}),",",Kr,")"),s(");")}else if(nt>1){for(var Mr=[],Rn=[],ca=0;ca<nt;++ca)Array.isArray(K)?Rn.push(K[ca]):Rn.push(s.def(K+"["+ca+"]")),A&&Mr.push(s.def());A&&s("if(!",h.batchId,"||",Mr.map(function(hr,da){return hr+"!=="+Rn[da]}).join("||"),"){",Mr.map(function(hr,da){return hr+"="+Rn[da]+";"}).join("")),s(S,".uniform",y,"(",_e,",",Rn.join(","),");"),A&&s("}")}else{if(d(!Array.isArray(K),"uniform value must not be an array"),A){var au=s.def();s("if(!",h.batchId,"||",au,"!==",K,"){",au,"=",K,";")}s(S,".uniform",y,"(",_e,",",K,");"),A&&s("}")}}}function Ge(h,s,x,R){var L=h.shared,A=L.gl,E=L.draw,S=R.draw;function b(){var Re=S.elements,we,Me=s;return Re?((Re.contextDep&&R.contextDynamic||Re.propDep)&&(Me=x),we=Re.append(h,Me),S.elementsActive&&Me("if("+we+")"+A+".bindBuffer("+il+","+we+".buffer.buffer);")):(we=Me.def(),Me(we,"=",E,".",ia,";","if(",we,"){",A,".bindBuffer(",il,",",we,".buffer.buffer);}","else if(",L.vao,".currentVAO){",we,"=",h.shared.elements+".getElements("+L.vao,".currentVAO.elements);",Z?"":"if("+we+")"+A+".bindBuffer("+il+","+we+".buffer.buffer);","}")),we}function y(){var Re=S.count,we,Me=s;return Re?((Re.contextDep&&R.contextDynamic||Re.propDep)&&(Me=x),we=Re.append(h,Me),d.optional(function(){Re.MISSING&&h.assert(s,"false","missing vertex count"),Re.DYNAMIC&&h.assert(Me,we+">=0","missing vertex count")})):(we=Me.def(E,".",fa),d.optional(function(){h.assert(Me,we+">=0","missing vertex count")})),we}var v=b();function G(Re){var we=S[Re];return we?we.contextDep&&R.contextDynamic||we.propDep?we.append(h,x):we.append(h,s):s.def(E,".",Re)}var O=G(oa),U=G(Mo),q=y();if(typeof q=="number"){if(q===0)return}else x("if(",q,"){"),x.exit("}");var le,Be;ne&&(le=G(Bo),Be=h.instancing);var Le=v+".type",_e=S.elements&&kn(S.elements)&&!S.vaoActive;function K(){function Re(){x(Be,".drawElementsInstancedANGLE(",[O,q,Le,U+"<<(("+Le+"-"+Es+")>>1)",le],");")}function we(){x(Be,".drawArraysInstancedANGLE(",[O,U,q,le],");")}v&&v!=="null"?_e?Re():(x("if(",v,"){"),Re(),x("}else{"),we(),x("}")):we()}function j(){function Re(){x(A+".drawElements("+[O,q,Le,U+"<<(("+Le+"-"+Es+")>>1)"]+");")}function we(){x(A+".drawArrays("+[O,U,q]+");")}v&&v!=="null"?_e?Re():(x("if(",v,"){"),Re(),x("}else{"),we(),x("}")):we()}ne&&(typeof le!="number"||le>=0)?typeof le=="string"?(x("if(",le,">0){"),K(),x("}else if(",le,"<0){"),j(),x("}")):K():j()}function Ye(h,s,x,R,L){var A=Pe(),E=A.proc("body",L);return d.optional(function(){A.commandStr=s.commandStr,A.command=A.link(s.commandStr)}),ne&&(A.instancing=E.def(A.shared.extensions,".angle_instanced_arrays")),h(A,E,x,R),A.compile().body}function Je(h,s,x,R){_t(h,s),x.useVAO?x.drawVAO?s(h.shared.vao,".setVAO(",x.drawVAO.append(h,s),");"):s(h.shared.vao,".setVAO(",h.shared.vao,".targetVAO);"):(s(h.shared.vao,".setVAO(null);"),Mt(h,s,x,R.attributes,function(){return!0})),rt(h,s,x,R.uniforms,function(){return!0},!1),Ge(h,s,s,x)}function yt(h,s){var x=h.proc("draw",1);_t(h,x),kt(h,x,s.context),Rt(h,x,s.framebuffer),Gt(h,x,s),Ft(h,x,s.state),He(h,x,s,!1,!0);var R=s.shader.progVar.append(h,x);if(x(h.shared.gl,".useProgram(",R,".program);"),s.shader.program)Je(h,x,s,s.shader.program);else{x(h.shared.vao,".setVAO(null);");var L=h.global.def("{}"),A=x.def(R,".id"),E=x.def(L,"[",A,"]");x(h.cond(E).then(E,".call(this,a0);").else(E,"=",L,"[",A,"]=",h.link(function(S){return Ye(Je,h,s,S,1)}),"(",R,");",E,".call(this,a0);"))}Object.keys(s.state).length>0&&x(h.shared.current,".dirty=true;"),h.shared.vao&&x(h.shared.vao,".setVAO(null);")}function Fr(h,s,x,R){h.batchId="a1",_t(h,s);function L(){return!0}Mt(h,s,x,R.attributes,L),rt(h,s,x,R.uniforms,L,!1),Ge(h,s,s,x)}function sa(h,s,x,R){_t(h,s);var L=x.contextDep,A=s.def(),E="a0",S="a1",b=s.def();h.shared.props=b,h.batchId=A;var y=h.scope(),v=h.scope();s(y.entry,"for(",A,"=0;",A,"<",S,";++",A,"){",b,"=",E,"[",A,"];",v,"}",y.exit);function G(Le){return Le.contextDep&&L||Le.propDep}function O(Le){return!G(Le)}if(x.needsContext&&kt(h,v,x.context),x.needsFramebuffer&&Rt(h,v,x.framebuffer),Ft(h,v,x.state,G),x.profile&&G(x.profile)&&He(h,v,x,!1,!0),R)x.useVAO?x.drawVAO?G(x.drawVAO)?v(h.shared.vao,".setVAO(",x.drawVAO.append(h,v),");"):y(h.shared.vao,".setVAO(",x.drawVAO.append(h,y),");"):y(h.shared.vao,".setVAO(",h.shared.vao,".targetVAO);"):(y(h.shared.vao,".setVAO(null);"),Mt(h,y,x,R.attributes,O),Mt(h,v,x,R.attributes,G)),rt(h,y,x,R.uniforms,O,!1),rt(h,v,x,R.uniforms,G,!0),Ge(h,y,v,x);else{var U=h.global.def("{}"),q=x.shader.progVar.append(h,v),le=v.def(q,".id"),Be=v.def(U,"[",le,"]");v(h.shared.gl,".useProgram(",q,".program);","if(!",Be,"){",Be,"=",U,"[",le,"]=",h.link(function(Le){return Ye(Fr,h,x,Le,2)}),"(",q,");}",Be,".call(this,a0[",A,"],",A,");")}}function _(h,s){var x=h.proc("batch",2);h.batchId="0",_t(h,x);var R=!1,L=!0;Object.keys(s.context).forEach(function(U){R=R||s.context[U].propDep}),R||(kt(h,x,s.context),L=!1);var A=s.framebuffer,E=!1;A?(A.propDep?R=E=!0:A.contextDep&&R&&(E=!0),E||Rt(h,x,A)):Rt(h,x,null),s.state.viewport&&s.state.viewport.propDep&&(R=!0);function S(U){return U.contextDep&&R||U.propDep}Gt(h,x,s),Ft(h,x,s.state,function(U){return!S(U)}),(!s.profile||!S(s.profile))&&He(h,x,s,!1,"a1"),s.contextDep=R,s.needsContext=L,s.needsFramebuffer=E;var b=s.shader.progVar;if(b.contextDep&&R||b.propDep)sa(h,x,s,null);else{var y=b.append(h,x);if(x(h.shared.gl,".useProgram(",y,".program);"),s.shader.program)sa(h,x,s,s.shader.program);else{x(h.shared.vao,".setVAO(null);");var v=h.global.def("{}"),G=x.def(y,".id"),O=x.def(v,"[",G,"]");x(h.cond(O).then(O,".call(this,a0,a1);").else(O,"=",v,"[",G,"]=",h.link(function(U){return Ye(sa,h,s,U,2)}),"(",y,");",O,".call(this,a0,a1);"))}}Object.keys(s.state).length>0&&x(h.shared.current,".dirty=true;"),h.shared.vao&&x(h.shared.vao,".setVAO(null);")}function B(h,s){var x=h.proc("scope",3);h.batchId="a2";var R=h.shared,L=R.current;kt(h,x,s.context),s.framebuffer&&s.framebuffer.append(h,x),Zs(Object.keys(s.state)).forEach(function(E){var S=s.state[E],b=S.append(h,x);ut(b)?b.forEach(function(y,v){x.set(h.next[E],"["+v+"]",y)}):x.set(R.next,"."+E,b)}),He(h,x,s,!0,!0),[ia,Mo,fa,Bo,oa].forEach(function(E){var S=s.draw[E];S&&x.set(R.draw,"."+E,""+S.append(h,x))}),Object.keys(s.uniforms).forEach(function(E){var S=s.uniforms[E].append(h,x);Array.isArray(S)&&(S="["+S.join()+"]"),x.set(R.uniforms,"["+u.id(E)+"]",S)}),Object.keys(s.attributes).forEach(function(E){var S=s.attributes[E].append(h,x),b=h.scopeAttrib(E);Object.keys(new C).forEach(function(y){x.set(b,"."+y,S[y])})}),s.scopeVAO&&x.set(R.vao,".targetVAO",s.scopeVAO.append(h,x));function A(E){var S=s.shader[E];S&&x.set(R.shader,"."+E,S.append(h,x))}A(Vi),A(Hi),Object.keys(s.state).length>0&&(x(L,".dirty=true;"),x.exit(L,".dirty=true;")),x("a1(",h.shared.context,",a0,",h.batchId,");")}function N(h){if(!(typeof h!="object"||ut(h))){for(var s=Object.keys(h),x=0;x<s.length;++x)if(Nt.isDynamic(h[s[x]]))return!0;return!1}}function ye(h,s,x){var R=s.static[x];if(!R||!N(R))return;var L=h.global,A=Object.keys(R),E=!1,S=!1,b=!1,y=h.global.def("{}");A.forEach(function(G){var O=R[G];if(Nt.isDynamic(O)){typeof O=="function"&&(O=R[G]=Nt.unbox(O));var U=or(O,null);E=E||U.thisDep,b=b||U.propDep,S=S||U.contextDep}else{switch(L(y,".",G,"="),typeof O){case"number":L(O);break;case"string":L('"',O,'"');break;case"object":Array.isArray(O)&&L("[",O.join(),"]");break;default:L(h.link(O));break}L(";")}});function v(G,O){A.forEach(function(U){var q=R[U];if(Nt.isDynamic(q)){var le=G.invoke(O,q);O(y,".",U,"=",le,";")}})}s.dynamic[x]=new Nt.DynamicVariable(Do,{thisDep:E,contextDep:S,propDep:b,ref:y,append:v}),delete s.static[x]}function We(h,s,x,R,L){var A=Pe();A.stats=A.link(L),Object.keys(s.static).forEach(function(S){ye(A,s,S)}),Id.forEach(function(S){ye(A,h,S)});var E=wt(h,s,x,R,A);return yt(A,E),B(A,E),_(A,E),n(A.compile(),{destroy:function(){E.shader.program.destroy()}})}return{next:he,current:be,procs:function(){var h=Pe(),s=h.proc("poll"),x=h.proc("refresh"),R=h.block();s(R),x(R);var L=h.shared,A=L.gl,E=L.next,S=L.current;R(S,".dirty=false;"),Rt(h,s),Rt(h,x,null,!0);var b;ne&&(b=h.link(ne)),p.oes_vertex_array_object&&x(h.link(p.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var y=0;y<M.maxAttributes;++y){var v=x.def(L.attributes,"[",y,"]"),G=h.cond(v,".buffer");G.then(A,".enableVertexAttribArray(",y,");",A,".bindBuffer(",hi,",",v,".buffer.buffer);",A,".vertexAttribPointer(",y,",",v,".size,",v,".type,",v,".normalized,",v,".stride,",v,".offset);").else(A,".disableVertexAttribArray(",y,");",A,".vertexAttrib4f(",y,",",v,".x,",v,".y,",v,".z,",v,".w);",v,".buffer=null;"),x(G),ne&&x(b,".vertexAttribDivisorANGLE(",y,",",v,".divisor);")}return x(h.shared.vao,".currentVAO=null;",h.shared.vao,".setVAO(",h.shared.vao,".targetVAO);"),Object.keys(X).forEach(function(O){var U=X[O],q=R.def(E,".",O),le=h.block();le("if(",q,"){",A,".enable(",U,")}else{",A,".disable(",U,")}",S,".",O,"=",q,";"),x(le),s("if(",q,"!==",S,".",O,"){",le,"}")}),Object.keys(V).forEach(function(O){var U=V[O],q=be[O],le,Be,Le=h.block();if(Le(A,".",U,"("),ut(q)){var _e=q.length;le=h.global.def(E,".",O),Be=h.global.def(S,".",O),Le(Ct(_e,function(K){return le+"["+K+"]"}),");",Ct(_e,function(K){return Be+"["+K+"]="+le+"["+K+"];"}).join("")),s("if(",Ct(_e,function(K){return le+"["+K+"]!=="+Be+"["+K+"]"}).join("||"),"){",Le,"}")}else le=R.def(E,".",O),Be=R.def(S,".",O),Le(le,");",S,".",O,"=",le,";"),s("if(",le,"!==",Be,"){",Le,"}");x(Le)}),h.compile()}(),compile:We}}function nh(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ah=34918,ih=34919,$s=35007,oh=function(a,u){if(!u.ext_disjoint_timer_query)return null;var p=[];function M(){return p.pop()||u.ext_disjoint_timer_query.createQueryEXT()}function H(ne){p.push(ne)}var F=[];function P(ne){var ve=M();u.ext_disjoint_timer_query.beginQueryEXT($s,ve),F.push(ve),te(F.length-1,F.length,ne)}function ee(){u.ext_disjoint_timer_query.endQueryEXT($s)}function $(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ie=[];function fe(){return ie.pop()||new $}function oe(ne){ie.push(ne)}var se=[];function te(ne,ve,Z){var be=fe();be.startQueryIndex=ne,be.endQueryIndex=ve,be.sum=0,be.stats=Z,se.push(be)}var ae=[],C=[];function I(){var ne,ve,Z=F.length;if(Z!==0){C.length=Math.max(C.length,Z+1),ae.length=Math.max(ae.length,Z+1),ae[0]=0,C[0]=0;var be=0;for(ne=0,ve=0;ve<F.length;++ve){var he=F[ve];u.ext_disjoint_timer_query.getQueryObjectEXT(he,ih)?(be+=u.ext_disjoint_timer_query.getQueryObjectEXT(he,ah),H(he)):F[ne++]=he,ae[ve+1]=be,C[ve+1]=ne}for(F.length=ne,ne=0,ve=0;ve<se.length;++ve){var Oe=se[ve],X=Oe.startQueryIndex,V=Oe.endQueryIndex;Oe.sum+=ae[V]-ae[X];var pe=C[X],ue=C[V];ue===pe?(Oe.stats.gpuTime+=Oe.sum/1e6,oe(Oe)):(Oe.startQueryIndex=pe,Oe.endQueryIndex=ue,se[ne++]=Oe)}se.length=ne}}return{beginQuery:P,endQuery:ee,pushScopeStats:te,update:I,getNumPendingQueries:function(){return F.length},clear:function(){p.push.apply(p,F);for(var ne=0;ne<p.length;ne++)u.ext_disjoint_timer_query.deleteQueryEXT(p[ne]);F.length=0,p.length=0},restore:function(){F.length=0,p.length=0}}},fh=16384,lh=256,sh=1024,uh=34962,eu="webglcontextlost",tu="webglcontextrestored",ru=1,ch=2,dh=3;function nu(a,u){for(var p=0;p<a.length;++p)if(a[p]===u)return p;return-1}function hh(a){var u=nn(a);if(!u)return null;var p=u.gl,M=p.getContextAttributes(),H=p.isContextLost(),F=an(p,u);if(!F)return null;var P=$r(),ee=nh(),$=F.extensions,ie=oh(p,$),fe=Ta(),oe=p.drawingBufferWidth,se=p.drawingBufferHeight,te={tick:0,time:0,viewportWidth:oe,viewportHeight:se,framebufferWidth:oe,framebufferHeight:se,drawingBufferWidth:oe,drawingBufferHeight:se,pixelRatio:u.pixelRatio},ae={},C={elements:null,primitive:4,count:-1,offset:0,instances:-1},I=Un(p,$),ne=$n(p,ee,u,be),ve=kc(p,$,ne,ee),Z=kd(p,$,I,ee,ne,ve,C);function be(Ge){return Z.destroyBuffer(Ge)}var he=Od(p,P,ee,u),Oe=ad(p,$,I,function(){pe.procs.poll()},te,ee,u),X=id(p,$,I,ee,u),V=Td(p,$,I,Oe,X,ee),pe=rh(p,P,$,I,ne,ve,Oe,V,ae,Z,he,C,te,ie,u),ue=Dd(p,V,pe.procs.poll,te,M,$,I),re=pe.next,ce=p.canvas,de=[],je=[],Pe=[],me=[u.onDestroy],ge=null;function Fe(){if(de.length===0){ie&&ie.update(),ge=null;return}ge=Dn.next(Fe),Ft();for(var Ge=de.length-1;Ge>=0;--Ge){var Ye=de[Ge];Ye&&Ye(te,null,0)}p.flush(),ie&&ie.update()}function Ue(){!ge&&de.length>0&&(ge=Dn.next(Fe))}function qe(){ge&&(Dn.cancel(Fe),ge=null)}function ct(Ge){Ge.preventDefault(),H=!0,qe(),je.forEach(function(Ye){Ye()})}function mt(Ge){p.getError(),H=!1,F.restore(),he.restore(),ne.restore(),Oe.restore(),X.restore(),V.restore(),Z.restore(),ie&&ie.restore(),pe.procs.refresh(),Ue(),Pe.forEach(function(Ye){Ye()})}ce&&(ce.addEventListener(eu,ct,!1),ce.addEventListener(tu,mt,!1));function Ke(){de.length=0,qe(),ce&&(ce.removeEventListener(eu,ct),ce.removeEventListener(tu,mt)),he.clear(),V.clear(),X.clear(),Z.clear(),Oe.clear(),ve.clear(),ne.clear(),ie&&ie.clear(),me.forEach(function(Ge){Ge()})}function St(Ge){d(!!Ge,"invalid args to regl({...})"),d.type(Ge,"object","invalid args to regl({...})");function Ye(L){var A=n({},L);delete A.uniforms,delete A.attributes,delete A.context,delete A.vao,"stencil"in A&&A.stencil.op&&(A.stencil.opBack=A.stencil.opFront=A.stencil.op,delete A.stencil.op);function E(S){if(S in A){var b=A[S];delete A[S],Object.keys(b).forEach(function(y){A[S+"."+y]=b[y]})}}return E("blend"),E("depth"),E("cull"),E("stencil"),E("polygonOffset"),E("scissor"),E("sample"),"vao"in L&&(A.vao=L.vao),A}function Je(L,A){var E={},S={};return Object.keys(L).forEach(function(b){var y=L[b];if(Nt.isDynamic(y)){S[b]=Nt.unbox(y,b);return}else if(A&&Array.isArray(y)){for(var v=0;v<y.length;++v)if(Nt.isDynamic(y[v])){S[b]=Nt.unbox(y,b);return}}E[b]=y}),{dynamic:S,static:E}}var yt=Je(Ge.context||{},!0),Fr=Je(Ge.uniforms||{},!0),sa=Je(Ge.attributes||{},!1),_=Je(Ye(Ge),!1),B={gpuTime:0,cpuTime:0,count:0},N=pe.compile(_,sa,Fr,yt,B),ye=N.draw,We=N.batch,h=N.scope,s=[];function x(L){for(;s.length<L;)s.push(null);return s}function R(L,A){var E;if(H&&d.raise("context lost"),typeof L=="function")return h.call(this,null,L,0);if(typeof A=="function")if(typeof L=="number")for(E=0;E<L;++E)h.call(this,null,A,E);else if(Array.isArray(L))for(E=0;E<L.length;++E)h.call(this,L[E],A,E);else return h.call(this,L,A,0);else if(typeof L=="number"){if(L>0)return We.call(this,x(L|0),L|0)}else if(Array.isArray(L)){if(L.length)return We.call(this,L,L.length)}else return ye.call(this,L)}return n(R,{stats:B,destroy:function(){N.destroy()}})}var ft=V.setFBO=St({framebuffer:Nt.define.call(null,ru,"framebuffer")});function wt(Ge,Ye){var Je=0;pe.procs.poll();var yt=Ye.color;yt&&(p.clearColor(+yt[0]||0,+yt[1]||0,+yt[2]||0,+yt[3]||0),Je|=fh),"depth"in Ye&&(p.clearDepth(+Ye.depth),Je|=lh),"stencil"in Ye&&(p.clearStencil(Ye.stencil|0),Je|=sh),d(!!Je,"called regl.clear with no buffer specified"),p.clear(Je)}function kt(Ge){if(d(typeof Ge=="object"&&Ge,"regl.clear() takes an object as input"),"framebuffer"in Ge)if(Ge.framebuffer&&Ge.framebuffer_reglType==="framebufferCube")for(var Ye=0;Ye<6;++Ye)ft(n({framebuffer:Ge.framebuffer.faces[Ye]},Ge),wt);else ft(Ge,wt);else wt(null,Ge)}function Rt(Ge){d.type(Ge,"function","regl.frame() callback must be a function"),de.push(Ge);function Ye(){var Je=nu(de,Ge);d(Je>=0,"cannot cancel a frame twice");function yt(){var Fr=nu(de,yt);de[Fr]=de[de.length-1],de.length-=1,de.length<=0&&qe()}de[Je]=yt}return Ue(),{cancel:Ye}}function Gt(){var Ge=re.viewport,Ye=re.scissor_box;Ge[0]=Ge[1]=Ye[0]=Ye[1]=0,te.viewportWidth=te.framebufferWidth=te.drawingBufferWidth=Ge[2]=Ye[2]=p.drawingBufferWidth,te.viewportHeight=te.framebufferHeight=te.drawingBufferHeight=Ge[3]=Ye[3]=p.drawingBufferHeight}function Ft(){te.tick+=1,te.time=He(),Gt(),pe.procs.poll()}function _t(){Oe.refresh(),Gt(),pe.procs.refresh(),ie&&ie.update()}function He(){return(Ta()-fe)/1e3}_t();function Mt(Ge,Ye){d.type(Ye,"function","listener callback must be a function");var Je;switch(Ge){case"frame":return Rt(Ye);case"lost":Je=je;break;case"restore":Je=Pe;break;case"destroy":Je=me;break;default:d.raise("invalid event, must be one of frame,lost,restore,destroy")}return Je.push(Ye),{cancel:function(){for(var yt=0;yt<Je.length;++yt)if(Je[yt]===Ye){Je[yt]=Je[Je.length-1],Je.pop();return}}}}var rt=n(St,{clear:kt,prop:Nt.define.bind(null,ru),context:Nt.define.bind(null,ch),this:Nt.define.bind(null,dh),draw:St({}),buffer:function(Ge){return ne.create(Ge,uh,!1,!1)},elements:function(Ge){return ve.create(Ge,!1)},texture:Oe.create2D,cube:Oe.createCube,renderbuffer:X.create,framebuffer:V.create,framebufferCube:V.createCube,vao:Z.createVAO,attributes:M,frame:Rt,on:Mt,limits:I,hasExtension:function(Ge){return I.extensions.indexOf(Ge.toLowerCase())>=0},read:ue,destroy:Ke,_gl:p,_refresh:_t,poll:function(){Ft(),ie&&ie.update()},now:He,stats:ee});return u.onDone(null,rt),rt}return hh})})(Ac);var sb=Ac.exports;const ub=hm(sb);function Uu(e){let t=e.replace("#","");return t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t.match(/.{1,2}/g).map(r=>parseInt(r,16)/255)}function cb(e,t,r){let n,i,o,f,l,m;const{data:c,xGet:g,yGet:T,width:k,height:D}=Jt("LayerCake");xe(e,c,Q=>r(14,f=Q)),xe(e,g,Q=>r(16,m=Q)),xe(e,T,Q=>r(15,l=Q)),xe(e,k,Q=>r(12,o=Q)),xe(e,D,Q=>r(11,i=Q));let{highlight_id:z=void 0}=t;console.log("scatter has",z);let{r:W=5}=t,{fill:Y="#08f"}=t,{stroke:Ae="#fc1703"}=t;const{gl:De}=Jt("gl");xe(e,De,Q=>r(10,n=Q));function Ce(){if(n){const Q=n.canvas,Te=Q.clientWidth,Ie=Q.clientHeight;(Q.width!==Te||Q.height!==Ie)&&(Q.width=Te,Q.height=Ie),n.viewport(0,0,Q.width,Q.height)}}let Ee;function Ve(){n&&(Ee=ub({gl:n,extensions:["oes_standard_derivatives"]}),Ee.clear({color:[0,0,0,0],depth:1}),Ee({frag:`
          #extension GL_OES_standard_derivatives : enable
          precision mediump float;
          uniform vec3 fill_color;
          uniform vec3 stroke_color;
          varying float s_s;
          void main () {
  
            vec2 cxy = 2.0 * gl_PointCoord - 1.0;
  
            float dist = dot(cxy, cxy);
  
            float delta = fwidth(dist);
  
            float alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, dist);
  
            float outer_edge_center = 1.0 - s_s;
            float stroke = 1.0 - smoothstep(outer_edge_center - delta, outer_edge_center + delta, dist);
  
            // gl_FragColor = vec4(fill_color,1.0) * alpha;
            gl_FragColor = vec4( mix(stroke_color, fill_color, stroke), 1.0 ) * alpha;
            gl_FragColor.rgb *= gl_FragColor.a;
          }`,vert:`
          precision mediump float;
          attribute vec2 position;
          attribute float r;
          attribute float z;
          attribute float stroke_size;
  
          varying float s_s;
  
          uniform float stage_width;
          uniform float stage_height;
  
          // http://peterbeshai.com/beautifully-animate-points-with-webgl-and-regl.html
          vec2 normalizeCoords(vec2 position) {
            // read in the positions into x and y vars
            float x = position[0];
            float y = position[1];
            return vec2(
              2.0 * ((x / stage_width) - 0.5),
              // invert y to treat [0,0] as bottom left in pixel space
              -(2.0 * ((y / stage_height) - 0.5))
            );
          }
  
          void main () {
            s_s = stroke_size;
            gl_PointSize = r;
            gl_Position = vec4(normalizeCoords(position), z, 1.0);
          }`,attributes:{position:(Te,Ie)=>Ie.points.map(Ze=>[m(Ze),l(Ze)]),z:(Te,Ie)=>Ie.points.map(Ze=>typeof z<"u"&&Ze.id==z?-.99:0),r:(Te,Ie)=>Ie.points.map(Ze=>typeof z<"u"&&Ze.id==z?Ie.pointWidth*3:Ie.pointWidth),stroke_size:(Te,Ie)=>Ie.points.map(Ze=>typeof z<"u"&&Ze.id==z?.25:0)},uniforms:{fill_color:Uu("#33ddff"),stroke_color:Uu(Ae),stage_width:Ee.context("drawingBufferWidth"),stage_height:Ee.context("drawingBufferHeight")},count:(Te,Ie)=>Ie.points.length,primitive:"points",blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:"src alpha",dstRGB:"one minus src alpha",dstAlpha:"one minus src alpha"}},depth:{enable:!0}})({pointWidth:W*2*1.5,points:f}))}return e.$$set=Q=>{"highlight_id"in Q&&r(6,z=Q.highlight_id),"r"in Q&&r(7,W=Q.r),"fill"in Q&&r(8,Y=Q.fill),"stroke"in Q&&r(9,Ae=Q.stroke)},e.$$.update=()=>{e.$$.dirty&7168&&(Ce(),Ve())},[c,g,T,k,D,De,z,W,Y,Ae,n,i,o]}class Zb extends ur{constructor(t){super(),cr(this,t,cb,null,nr,{highlight_id:6,r:7,fill:8,stroke:9})}}function Vu(e,t,r){const n=e.slice();return n[19]=t[r],n[21]=r,n}function Hu(e){let t,r;return{c(){t=qt("line"),this.h()},l(n){t=Yt(n,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),it(t).forEach(Ne),this.h()},h(){J(t,"class","gridline svelte-19g7rzr"),J(t,"y1",r=e[11]*-1),J(t,"y2","0"),J(t,"x1","0"),J(t,"x2","0")},m(n,i){ot(n,t,i)},p(n,i){i&2048&&r!==(r=n[11]*-1)&&J(t,"y1",r)},d(n){n&&Ne(t)}}}function Xu(e){let t,r,n;return{c(){t=qt("line"),this.h()},l(i){t=Yt(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),it(t).forEach(Ne),this.h()},h(){J(t,"class","tick-mark svelte-19g7rzr"),J(t,"y1",0),J(t,"y2",6),J(t,"x1",r=e[7]?e[8].bandwidth()/2:0),J(t,"x2",n=e[7]?e[8].bandwidth()/2:0)},m(i,o){ot(i,t,o)},p(i,o){o&384&&r!==(r=i[7]?i[8].bandwidth()/2:0)&&J(t,"x1",r),o&384&&n!==(n=i[7]?i[8].bandwidth()/2:0)&&J(t,"x2",n)},d(i){i&&Ne(t)}}}function Wu(e,t){let r,n,i,o=t[4](t[19])+"",f,l,m,c,g,T=t[0]!==!1&&Hu(t),k=t[1]===!0&&Xu(t);return{key:e,first:null,c(){r=qt("g"),T&&T.c(),n=sr(),k&&k.c(),i=qt("text"),f=_f(o),this.h()},l(D){r=Yt(D,"g",{class:!0,transform:!0});var z=it(r);T&&T.l(z),n=sr(),k&&k.l(z),i=Yt(z,"text",{x:!0,y:!0,dx:!0,dy:!0,"text-anchor":!0,class:!0});var W=it(i);f=yf(W,o),W.forEach(Ne),z.forEach(Ne),this.h()},h(){J(i,"x",l=t[7]?t[8].bandwidth()/2+t[5]:t[5]),J(i,"y",t[6]),J(i,"dx",""),J(i,"dy",""),J(i,"text-anchor",m=t[17](t[21])),J(i,"class","svelte-19g7rzr"),J(r,"class",c="tick tick-"+t[21]+" svelte-19g7rzr"),J(r,"transform",g="translate("+t[8](t[19])+","+Math.max(...t[10])+")"),this.first=r},m(D,z){ot(D,r,z),T&&T.m(r,null),At(r,n),k&&k.m(r,null),At(r,i),At(i,f)},p(D,z){t=D,t[0]!==!1?T?T.p(t,z):(T=Hu(t),T.c(),T.m(r,n)):T&&(T.d(1),T=null),t[1]===!0?k?k.p(t,z):(k=Xu(t),k.c(),k.m(r,i)):k&&(k.d(1),k=null),z&528&&o!==(o=t[4](t[19])+"")&&pf(f,o),z&416&&l!==(l=t[7]?t[8].bandwidth()/2+t[5]:t[5])&&J(i,"x",l),z&64&&J(i,"y",t[6]),z&512&&m!==(m=t[17](t[21]))&&J(i,"text-anchor",m),z&512&&c!==(c="tick tick-"+t[21]+" svelte-19g7rzr")&&J(r,"class",c),z&1792&&g!==(g="translate("+t[8](t[19])+","+Math.max(...t[10])+")")&&J(r,"transform",g)},d(D){D&&Ne(r),T&&T.d(),k&&k.d()}}}function qu(e){let t,r,n;return{c(){t=qt("line"),this.h()},l(i){t=Yt(i,"line",{class:!0,y1:!0,y2:!0,x1:!0,x2:!0}),it(t).forEach(Ne),this.h()},h(){J(t,"class","baseline svelte-19g7rzr"),J(t,"y1",r=e[11]+.5),J(t,"y2",n=e[11]+.5),J(t,"x1","0"),J(t,"x2",e[12])},m(i,o){ot(i,t,o)},p(i,o){o&2048&&r!==(r=i[11]+.5)&&J(t,"y1",r),o&2048&&n!==(n=i[11]+.5)&&J(t,"y2",n),o&4096&&J(t,"x2",i[12])},d(i){i&&Ne(t)}}}function db(e){let t,r=[],n=new Map,i,o=lf(e[9]);const f=m=>m[19];for(let m=0;m<o.length;m+=1){let c=Vu(e,o,m),g=f(c);n.set(g,r[m]=Wu(g,c))}let l=e[2]===!0&&qu(e);return{c(){t=qt("g");for(let m=0;m<r.length;m+=1)r[m].c();i=sr(),l&&l.c(),this.h()},l(m){t=Yt(m,"g",{class:!0});var c=it(t);for(let g=0;g<r.length;g+=1)r[g].l(c);i=sr(),l&&l.l(c),c.forEach(Ne),this.h()},h(){J(t,"class","axis x-axis svelte-19g7rzr"),lu(t,"snapTicks",e[3])},m(m,c){ot(m,t,c);for(let g=0;g<r.length;g+=1)r[g]&&r[g].m(t,null);At(t,i),l&&l.m(t,null)},p(m,[c]){c&135155&&(o=lf(m[9]),r=ac(r,c,f,1,m,o,n,t,nc,Wu,i,Vu)),m[2]===!0?l?l.p(m,c):(l=qu(m),l.c(),l.m(t,null)):l&&(l.d(1),l=null),c&8&&lu(t,"snapTicks",m[3])},i:ff,o:ff,d(m){m&&Ne(t);for(let c=0;c<r.length;c+=1)r[c].d();l&&l.d()}}}function hb(e,t,r){let n,i,o,f,l,m;const{width:c,height:g,xScale:T,yRange:k}=Jt("LayerCake");xe(e,c,Q=>r(12,m=Q)),xe(e,g,Q=>r(11,l=Q)),xe(e,T,Q=>r(8,o=Q)),xe(e,k,Q=>r(10,f=Q));let{gridlines:D=!0}=t,{tickMarks:z=!1}=t,{baseline:W=!1}=t,{snapTicks:Y=!1}=t,{formatTick:Ae=Q=>Q}=t,{ticks:De=void 0}=t,{xTick:Ce=0}=t,{yTick:Ee=16}=t;function Ve(Q){if(Y===!0){if(Q===0)return"start";if(Q===i.length-1)return"end"}return"middle"}return e.$$set=Q=>{"gridlines"in Q&&r(0,D=Q.gridlines),"tickMarks"in Q&&r(1,z=Q.tickMarks),"baseline"in Q&&r(2,W=Q.baseline),"snapTicks"in Q&&r(3,Y=Q.snapTicks),"formatTick"in Q&&r(4,Ae=Q.formatTick),"ticks"in Q&&r(18,De=Q.ticks),"xTick"in Q&&r(5,Ce=Q.xTick),"yTick"in Q&&r(6,Ee=Q.yTick)},e.$$.update=()=>{e.$$.dirty&256&&r(7,n=typeof o.bandwidth=="function"),e.$$.dirty&262528&&r(9,i=Array.isArray(De)?De:n?o.domain():typeof De=="function"?De(o.ticks()):o.ticks(De))},[D,z,W,Y,Ae,Ce,Ee,n,o,i,f,l,m,c,g,T,k,Ve,De]}class Jb extends ur{constructor(t){super(),cr(this,t,hb,db,nr,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function Yu(e,t,r){const n=e.slice();return n[17]=t[r],n}function Qu(e){let t,r,n;return{c(){t=qt("line"),this.h()},l(i){t=Yt(i,"line",{class:!0,x2:!0,y1:!0,y2:!0}),it(t).forEach(Ne),this.h()},h(){J(t,"class","gridline svelte-1vly8zy"),J(t,"x2","100%"),J(t,"y1",r=e[8]?e[9].bandwidth()/2:0),J(t,"y2",n=e[8]?e[9].bandwidth()/2:0)},m(i,o){ot(i,t,o)},p(i,o){o&768&&r!==(r=i[8]?i[9].bandwidth()/2:0)&&J(t,"y1",r),o&768&&n!==(n=i[8]?i[9].bandwidth()/2:0)&&J(t,"y2",n)},d(i){i&&Ne(t)}}}function Ku(e){let t,r,n,i;return{c(){t=qt("line"),this.h()},l(o){t=Yt(o,"line",{class:!0,x1:!0,x2:!0,y1:!0,y2:!0}),it(t).forEach(Ne),this.h()},h(){J(t,"class","tick-mark svelte-1vly8zy"),J(t,"x1","0"),J(t,"x2",r=e[8]?-6:6),J(t,"y1",n=e[8]?e[9].bandwidth()/2:0),J(t,"y2",i=e[8]?e[9].bandwidth()/2:0)},m(o,f){ot(o,t,f)},p(o,f){f&256&&r!==(r=o[8]?-6:6)&&J(t,"x2",r),f&768&&n!==(n=o[8]?o[9].bandwidth()/2:0)&&J(t,"y1",n),f&768&&i!==(i=o[8]?o[9].bandwidth()/2:0)&&J(t,"y2",i)},d(o){o&&Ne(t)}}}function Zu(e,t){let r,n,i,o=t[2](t[17])+"",f,l,m,c,g,T,k=t[0]!==!1&&Qu(t),D=t[1]===!0&&Ku(t);return{key:e,first:null,c(){r=qt("g"),k&&k.c(),n=sr(),D&&D.c(),i=qt("text"),f=_f(o),this.h()},l(z){r=Yt(z,"g",{class:!0,transform:!0});var W=it(r);k&&k.l(W),n=sr(),D&&D.l(W),i=Yt(W,"text",{x:!0,y:!0,dx:!0,dy:!0,style:!0,class:!0});var Y=it(i);f=yf(Y,o),Y.forEach(Ne),W.forEach(Ne),this.h()},h(){J(i,"x",t[3]),J(i,"y",l=t[8]?t[9].bandwidth()/2+t[4]:t[4]),J(i,"dx",m=t[8]?-9:t[5]),J(i,"dy",c=t[8]?4:t[6]),Qe(i,"text-anchor",t[8]?"end":t[7]),J(i,"class","svelte-1vly8zy"),J(r,"class",g="tick tick-"+t[17]+" svelte-1vly8zy"),J(r,"transform",T="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")"),this.first=r},m(z,W){ot(z,r,W),k&&k.m(r,null),At(r,n),D&&D.m(r,null),At(r,i),At(i,f)},p(z,W){t=z,t[0]!==!1?k?k.p(t,W):(k=Qu(t),k.c(),k.m(r,n)):k&&(k.d(1),k=null),t[1]===!0?D?D.p(t,W):(D=Ku(t),D.c(),D.m(r,i)):D&&(D.d(1),D=null),W&1028&&o!==(o=t[2](t[17])+"")&&pf(f,o),W&8&&J(i,"x",t[3]),W&784&&l!==(l=t[8]?t[9].bandwidth()/2+t[4]:t[4])&&J(i,"y",l),W&288&&m!==(m=t[8]?-9:t[5])&&J(i,"dx",m),W&320&&c!==(c=t[8]?4:t[6])&&J(i,"dy",c),W&384&&Qe(i,"text-anchor",t[8]?"end":t[7]),W&1024&&g!==(g="tick tick-"+t[17]+" svelte-1vly8zy")&&J(r,"class",g),W&7936&&T!==(T="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&J(r,"transform",T)},d(z){z&&Ne(r),k&&k.d(),D&&D.d()}}}function mb(e){let t,r=[],n=new Map,i,o=lf(e[10]);const f=l=>l[17];for(let l=0;l<o.length;l+=1){let m=Yu(e,o,l),c=f(m);n.set(c,r[l]=Zu(c,m))}return{c(){t=qt("g");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){t=Yt(l,"g",{class:!0,transform:!0});var m=it(t);for(let c=0;c<r.length;c+=1)r[c].l(m);m.forEach(Ne),this.h()},h(){J(t,"class","axis y-axis"),J(t,"transform",i="translate("+-e[11].left+", 0)")},m(l,m){ot(l,t,m);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(t,null)},p(l,[m]){m&8191&&(o=lf(l[10]),r=ac(r,m,f,1,l,o,n,t,nc,Zu,null,Yu)),m&2048&&i!==(i="translate("+-l[11].left+", 0)")&&J(t,"transform",i)},i:ff,o:ff,d(l){l&&Ne(t);for(let m=0;m<r.length;m+=1)r[m].d()}}}function bb(e,t,r){let n,i,o,f,l;const{padding:m,xRange:c,yScale:g}=Jt("LayerCake");xe(e,m,Ee=>r(11,f=Ee)),xe(e,c,Ee=>r(12,l=Ee)),xe(e,g,Ee=>r(9,o=Ee));let{gridlines:T=!0}=t,{tickMarks:k=!1}=t,{formatTick:D=Ee=>Ee}=t,{ticks:z=4}=t,{xTick:W=0}=t,{yTick:Y=0}=t,{dxTick:Ae=0}=t,{dyTick:De=-4}=t,{textAnchor:Ce="start"}=t;return e.$$set=Ee=>{"gridlines"in Ee&&r(0,T=Ee.gridlines),"tickMarks"in Ee&&r(1,k=Ee.tickMarks),"formatTick"in Ee&&r(2,D=Ee.formatTick),"ticks"in Ee&&r(16,z=Ee.ticks),"xTick"in Ee&&r(3,W=Ee.xTick),"yTick"in Ee&&r(4,Y=Ee.yTick),"dxTick"in Ee&&r(5,Ae=Ee.dxTick),"dyTick"in Ee&&r(6,De=Ee.dyTick),"textAnchor"in Ee&&r(7,Ce=Ee.textAnchor)},e.$$.update=()=>{e.$$.dirty&512&&r(8,n=typeof o.bandwidth=="function"),e.$$.dirty&66304&&r(10,i=Array.isArray(z)?z:n?o.domain():typeof z=="function"?z(o.ticks()):o.ticks(z))},[T,k,D,W,Y,Ae,De,Ce,n,o,i,f,l,m,c,g,z]}class $b extends ur{constructor(t){super(),cr(this,t,bb,mb,nr,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}function gb(e){const t=+this._x.call(null,e),r=+this._y.call(null,e);return Tc(this.cover(t,r),t,r,e)}function Tc(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,o=e._root,f={data:n},l=e._x0,m=e._y0,c=e._x1,g=e._y1,T,k,D,z,W,Y,Ae,De;if(!o)return e._root=f,e;for(;o.length;)if((W=t>=(T=(l+c)/2))?l=T:c=T,(Y=r>=(k=(m+g)/2))?m=k:g=k,i=o,!(o=o[Ae=Y<<1|W]))return i[Ae]=f,e;if(D=+e._x.call(null,o.data),z=+e._y.call(null,o.data),t===D&&r===z)return f.next=o,i?i[Ae]=f:e._root=f,e;do i=i?i[Ae]=new Array(4):e._root=new Array(4),(W=t>=(T=(l+c)/2))?l=T:c=T,(Y=r>=(k=(m+g)/2))?m=k:g=k;while((Ae=Y<<1|W)===(De=(z>=k)<<1|D>=T));return i[De]=o,i[Ae]=f,e}function vb(e){var t,r,n=e.length,i,o,f=new Array(n),l=new Array(n),m=1/0,c=1/0,g=-1/0,T=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(f[r]=i,l[r]=o,i<m&&(m=i),i>g&&(g=i),o<c&&(c=o),o>T&&(T=o));if(m>g||c>T)return this;for(this.cover(m,c).cover(g,T),r=0;r<n;++r)Tc(this,f[r],l[r],e[r]);return this}function _b(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(n=Math.floor(t))+1;else{for(var f=i-r||1,l=this._root,m,c;r>e||e>=i||n>t||t>=o;)switch(c=(t<n)<<1|e<r,m=new Array(4),m[c]=l,l=m,f*=2,c){case 0:i=r+f,o=n+f;break;case 1:r=i-f,o=n+f;break;case 2:i=r+f,n=o-f;break;case 3:r=i-f,n=o-f;break}this._root&&this._root.length&&(this._root=l)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function yb(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function pb(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function tr(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function xb(e,t,r){var n,i=this._x0,o=this._y0,f,l,m,c,g=this._x1,T=this._y1,k=[],D=this._root,z,W;for(D&&k.push(new tr(D,i,o,g,T)),r==null?r=1/0:(i=e-r,o=t-r,g=e+r,T=t+r,r*=r);z=k.pop();)if(!(!(D=z.node)||(f=z.x0)>g||(l=z.y0)>T||(m=z.x1)<i||(c=z.y1)<o))if(D.length){var Y=(f+m)/2,Ae=(l+c)/2;k.push(new tr(D[3],Y,Ae,m,c),new tr(D[2],f,Ae,Y,c),new tr(D[1],Y,l,m,Ae),new tr(D[0],f,l,Y,Ae)),(W=(t>=Ae)<<1|e>=Y)&&(z=k[k.length-1],k[k.length-1]=k[k.length-1-W],k[k.length-1-W]=z)}else{var De=e-+this._x.call(null,D.data),Ce=t-+this._y.call(null,D.data),Ee=De*De+Ce*Ce;if(Ee<r){var Ve=Math.sqrt(r=Ee);i=e-Ve,o=t-Ve,g=e+Ve,T=t+Ve,n=D.data}}return n}function Eb(e){if(isNaN(g=+this._x.call(null,e))||isNaN(T=+this._y.call(null,e)))return this;var t,r=this._root,n,i,o,f=this._x0,l=this._y0,m=this._x1,c=this._y1,g,T,k,D,z,W,Y,Ae;if(!r)return this;if(r.length)for(;;){if((z=g>=(k=(f+m)/2))?f=k:m=k,(W=T>=(D=(l+c)/2))?l=D:c=D,t=r,!(r=r[Y=W<<1|z]))return this;if(!r.length)break;(t[Y+1&3]||t[Y+2&3]||t[Y+3&3])&&(n=t,Ae=Y)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):t?(o?t[Y]=o:delete t[Y],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[Ae]=r:this._root=r),this):(this._root=o,this)}function wb(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function Ab(){return this._root}function Tb(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Sb(e){var t=[],r,n=this._root,i,o,f,l,m;for(n&&t.push(new tr(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,o=r.x0,f=r.y0,l=r.x1,m=r.y1)&&n.length){var c=(o+l)/2,g=(f+m)/2;(i=n[3])&&t.push(new tr(i,c,g,l,m)),(i=n[2])&&t.push(new tr(i,o,g,c,m)),(i=n[1])&&t.push(new tr(i,c,f,l,g)),(i=n[0])&&t.push(new tr(i,o,f,c,g))}return this}function kb(e){var t=[],r=[],n;for(this._root&&t.push(new tr(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var o,f=n.x0,l=n.y0,m=n.x1,c=n.y1,g=(f+m)/2,T=(l+c)/2;(o=i[0])&&t.push(new tr(o,f,l,g,T)),(o=i[1])&&t.push(new tr(o,g,l,m,T)),(o=i[2])&&t.push(new tr(o,f,T,g,c)),(o=i[3])&&t.push(new tr(o,g,T,m,c))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function Rb(e){return e[0]}function Cb(e){return arguments.length?(this._x=e,this):this._x}function Lb(e){return e[1]}function Ob(e){return arguments.length?(this._y=e,this):this._y}function Sc(e,t,r){var n=new Tl(t??Rb,r??Lb,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function Tl(e,t,r,n,i,o){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function Ju(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var ar=Sc.prototype=Tl.prototype;ar.copy=function(){var e=new Tl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=Ju(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=Ju(n));return e};ar.add=gb;ar.addAll=vb;ar.cover=_b;ar.data=yb;ar.extent=pb;ar.find=xb;ar.remove=Eb;ar.removeAll=wb;ar.root=Ab;ar.size=Tb;ar.visit=Sb;ar.visitAfter=kb;ar.x=Cb;ar.y=Ob;const Gb=e=>({x:e&18,y:e&17,found:e&16,visible:e&8,e:e&32,label:e&4}),$u=e=>({x:e[1](e[4])||0,y:e[0](e[4])||0,found:e[4],visible:e[3],e:e[5],label:e[2]});function Nb(e){let t,r,n,i,o;const f=e[22].default,l=It(f,e,e[21],$u);return{c(){t=Xt("div"),r=ha(),l&&l.c(),this.h()},l(m){t=Wt(m,"DIV",{class:!0}),it(t).forEach(Ne),r=ma(m),l&&l.l(m),this.h()},h(){J(t,"class","bg svelte-n2rx0m")},m(m,c){ot(m,t,c),ot(m,r,c),l&&l.m(m,c),n=!0,i||(o=[Zt(t,"mousemove",e[11]),Zt(t,"mouseout",e[23]),Zt(t,"blur",e[24])],i=!0)},p(m,[c]){l&&l.p&&(!n||c&2097215)&&Pt(l,f,m,m[21],n?jt(f,m[21],c,Gb):zt(m[21]),$u)},i(m){n||(gt(l,m),n=!0)},o(m){xt(l,m),n=!1},d(m){m&&(Ne(t),Ne(r)),l&&l.d(m),i=!1,vf(o)}}}function Db(e,t,r){let n,i,o,f,l,m,c,g,{$$slots:T={},$$scope:k}=t;const{data:D,xGet:z,yGet:W,width:Y,height:Ae}=Jt("LayerCake");xe(e,D,ke=>r(16,f=ke)),xe(e,z,ke=>r(19,c=ke)),xe(e,W,ke=>r(20,g=ke)),xe(e,Y,ke=>r(18,m=ke)),xe(e,Ae,ke=>r(17,l=ke));let De="",Ce=!1,Ee={},Ve={};function Q(ke){for(var dt=0;dt<f.length;dt++)if(ke.id==f[dt].id)return ke.entry;return"undefined"}let{x:Te="x"}=t,{y:Ie="y"}=t,{searchRadius:Ze=void 0}=t,{dataset:lt=void 0}=t;function Xe(ke){r(5,Ve=ke);const dt=`layer${Te.toUpperCase()}`,vt=`layer${Ie.toUpperCase()}`;r(4,Ee=o.find(ke[dt],ke[vt],Ze)||{}),r(3,Ce=Object.keys(Ee).length>0),r(2,De=Q(Ee))}const ze=()=>r(3,Ce=!1),Se=()=>r(3,Ce=!1);return e.$$set=ke=>{"x"in ke&&r(12,Te=ke.x),"y"in ke&&r(13,Ie=ke.y),"searchRadius"in ke&&r(14,Ze=ke.searchRadius),"dataset"in ke&&r(15,lt=ke.dataset),"$$scope"in ke&&r(21,k=ke.$$scope)},e.$$.update=()=>{e.$$.dirty&1576960&&r(1,n=Te==="x"?c:g),e.$$.dirty&1581056&&r(0,i=Ie==="y"?g:c),e.$$.dirty&491523&&(o=Sc().extent([[-1,-1],[m+1,l+1]]).x(n).y(i).addAll(lt||f))},[i,n,De,Ce,Ee,Ve,D,z,W,Y,Ae,Xe,Te,Ie,Ze,lt,f,l,m,c,g,k,T,ze,Se]}class eg extends ur{constructor(t){super(),cr(this,t,Db,Nb,nr,{x:12,y:13,searchRadius:14,dataset:15})}}export{Jb as A,Yb as H,qb as L,eg as Q,Qb as S,Wb as T,Kb as W,Pb as a,lf as b,dm as c,$b as d,zb as e,Zb as f,lo as g,Hb as h,jb as i,Xb as j,Vb as k,Ub as l,Zr as t};
